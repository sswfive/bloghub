
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="AstonWang">
      
      
        <link rel="canonical" href="https://sswfive.github.io/bloghub/python/pylibs/supervisor/">
      
      
        <link rel="prev" href="../apscheduler/">
      
      
        <link rel="next" href="../subprocess/">
      
      
      <link rel="icon" href="../../../customize/assets/head.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.32">
    
    
      
        <title>Supervisor之进程管理工具 - IceCoffee[空谷幽兰]</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.3cba04c6.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    

      
    
<!-- 数学公式格式支持，用html嵌入的方式支持数学公式自动换行，mathjax似乎要支持但是现在还没实现。
Automatic line breaking has not yet been implemented in MathJax version 3, 
but is high on our list for inclusion in a future release. -->


    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../customize/stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../../customize/stylesheets/customize.css">
    
      <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config",""),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#supervisor" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="IceCoffee[空谷幽兰]" class="md-header__button md-logo" aria-label="IceCoffee[空谷幽兰]" data-md-component="logo">
      
  <img src="../../../customize/assets/head.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            IceCoffee[空谷幽兰]
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Supervisor之进程管理工具
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="关闭自动模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="关闭自动模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8v2m9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.71-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="orange" data-md-color-accent="blue"  aria-label="切换至夜间模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换至夜间模式" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="切换至日间模式"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="切换至日间模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/sswfive/bloghub" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    bloghub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
    
  
  HelloWorld

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
    
  
  Python编程

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../golang/go_learn_docs/" class="md-tabs__link">
          
  
    
  
  Go编程

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../notehub/mlops/kserve_deploy/" class="md-tabs__link">
          
  
    
  
  MLOps技术

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../notehub/cloud_native/k8s/helm_usage/" class="md-tabs__link">
          
  
    
  
  云原生技术

        </a>
      </li>
    
  

    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../notehub/index.md" class="md-tabs__link">
          
  
    
  
  综合知识库

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../toolbox/tools_software_dev_collection/" class="md-tabs__link">
          
  
    
  
  工具小栈

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../notehub/solution/" class="md-tabs__link">
          
  
    
  
  迎刃而解

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../thinking/" class="md-tabs__link">
          
  
    
  
  随思一言

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../tags/" class="md-tabs__link">
          
  
    
  
  标签分类

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="IceCoffee[空谷幽兰]" class="md-nav__button md-logo" aria-label="IceCoffee[空谷幽兰]" data-md-component="logo">
      
  <img src="../../../customize/assets/head.png" alt="logo">

    </a>
    IceCoffee[空谷幽兰]
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/sswfive/bloghub" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    bloghub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../.." class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    HelloWorld
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            HelloWorld
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/profile/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    个人主页
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Python编程
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Python编程
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    工程实践
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            工程实践
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pybestpractices/py_logger_usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python中不同场景中使用日志的方式
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pybestpractices/pypi_source_usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    常用Pypi源汇总及使用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pybestpractices/docker_build_python_image/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker构建Python镜像实践指南
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pybestpractices/env_package_selection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python版本及包管理工具选型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pybestpractices/py_data_struct_summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python中的数据类型用法剖析
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pybestpractices/py_security_guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python安全指南[摘录]
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pybestpractices/pypi_python_pkg_publish/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    使用pypi进行python包的发布
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pybestpractices/py_dev_tool_selection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python常用开发工具
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pybestpractices/jupyter_tool_usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jupyter系列工具的使用总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pybestpractices/py2_py3_update/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    python2到python3的变化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pybestpractices/conda_usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conda的实践应用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pybestpractices/coding_standard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python编码规范
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" checked>
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    常用类库
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            常用类库
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../awesome_libs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python常用库汇总[awesome]
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../daily_libs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python每日一库概览[usage]
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pyflink/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PyFlink之分布式计算
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mlflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MLflow之模型生命周期管理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pathlib/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pathlib之使用面向对象的方式操作路径
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../apscheduler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    APScheduler之定时任务工具
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Supervisor之进程管理工具
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Supervisor之进程管理工具
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      概述：
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      使用：
    </span>
  </a>
  
    <nav class="md-nav" aria-label="使用：">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      安装
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      常用命令：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      快速使用：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      配置文件解读：
    </span>
  </a>
  
    <nav class="md-nav" aria-label="配置文件解读：">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      常用配置解读
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      详细配置解读：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supervisor_1" class="md-nav__link">
    <span class="md-ellipsis">
      Supervisor控制台
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      分组管理
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supervisor_2" class="md-nav__link">
    <span class="md-ellipsis">
      Supervisor配置开机启动
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Supervisor配置开机启动">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      方式一：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      方式二：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      配置案例:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="配置案例:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#django" class="md-nav__link">
    <span class="md-ellipsis">
      Django的配置文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#celery" class="md-nav__link">
    <span class="md-ellipsis">
      Celery的配置文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redis" class="md-nav__link">
    <span class="md-ellipsis">
      Redis的配置文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tomcat" class="md-nav__link">
    <span class="md-ellipsis">
      tomcat的配置文件
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      分组管理的配置文件
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      常见问题：
    </span>
  </a>
  
    <nav class="md-nav" aria-label="常见问题：">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1unixtmpsupervisorsock-no-such-file" class="md-nav__link">
    <span class="md-ellipsis">
      问题1：unix:///tmp/supervisor.sock no such file的问题
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2commandsupervisor" class="md-nav__link">
    <span class="md-ellipsis">
      问题2：command中指定的进程已经起来，但supervisor还不断重启
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3supervisord" class="md-nav__link">
    <span class="md-ellipsis">
      问题3：启动了多个supervisord服务，导致无法正常关闭服务
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../subprocess/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    subprocess之子进程管理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pandas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pandas之数据分析工具
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../numpy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Numpy之数据计算工具
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pickle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pickle之数据序列化工具的使用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../collections/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python之collections的用法
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Django
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Django
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../django/django_orm_fields/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    django中ORM字段总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../django/django_orm_query/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    django中ORM查询方法总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../django/django_lazyobject_analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    django源码学习之LazyObject
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../django/django_websocket_usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    django中使用websocket
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../django/django_middleware_usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    django中间件的使用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../django/django_class_view_usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    django中类视图的使用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../django/django_bulk_create/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    django批量导入数据
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../django/django_17_db_migrate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    django1.7以前的版本执行数据库迁移
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python语法
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Python语法
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pysyntax/py_gc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    python中的GC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pysyntax/py_gil/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    python中的GIL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pysyntax/py_mem_manage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    python中的内存管理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pysyntax/asyncio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python中的Asyncio
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pysyntax/futures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    python中的Futures
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pysyntax/generator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    生成器generator用法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pysyntax/decorator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    装饰器(decorator)用法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pysyntax/iterator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    迭代器iterator用法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pysyntax/closure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    闭包(closure)用法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pysyntax/oop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    python中的面向对象编程OOP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pysyntax/def_and_lambda/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    def函数与lambda函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pysyntax/property/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    python中的property
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pysyntax/deep_copy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    python中浅拷贝与深拷贝
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pysyntax/exception/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    python异常处理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pysyntax/is_and_equals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    python中is和equals的区别
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pysyntax/list_tuple_dict/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    python之容器类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pysyntax/variable_comment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    python变量与注释
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pysyntax/py_basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python基础知识梳理
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Go编程
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Go编程
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../golang/go_learn_docs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go学习资料库
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    工程实践
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            工程实践
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../golang/gobestpractices/go_install_guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go在不同平台的安装及配置指南
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../golang/gobestpractices/go_install_guide_2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go环境安装和配置
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../golang/gobestpractices/go_security_guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go安全指南[摘录]
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../golang/gobestpractices/go_code_standard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go编码规范
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Go语法
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Go语法
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../golang/gosyntax/go_basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go的基本知识点
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../golang/gosyntax/go_data_struct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go的基本数据类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../golang/gosyntax/go_data_type/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go的容器数据类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../golang/gosyntax/go_point/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go的指针和结构体
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    MLOps技术
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            MLOps技术
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    模型部署
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            模型部署
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/mlops/kserve_deploy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kserve安装部署
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    云原生技术
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            云原生技术
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Kubernetes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Kubernetes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1_1" id="__nav_5_1_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    安装部署
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_1">
            <span class="md-nav__icon md-icon"></span>
            安装部署
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/k8s/helm_usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    k8s包管理工具Helm的使用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/k8s/kubeadm_deploy_k8s_cluster_v1279/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    kubeadm部署k8s集群指南(v1.27.9)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/k8s/ktconnect_usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    k8s实用工具之KtConnect
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/k8s/k8s_ectd_mount_memo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    k8s中etcd挂载内存卷步骤
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/k8s/k8s_dashboard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    k8s的Dashboard安装
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/k8s/k8s_common_qa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    k8s部署常见问题汇总
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/k8s/k8s_usage_skills/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    k8s实用小技巧
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/k8s/k8s_common_cmd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    k8s常用命令总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/k8s/kubeadm_deploy_k8s_cluster_v1194/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    kubeadm部署k8s集群指南(v1.19.4)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_2" >
        
          
          <label class="md-nav__link" for="__nav_5_1_2" id="__nav_5_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    存储组件
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_2">
            <span class="md-nav__icon md-icon"></span>
            存储组件
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/k8s/longhorn_deploy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Longhorn部署与使用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/k8s/k8s_storageclass_nfs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    k8s的storageclass-nfs安装和使用
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_3" >
        
          
          <label class="md-nav__link" for="__nav_5_1_3" id="__nav_5_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    基础知识
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_3">
            <span class="md-nav__icon md-icon"></span>
            基础知识
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/k8s/k8s_core_name/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    k8s核心概念
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/k8s/yaml_usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    k8s中yaml文件的编写和使用
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DockerCompose
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            DockerCompose
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/dockercompose/docker_compose_software_usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    docker-compose常用软件安装汇总
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/dockercompose/docker_compose_summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    docker-compose使用总结
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Docker
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Docker
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/docker/docker_image_pull_problem_for_solution/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker镜像无法拉取问题的解决方案
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/docker/docker_detail_commands/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    查看Docker容器启动的详细命令及参数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/docker/docker_command/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker常用命令速查
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/docker/docker_practical_skills/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker实用技巧
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/docker/docker_common_software_install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker安装常用软件汇总
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/docker/docker_registry_usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    docker-registry搭建与使用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/docker/dockerifle_guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dockerfile常用命令与编写指南
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/docker/dockerignore_template/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dockerignore文件
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/docker/docker_install_guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker安装卸载指南
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/cloud_native/docker/docker_arch_and_principle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker架构和原理学习
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    综合知识库
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            综合知识库
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
        
          
          <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    软件工程
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            软件工程
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/index.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    None
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/software_engineering/algo_hash.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    None
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    大数据技术
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            大数据技术
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/bigdata/spark/spark_distribute_compute.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    None
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    数据结构与算法
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            数据结构与算法
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/codecore/data_struct/data_struct_and_algo_learn_materials.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    None
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    设计模式
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            设计模式
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/codecore/design_patterns/design_patterns_categories.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    None
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    工具小栈
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            工具小栈
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/tools_software_dev_collection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    常用软件工具集合
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/tools_ai/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    甄选GPT-AI工具
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/tools_common/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    甄选实用软件
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/tools_cheatsheet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    常用软件命令速查
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/tools_plugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    常用插件集
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/macos_quickly_key/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mac常用快捷键
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_7" >
        
          
          <label class="md-nav__link" for="__nav_7_7" id="__nav_7_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Plugins
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_7">
            <span class="md-nav__icon md-icon"></span>
            Plugins
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/plugins/chrome_plugins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    常用Chrome插件
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_8" >
        
          
          <label class="md-nav__link" for="__nav_7_8" id="__nav_7_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Git
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_8">
            <span class="md-nav__icon md-icon"></span>
            Git
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/git/git_usage_summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    git使用总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/git/git_config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    git实用配置
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/git/git_common_install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    git常用软件安装
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/git/gitflow_usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    gitflow的使用
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_9" >
        
          
          <label class="md-nav__link" for="__nav_7_9" id="__nav_7_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    开发软件安装
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_9">
            <span class="md-nav__icon md-icon"></span>
            开发软件安装
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/dev_software/etcd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Etcd集群部署
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/dev_software/flink_on_yarn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flink(On YARN)安装部署
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/dev_software/spark_on_yarn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spark(ON YARN）安装部署
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/dev_software/YARN/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    YARN集群安装部署
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/dev_software/kafka/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    kafka安装部署
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/dev_software/zookeeper/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zookeeper安装部署
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/dev_software/hadoop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hadoop安装部署
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/dev_software/mongodb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mongodb的安装指南
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/dev_software/nginx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nginx部署
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/dev_software/postgresql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PostgreSQL主从部署
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/dev_software/rabbitmq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RabbitMQ介绍和使用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/dev_software/redis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Redis主从-哨兵部署
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/dev_software/zabbix/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zabbix常用配置
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../toolbox/dev_software/java/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Java环境安装
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../notehub/solution/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    迎刃而解
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            迎刃而解
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_2" >
        
          
          <label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ops手记
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2">
            <span class="md-nav__icon md-icon"></span>
            Ops手记
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/solution/opshub/centos_yum_source_delete_solution/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Centos的yum源误删解决方法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/solution/opshub/mac_brew_service_error_solution/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mac使用brew services报错
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/solution/opshub/server_disk_full_solution/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    服务器磁盘空间满的解决办法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/solution/opshub/win10_git_chinese_solution/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    win10的cmd中操作git中文乱码解决方法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/solution/bughub/window_install_pip_bug/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    window环境中pip安装报错
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_3" >
        
          
          <label class="md-nav__link" for="__nav_8_3" id="__nav_8_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Bug记录
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_3">
            <span class="md-nav__icon md-icon"></span>
            Bug记录
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/solution/bughub/conda_rename_env_bug/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conda修改虚拟环境名导致异常
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/solution/bughub/jupyter_asyncio_run_bug/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jupyter运行asyncio run报错
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/solution/bughub/jupyter_matplotlib_font_bug/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jupyter matplotlib画图中文字体缺失
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/solution/bughub/jupyterhub_deploy_bug/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jupyterhub离线部署踩坑总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notehub/solution/bughub/rsa_encryption_bug/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    多语言之间的RSA加解密问题
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../thinking/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    随思一言
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9" id="__nav_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            随思一言
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../thinking/posts/06_learn_top2down_or_bottom2up/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    学习应该自底向上,还是自顶向下
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../thinking/posts/05_personal_focus_and_abandon/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    个人战略上的聚焦和放弃
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../thinking/posts/04_wisdom_of_asking_questions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    提问的智慧
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../thinking/posts/03_learn_open_source_project/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    如何高效学习开源项目
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../thinking/posts/02_tech_yiyan/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    技术一言
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../thinking/posts/01_smart_to_do_things/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    如何更聪明的做事情
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../tags/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    标签分类
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            标签分类
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      概述：
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      使用：
    </span>
  </a>
  
    <nav class="md-nav" aria-label="使用：">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      安装
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      常用命令：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      快速使用：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      配置文件解读：
    </span>
  </a>
  
    <nav class="md-nav" aria-label="配置文件解读：">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      常用配置解读
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      详细配置解读：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supervisor_1" class="md-nav__link">
    <span class="md-ellipsis">
      Supervisor控制台
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      分组管理
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supervisor_2" class="md-nav__link">
    <span class="md-ellipsis">
      Supervisor配置开机启动
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Supervisor配置开机启动">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      方式一：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      方式二：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      配置案例:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="配置案例:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#django" class="md-nav__link">
    <span class="md-ellipsis">
      Django的配置文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#celery" class="md-nav__link">
    <span class="md-ellipsis">
      Celery的配置文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redis" class="md-nav__link">
    <span class="md-ellipsis">
      Redis的配置文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tomcat" class="md-nav__link">
    <span class="md-ellipsis">
      tomcat的配置文件
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      分组管理的配置文件
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      常见问题：
    </span>
  </a>
  
    <nav class="md-nav" aria-label="常见问题：">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1unixtmpsupervisorsock-no-such-file" class="md-nav__link">
    <span class="md-ellipsis">
      问题1：unix:///tmp/supervisor.sock no such file的问题
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2commandsupervisor" class="md-nav__link">
    <span class="md-ellipsis">
      问题2：command中指定的进程已经起来，但supervisor还不断重启
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3supervisord" class="md-nav__link">
    <span class="md-ellipsis">
      问题3：启动了多个supervisord服务，导致无法正常关闭服务
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  
<nav class="md-tags" >
  
    
    
    
      <a href="../../../tags/#python" class="md-tag">Python</a>
    
  
</nav>


  
    <a href="https://github.com/sswfive/bloghub/edit/main/docs/python/pylibs/supervisor.md" title="编辑此页" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/sswfive/bloghub/raw/main/docs/python/pylibs/supervisor.md" title="查看本页的源代码" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg>
    </a>
  


<h1 id="supervisor">Supervisor之进程管理工具<a class="headerlink" href="#supervisor" title="Permanent link">&para;</a></h1>
<h2 id="_1">概述：<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<blockquote>
<p>官方文档：<a href="http://supervisord.org/">http://supervisord.org/</a></p>
</blockquote>
<p>supervisor是用python开发的一款用于linux操作系统的进程管理工具，supervisor可以高效地实现对进程状态的监控及统一管理</p>
<ul>
<li>supervisor分为supervisord（服务端）和supervisorctl（客户端）两部分</li>
<li>supervisord作为服务端负责所有的注册进程的启动及监控，出现崩溃的服务时会自动重启</li>
<li>supervisorctl是客户端，可以实现对子进程的管理，如启动、停止、重启等</li>
</ul>
<p>注意：</p>
<ul>
<li>supervisord 要求管理的程序是非 daemon 程序， 因此用supervisord 来管理进程，进程需要以非daemon的方式启动。</li>
<li>例如：管理nginx，必须在 nginx 的配置文件里添加一行设置 daemon off 让 nginx 以非 daemon 方式启动。</li>
<li>每次修改配置文件后需进入 supervisorctl，执行 reload， 改动部分才能生效。</li>
</ul>
<h2 id="_2">使用：<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<h3 id="_3">安装<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a>pip<span class="w"> </span>install<span class="w"> </span>supervisor
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="c1"># 生成配置文件到指定路径（此处路径指定为了/etc/supervisord.conf）</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a>echo_supervisord_conf<span class="w"> </span>&gt;<span class="w"> </span>/etc/supervisord.conf
</code></pre></div></td></tr></table></div>
<h3 id="_4">常用命令：<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>supervisord: 服务端命令：
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span>
<span class="normal"><a href="#__codelineno-1-2">2</a></span>
<span class="normal"><a href="#__codelineno-1-3">3</a></span>
<span class="normal"><a href="#__codelineno-1-4">4</a></span>
<span class="normal"><a href="#__codelineno-1-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="c1"># 启动服务</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a>supervisord<span class="w"> </span>-c<span class="w"> </span>/etc/supervisord.conf
<a id="__codelineno-1-3" name="__codelineno-1-3"></a>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="c1"># 查看是否在运行</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a>ps<span class="w"> </span>aux<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>supervisord
</code></pre></div></td></tr></table></div></p>
</li>
<li>
<p>supervisorctl: 客户端命令：
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span>
<span class="normal"><a href="#__codelineno-2-3">3</a></span>
<span class="normal"><a href="#__codelineno-2-4">4</a></span>
<span class="normal"><a href="#__codelineno-2-5">5</a></span>
<span class="normal"><a href="#__codelineno-2-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a>supervisorctl<span class="w"> </span>status<span class="w">                         </span><span class="c1"># 查看进程状态</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a>supervisorctl<span class="w"> </span>start<span class="w"> </span>program_name<span class="w">             </span><span class="c1"># 启动program_name进程</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a>supervisorctl<span class="w"> </span>stop<span class="w"> </span>program_name<span class="w">              </span><span class="c1"># 终止program_name进程</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a>supervisorctl<span class="w"> </span>restart<span class="w"> </span>program_name<span class="w">           </span><span class="c1"># 重启program_name进程</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a>supervisorctl<span class="w"> </span>reread<span class="w">                         </span><span class="c1"># 更新配置，根据最新的配置启动所有程序</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a>supervisorctl<span class="w"> </span>update<span class="w">                         </span><span class="c1"># 更新配置，重启配置有变化的进程</span>
</code></pre></div></td></tr></table></div></p>
</li>
<li>
<p>supervisorctl: shell命令：
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span>
<span class="normal"><a href="#__codelineno-3-3">3</a></span>
<span class="normal"><a href="#__codelineno-3-4">4</a></span>
<span class="normal"><a href="#__codelineno-3-5">5</a></span>
<span class="normal"><a href="#__codelineno-3-6">6</a></span>
<span class="normal"><a href="#__codelineno-3-7">7</a></span>
<span class="normal"><a href="#__codelineno-3-8">8</a></span>
<span class="normal"><a href="#__codelineno-3-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a>supervisorctl<span class="w">                </span><span class="c1"># 进入shell命令行</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a>&gt;<span class="w"> </span>status<span class="w">                     </span><span class="c1"># 查看进程状态</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a>&gt;<span class="w"> </span>start<span class="w"> </span>program_name<span class="w">         </span><span class="c1"># 启动program_name进程</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a>&gt;<span class="w"> </span>stop<span class="w"> </span>program_name<span class="w">          </span><span class="c1"># 终止program_name进程</span>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a>&gt;<span class="w"> </span>restart<span class="w"> </span>program_name<span class="w">       </span><span class="c1"># 重启program_name进程</span>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a>&gt;<span class="w"> </span>reread<span class="w">                     </span><span class="c1"># 更新配置，根据最新的配置启动所有程序</span>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a>&gt;<span class="w"> </span>update<span class="w">                     </span><span class="c1"># 更新配置，重启配置有变化的进程</span>
<a id="__codelineno-3-8" name="__codelineno-3-8"></a>&gt;<span class="w"> </span>start<span class="w"> </span>fastapi:*<span class="w">            </span><span class="c1"># 启动 fastapi组 程序</span>
<a id="__codelineno-3-9" name="__codelineno-3-9"></a>&gt;<span class="w"> </span>stop<span class="w"> </span>fastapi:*<span class="w">             </span><span class="c1"># 停止 fastapi组 程序</span>
</code></pre></div></td></tr></table></div></p>
</li>
</ul>
<h3 id="_5">快速使用：<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<ul>
<li>step1：编辑supervisor配置文件</li>
<li>
<p>在配置文件的末尾加上[include]内容
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span>
<span class="normal"><a href="#__codelineno-4-2">2</a></span>
<span class="normal"><a href="#__codelineno-4-3">3</a></span>
<span class="normal"><a href="#__codelineno-4-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a>...
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="o">[</span>include<span class="o">]</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="nv">files</span><span class="o">=</span>/etc/supervisor.d/*.conf<span class="w">  </span><span class="c1">#若你本地无/etc/supervisor.d目录，请自建</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a>...
</code></pre></div></td></tr></table></div></p>
</li>
<li>
<p>step2：新建/etc/supervisor.d/.demo.conf 配置文件
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span>
<span class="normal"><a href="#__codelineno-5-3">3</a></span>
<span class="normal"><a href="#__codelineno-5-4">4</a></span>
<span class="normal"><a href="#__codelineno-5-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="o">[</span>program:自定义的服务名称<span class="o">]</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="nv">command</span><span class="o">=</span>python3<span class="w"> </span>/xxxx/main.py<span class="w">  </span><span class="c1">#服务的启动命令，在这里用的python环境为supervisor安装的环境，若想指定其他python环境则可指定python包的位置如command=xxxx/xxxx/bin/python3 /xxxx/main.py便可</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="nv">process_name</span><span class="o">=</span>%<span class="o">(</span>program_name<span class="o">)</span>s
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="nv">stdout_logfile</span><span class="o">=</span>/home/task.log<span class="w">  </span><span class="c1">#输出日志文件路径，可根据需要自定义</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="nv">stderr_logfile</span><span class="o">=</span>/home/task.log<span class="w">  </span><span class="c1">#报错日志文件路径，可根据需要自定义</span>
</code></pre></div></td></tr></table></div></p>
</li>
<li>
<p>step3:启动
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a>supervisord<span class="w"> </span>-c<span class="w"> </span>/etc/supervisor.conf
</code></pre></div></td></tr></table></div></p>
</li>
</ul>
<h2 id="_6">配置文件解读：<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h2>
<h3 id="_7">常用配置解读<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<ul>
<li>打开配置文件： /etc/supervisord.conf
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-7-10">10</a></span>
<span class="normal"><a href="#__codelineno-7-11">11</a></span>
<span class="normal"><a href="#__codelineno-7-12">12</a></span>
<span class="normal"><a href="#__codelineno-7-13">13</a></span>
<span class="normal"><a href="#__codelineno-7-14">14</a></span>
<span class="normal"><a href="#__codelineno-7-15">15</a></span>
<span class="normal"><a href="#__codelineno-7-16">16</a></span>
<span class="normal"><a href="#__codelineno-7-17">17</a></span>
<span class="normal"><a href="#__codelineno-7-18">18</a></span>
<span class="normal"><a href="#__codelineno-7-19">19</a></span>
<span class="normal"><a href="#__codelineno-7-20">20</a></span>
<span class="normal"><a href="#__codelineno-7-21">21</a></span>
<span class="normal"><a href="#__codelineno-7-22">22</a></span>
<span class="normal"><a href="#__codelineno-7-23">23</a></span>
<span class="normal"><a href="#__codelineno-7-24">24</a></span>
<span class="normal"><a href="#__codelineno-7-25">25</a></span>
<span class="normal"><a href="#__codelineno-7-26">26</a></span>
<span class="normal"><a href="#__codelineno-7-27">27</a></span>
<span class="normal"><a href="#__codelineno-7-28">28</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="o">[</span>unix_http_server<span class="o">]</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="nv">file</span><span class="o">=</span>/tmp/supervisor.sock<span class="w">   </span><span class="p">;</span>UNIX<span class="w"> </span>socket<span class="w"> </span>文件，supervisorctl<span class="w"> </span>会使用
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="p">;</span><span class="nv">chmod</span><span class="o">=</span><span class="m">0700</span><span class="w">                 </span><span class="p">;</span>socket文件的mode，默认是0700
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="p">;</span><span class="nv">chown</span><span class="o">=</span>nobody:nogroup<span class="w">       </span><span class="p">;</span>socket文件的owner，格式：uid:gid
<a id="__codelineno-7-5" name="__codelineno-7-5"></a>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="o">[</span>inet_http_server<span class="o">]</span><span class="w">         </span><span class="p">;</span>HTTP服务器，提供web管理界面
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="nv">port</span><span class="o">=</span><span class="m">0</span>.0.0.0:9001<span class="w">          </span><span class="p">;</span>Web管理后台运行的IP和端口，如果开放到公网，需要注意安全性
<a id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="nv">username</span><span class="o">=</span>user<span class="w">              </span><span class="p">;</span>登录管理后台的用户名
<a id="__codelineno-7-9" name="__codelineno-7-9"></a><span class="nv">password</span><span class="o">=</span><span class="m">123</span><span class="w">               </span><span class="p">;</span>登录管理后台的密码
<a id="__codelineno-7-10" name="__codelineno-7-10"></a>
<a id="__codelineno-7-11" name="__codelineno-7-11"></a><span class="o">[</span>supervisord<span class="o">]</span>
<a id="__codelineno-7-12" name="__codelineno-7-12"></a><span class="nv">logfile</span><span class="o">=</span>/tmp/supervisord.log<span class="w"> </span><span class="p">;</span>日志文件，默认是<span class="w"> </span><span class="nv">$CWD</span>/supervisord.log
<a id="__codelineno-7-13" name="__codelineno-7-13"></a><span class="nv">logfile_maxbytes</span><span class="o">=</span>50MB<span class="w">        </span><span class="p">;</span>日志文件大小，超出会rotate，默认<span class="w"> </span>50MB，如果设成0，表示不限制大小
<a id="__codelineno-7-14" name="__codelineno-7-14"></a><span class="nv">logfile_backups</span><span class="o">=</span><span class="m">10</span><span class="w">           </span><span class="p">;</span>日志文件保留备份数量默认10，设为0表示不备份
<a id="__codelineno-7-15" name="__codelineno-7-15"></a><span class="nv">loglevel</span><span class="o">=</span>info<span class="w">                </span><span class="p">;</span>日志级别，默认info，其它:<span class="w"> </span>debug,warn,trace
<a id="__codelineno-7-16" name="__codelineno-7-16"></a><span class="nv">pidfile</span><span class="o">=</span>/tmp/supervisord.pid<span class="w"> </span><span class="p">;</span>pid<span class="w"> </span>文件
<a id="__codelineno-7-17" name="__codelineno-7-17"></a><span class="nv">nodaemon</span><span class="o">=</span><span class="nb">false</span><span class="w">               </span><span class="p">;</span>是否在前台启动，默认是false，即以<span class="w"> </span>daemon<span class="w"> </span>的方式启动
<a id="__codelineno-7-18" name="__codelineno-7-18"></a><span class="nv">minfds</span><span class="o">=</span><span class="m">1024</span><span class="w">                  </span><span class="p">;</span>可以打开的文件描述符的最小值，默认<span class="w"> </span><span class="m">1024</span>
<a id="__codelineno-7-19" name="__codelineno-7-19"></a><span class="nv">minprocs</span><span class="o">=</span><span class="m">200</span><span class="w">                 </span><span class="p">;</span>可以打开的进程数的最小值，默认<span class="w"> </span><span class="m">200</span>
<a id="__codelineno-7-20" name="__codelineno-7-20"></a>
<a id="__codelineno-7-21" name="__codelineno-7-21"></a><span class="o">[</span>supervisorctl<span class="o">]</span>
<a id="__codelineno-7-22" name="__codelineno-7-22"></a><span class="nv">serverurl</span><span class="o">=</span>unix:///tmp/supervisor.sock<span class="w"> </span><span class="p">;</span>通过UNIX<span class="w"> </span>socket连接supervisord，路径与unix_http_server部分的file一致
<a id="__codelineno-7-23" name="__codelineno-7-23"></a><span class="p">;</span><span class="nv">serverurl</span><span class="o">=</span>http://127.0.0.1:9001<span class="w"> </span><span class="p">;</span><span class="w"> </span>通过HTTP的方式连接supervisord
<a id="__codelineno-7-24" name="__codelineno-7-24"></a>
<a id="__codelineno-7-25" name="__codelineno-7-25"></a>
<a id="__codelineno-7-26" name="__codelineno-7-26"></a><span class="c1"># 以上东西都不需要改，就加下面这行</span>
<a id="__codelineno-7-27" name="__codelineno-7-27"></a><span class="o">[</span>include<span class="o">]</span>
<a id="__codelineno-7-28" name="__codelineno-7-28"></a><span class="nv">files</span><span class="o">=</span>/etc/supervisor.d/*.conf<span class="w">  </span><span class="c1">#若你本地无/etc/supervisor.d目录，请自建</span>
</code></pre></div></td></tr></table></div></li>
</ul>
<h3 id="_8">详细配置解读：<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">  1</a></span>
<span class="normal"><a href="#__codelineno-8-2">  2</a></span>
<span class="normal"><a href="#__codelineno-8-3">  3</a></span>
<span class="normal"><a href="#__codelineno-8-4">  4</a></span>
<span class="normal"><a href="#__codelineno-8-5">  5</a></span>
<span class="normal"><a href="#__codelineno-8-6">  6</a></span>
<span class="normal"><a href="#__codelineno-8-7">  7</a></span>
<span class="normal"><a href="#__codelineno-8-8">  8</a></span>
<span class="normal"><a href="#__codelineno-8-9">  9</a></span>
<span class="normal"><a href="#__codelineno-8-10"> 10</a></span>
<span class="normal"><a href="#__codelineno-8-11"> 11</a></span>
<span class="normal"><a href="#__codelineno-8-12"> 12</a></span>
<span class="normal"><a href="#__codelineno-8-13"> 13</a></span>
<span class="normal"><a href="#__codelineno-8-14"> 14</a></span>
<span class="normal"><a href="#__codelineno-8-15"> 15</a></span>
<span class="normal"><a href="#__codelineno-8-16"> 16</a></span>
<span class="normal"><a href="#__codelineno-8-17"> 17</a></span>
<span class="normal"><a href="#__codelineno-8-18"> 18</a></span>
<span class="normal"><a href="#__codelineno-8-19"> 19</a></span>
<span class="normal"><a href="#__codelineno-8-20"> 20</a></span>
<span class="normal"><a href="#__codelineno-8-21"> 21</a></span>
<span class="normal"><a href="#__codelineno-8-22"> 22</a></span>
<span class="normal"><a href="#__codelineno-8-23"> 23</a></span>
<span class="normal"><a href="#__codelineno-8-24"> 24</a></span>
<span class="normal"><a href="#__codelineno-8-25"> 25</a></span>
<span class="normal"><a href="#__codelineno-8-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-8-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-8-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-8-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-8-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-8-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-8-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-8-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-8-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-8-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-8-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-8-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-8-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-8-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-8-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-8-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-8-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-8-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-8-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-8-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-8-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-8-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-8-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-8-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-8-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-8-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-8-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-8-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-8-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-8-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-8-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-8-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-8-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-8-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-8-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-8-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-8-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-8-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-8-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-8-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-8-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-8-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-8-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-8-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-8-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-8-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-8-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-8-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-8-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-8-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-8-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-8-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-8-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-8-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-8-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-8-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-8-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-8-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-8-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-8-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-8-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-8-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-8-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-8-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-8-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-8-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-8-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-8-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-8-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-8-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-8-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-8-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-8-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-8-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-8-100">100</a></span>
<span class="normal"><a href="#__codelineno-8-101">101</a></span>
<span class="normal"><a href="#__codelineno-8-102">102</a></span>
<span class="normal"><a href="#__codelineno-8-103">103</a></span>
<span class="normal"><a href="#__codelineno-8-104">104</a></span>
<span class="normal"><a href="#__codelineno-8-105">105</a></span>
<span class="normal"><a href="#__codelineno-8-106">106</a></span>
<span class="normal"><a href="#__codelineno-8-107">107</a></span>
<span class="normal"><a href="#__codelineno-8-108">108</a></span>
<span class="normal"><a href="#__codelineno-8-109">109</a></span>
<span class="normal"><a href="#__codelineno-8-110">110</a></span>
<span class="normal"><a href="#__codelineno-8-111">111</a></span>
<span class="normal"><a href="#__codelineno-8-112">112</a></span>
<span class="normal"><a href="#__codelineno-8-113">113</a></span>
<span class="normal"><a href="#__codelineno-8-114">114</a></span>
<span class="normal"><a href="#__codelineno-8-115">115</a></span>
<span class="normal"><a href="#__codelineno-8-116">116</a></span>
<span class="normal"><a href="#__codelineno-8-117">117</a></span>
<span class="normal"><a href="#__codelineno-8-118">118</a></span>
<span class="normal"><a href="#__codelineno-8-119">119</a></span>
<span class="normal"><a href="#__codelineno-8-120">120</a></span>
<span class="normal"><a href="#__codelineno-8-121">121</a></span>
<span class="normal"><a href="#__codelineno-8-122">122</a></span>
<span class="normal"><a href="#__codelineno-8-123">123</a></span>
<span class="normal"><a href="#__codelineno-8-124">124</a></span>
<span class="normal"><a href="#__codelineno-8-125">125</a></span>
<span class="normal"><a href="#__codelineno-8-126">126</a></span>
<span class="normal"><a href="#__codelineno-8-127">127</a></span>
<span class="normal"><a href="#__codelineno-8-128">128</a></span>
<span class="normal"><a href="#__codelineno-8-129">129</a></span>
<span class="normal"><a href="#__codelineno-8-130">130</a></span>
<span class="normal"><a href="#__codelineno-8-131">131</a></span>
<span class="normal"><a href="#__codelineno-8-132">132</a></span>
<span class="normal"><a href="#__codelineno-8-133">133</a></span>
<span class="normal"><a href="#__codelineno-8-134">134</a></span>
<span class="normal"><a href="#__codelineno-8-135">135</a></span>
<span class="normal"><a href="#__codelineno-8-136">136</a></span>
<span class="normal"><a href="#__codelineno-8-137">137</a></span>
<span class="normal"><a href="#__codelineno-8-138">138</a></span>
<span class="normal"><a href="#__codelineno-8-139">139</a></span>
<span class="normal"><a href="#__codelineno-8-140">140</a></span>
<span class="normal"><a href="#__codelineno-8-141">141</a></span>
<span class="normal"><a href="#__codelineno-8-142">142</a></span>
<span class="normal"><a href="#__codelineno-8-143">143</a></span>
<span class="normal"><a href="#__codelineno-8-144">144</a></span>
<span class="normal"><a href="#__codelineno-8-145">145</a></span>
<span class="normal"><a href="#__codelineno-8-146">146</a></span>
<span class="normal"><a href="#__codelineno-8-147">147</a></span>
<span class="normal"><a href="#__codelineno-8-148">148</a></span>
<span class="normal"><a href="#__codelineno-8-149">149</a></span>
<span class="normal"><a href="#__codelineno-8-150">150</a></span>
<span class="normal"><a href="#__codelineno-8-151">151</a></span>
<span class="normal"><a href="#__codelineno-8-152">152</a></span>
<span class="normal"><a href="#__codelineno-8-153">153</a></span>
<span class="normal"><a href="#__codelineno-8-154">154</a></span>
<span class="normal"><a href="#__codelineno-8-155">155</a></span>
<span class="normal"><a href="#__codelineno-8-156">156</a></span>
<span class="normal"><a href="#__codelineno-8-157">157</a></span>
<span class="normal"><a href="#__codelineno-8-158">158</a></span>
<span class="normal"><a href="#__codelineno-8-159">159</a></span>
<span class="normal"><a href="#__codelineno-8-160">160</a></span>
<span class="normal"><a href="#__codelineno-8-161">161</a></span>
<span class="normal"><a href="#__codelineno-8-162">162</a></span>
<span class="normal"><a href="#__codelineno-8-163">163</a></span>
<span class="normal"><a href="#__codelineno-8-164">164</a></span>
<span class="normal"><a href="#__codelineno-8-165">165</a></span>
<span class="normal"><a href="#__codelineno-8-166">166</a></span>
<span class="normal"><a href="#__codelineno-8-167">167</a></span>
<span class="normal"><a href="#__codelineno-8-168">168</a></span>
<span class="normal"><a href="#__codelineno-8-169">169</a></span>
<span class="normal"><a href="#__codelineno-8-170">170</a></span>
<span class="normal"><a href="#__codelineno-8-171">171</a></span>
<span class="normal"><a href="#__codelineno-8-172">172</a></span>
<span class="normal"><a href="#__codelineno-8-173">173</a></span>
<span class="normal"><a href="#__codelineno-8-174">174</a></span>
<span class="normal"><a href="#__codelineno-8-175">175</a></span>
<span class="normal"><a href="#__codelineno-8-176">176</a></span>
<span class="normal"><a href="#__codelineno-8-177">177</a></span>
<span class="normal"><a href="#__codelineno-8-178">178</a></span>
<span class="normal"><a href="#__codelineno-8-179">179</a></span>
<span class="normal"><a href="#__codelineno-8-180">180</a></span>
<span class="normal"><a href="#__codelineno-8-181">181</a></span>
<span class="normal"><a href="#__codelineno-8-182">182</a></span>
<span class="normal"><a href="#__codelineno-8-183">183</a></span>
<span class="normal"><a href="#__codelineno-8-184">184</a></span>
<span class="normal"><a href="#__codelineno-8-185">185</a></span>
<span class="normal"><a href="#__codelineno-8-186">186</a></span>
<span class="normal"><a href="#__codelineno-8-187">187</a></span>
<span class="normal"><a href="#__codelineno-8-188">188</a></span>
<span class="normal"><a href="#__codelineno-8-189">189</a></span>
<span class="normal"><a href="#__codelineno-8-190">190</a></span>
<span class="normal"><a href="#__codelineno-8-191">191</a></span>
<span class="normal"><a href="#__codelineno-8-192">192</a></span>
<span class="normal"><a href="#__codelineno-8-193">193</a></span>
<span class="normal"><a href="#__codelineno-8-194">194</a></span>
<span class="normal"><a href="#__codelineno-8-195">195</a></span>
<span class="normal"><a href="#__codelineno-8-196">196</a></span>
<span class="normal"><a href="#__codelineno-8-197">197</a></span>
<span class="normal"><a href="#__codelineno-8-198">198</a></span>
<span class="normal"><a href="#__codelineno-8-199">199</a></span>
<span class="normal"><a href="#__codelineno-8-200">200</a></span>
<span class="normal"><a href="#__codelineno-8-201">201</a></span>
<span class="normal"><a href="#__codelineno-8-202">202</a></span>
<span class="normal"><a href="#__codelineno-8-203">203</a></span>
<span class="normal"><a href="#__codelineno-8-204">204</a></span>
<span class="normal"><a href="#__codelineno-8-205">205</a></span>
<span class="normal"><a href="#__codelineno-8-206">206</a></span>
<span class="normal"><a href="#__codelineno-8-207">207</a></span>
<span class="normal"><a href="#__codelineno-8-208">208</a></span>
<span class="normal"><a href="#__codelineno-8-209">209</a></span>
<span class="normal"><a href="#__codelineno-8-210">210</a></span>
<span class="normal"><a href="#__codelineno-8-211">211</a></span>
<span class="normal"><a href="#__codelineno-8-212">212</a></span>
<span class="normal"><a href="#__codelineno-8-213">213</a></span>
<span class="normal"><a href="#__codelineno-8-214">214</a></span>
<span class="normal"><a href="#__codelineno-8-215">215</a></span>
<span class="normal"><a href="#__codelineno-8-216">216</a></span>
<span class="normal"><a href="#__codelineno-8-217">217</a></span>
<span class="normal"><a href="#__codelineno-8-218">218</a></span>
<span class="normal"><a href="#__codelineno-8-219">219</a></span>
<span class="normal"><a href="#__codelineno-8-220">220</a></span>
<span class="normal"><a href="#__codelineno-8-221">221</a></span>
<span class="normal"><a href="#__codelineno-8-222">222</a></span>
<span class="normal"><a href="#__codelineno-8-223">223</a></span>
<span class="normal"><a href="#__codelineno-8-224">224</a></span>
<span class="normal"><a href="#__codelineno-8-225">225</a></span>
<span class="normal"><a href="#__codelineno-8-226">226</a></span>
<span class="normal"><a href="#__codelineno-8-227">227</a></span>
<span class="normal"><a href="#__codelineno-8-228">228</a></span>
<span class="normal"><a href="#__codelineno-8-229">229</a></span>
<span class="normal"><a href="#__codelineno-8-230">230</a></span>
<span class="normal"><a href="#__codelineno-8-231">231</a></span>
<span class="normal"><a href="#__codelineno-8-232">232</a></span>
<span class="normal"><a href="#__codelineno-8-233">233</a></span>
<span class="normal"><a href="#__codelineno-8-234">234</a></span>
<span class="normal"><a href="#__codelineno-8-235">235</a></span>
<span class="normal"><a href="#__codelineno-8-236">236</a></span>
<span class="normal"><a href="#__codelineno-8-237">237</a></span>
<span class="normal"><a href="#__codelineno-8-238">238</a></span>
<span class="normal"><a href="#__codelineno-8-239">239</a></span>
<span class="normal"><a href="#__codelineno-8-240">240</a></span>
<span class="normal"><a href="#__codelineno-8-241">241</a></span>
<span class="normal"><a href="#__codelineno-8-242">242</a></span>
<span class="normal"><a href="#__codelineno-8-243">243</a></span>
<span class="normal"><a href="#__codelineno-8-244">244</a></span>
<span class="normal"><a href="#__codelineno-8-245">245</a></span>
<span class="normal"><a href="#__codelineno-8-246">246</a></span>
<span class="normal"><a href="#__codelineno-8-247">247</a></span>
<span class="normal"><a href="#__codelineno-8-248">248</a></span>
<span class="normal"><a href="#__codelineno-8-249">249</a></span>
<span class="normal"><a href="#__codelineno-8-250">250</a></span>
<span class="normal"><a href="#__codelineno-8-251">251</a></span>
<span class="normal"><a href="#__codelineno-8-252">252</a></span>
<span class="normal"><a href="#__codelineno-8-253">253</a></span>
<span class="normal"><a href="#__codelineno-8-254">254</a></span>
<span class="normal"><a href="#__codelineno-8-255">255</a></span>
<span class="normal"><a href="#__codelineno-8-256">256</a></span>
<span class="normal"><a href="#__codelineno-8-257">257</a></span>
<span class="normal"><a href="#__codelineno-8-258">258</a></span>
<span class="normal"><a href="#__codelineno-8-259">259</a></span>
<span class="normal"><a href="#__codelineno-8-260">260</a></span>
<span class="normal"><a href="#__codelineno-8-261">261</a></span>
<span class="normal"><a href="#__codelineno-8-262">262</a></span>
<span class="normal"><a href="#__codelineno-8-263">263</a></span>
<span class="normal"><a href="#__codelineno-8-264">264</a></span>
<span class="normal"><a href="#__codelineno-8-265">265</a></span>
<span class="normal"><a href="#__codelineno-8-266">266</a></span>
<span class="normal"><a href="#__codelineno-8-267">267</a></span>
<span class="normal"><a href="#__codelineno-8-268">268</a></span>
<span class="normal"><a href="#__codelineno-8-269">269</a></span>
<span class="normal"><a href="#__codelineno-8-270">270</a></span>
<span class="normal"><a href="#__codelineno-8-271">271</a></span>
<span class="normal"><a href="#__codelineno-8-272">272</a></span>
<span class="normal"><a href="#__codelineno-8-273">273</a></span>
<span class="normal"><a href="#__codelineno-8-274">274</a></span>
<span class="normal"><a href="#__codelineno-8-275">275</a></span>
<span class="normal"><a href="#__codelineno-8-276">276</a></span>
<span class="normal"><a href="#__codelineno-8-277">277</a></span>
<span class="normal"><a href="#__codelineno-8-278">278</a></span>
<span class="normal"><a href="#__codelineno-8-279">279</a></span>
<span class="normal"><a href="#__codelineno-8-280">280</a></span>
<span class="normal"><a href="#__codelineno-8-281">281</a></span>
<span class="normal"><a href="#__codelineno-8-282">282</a></span>
<span class="normal"><a href="#__codelineno-8-283">283</a></span>
<span class="normal"><a href="#__codelineno-8-284">284</a></span>
<span class="normal"><a href="#__codelineno-8-285">285</a></span>
<span class="normal"><a href="#__codelineno-8-286">286</a></span>
<span class="normal"><a href="#__codelineno-8-287">287</a></span>
<span class="normal"><a href="#__codelineno-8-288">288</a></span>
<span class="normal"><a href="#__codelineno-8-289">289</a></span>
<span class="normal"><a href="#__codelineno-8-290">290</a></span>
<span class="normal"><a href="#__codelineno-8-291">291</a></span>
<span class="normal"><a href="#__codelineno-8-292">292</a></span>
<span class="normal"><a href="#__codelineno-8-293">293</a></span>
<span class="normal"><a href="#__codelineno-8-294">294</a></span>
<span class="normal"><a href="#__codelineno-8-295">295</a></span>
<span class="normal"><a href="#__codelineno-8-296">296</a></span>
<span class="normal"><a href="#__codelineno-8-297">297</a></span>
<span class="normal"><a href="#__codelineno-8-298">298</a></span>
<span class="normal"><a href="#__codelineno-8-299">299</a></span>
<span class="normal"><a href="#__codelineno-8-300">300</a></span>
<span class="normal"><a href="#__codelineno-8-301">301</a></span>
<span class="normal"><a href="#__codelineno-8-302">302</a></span>
<span class="normal"><a href="#__codelineno-8-303">303</a></span>
<span class="normal"><a href="#__codelineno-8-304">304</a></span>
<span class="normal"><a href="#__codelineno-8-305">305</a></span>
<span class="normal"><a href="#__codelineno-8-306">306</a></span>
<span class="normal"><a href="#__codelineno-8-307">307</a></span>
<span class="normal"><a href="#__codelineno-8-308">308</a></span>
<span class="normal"><a href="#__codelineno-8-309">309</a></span>
<span class="normal"><a href="#__codelineno-8-310">310</a></span>
<span class="normal"><a href="#__codelineno-8-311">311</a></span>
<span class="normal"><a href="#__codelineno-8-312">312</a></span>
<span class="normal"><a href="#__codelineno-8-313">313</a></span>
<span class="normal"><a href="#__codelineno-8-314">314</a></span>
<span class="normal"><a href="#__codelineno-8-315">315</a></span>
<span class="normal"><a href="#__codelineno-8-316">316</a></span>
<span class="normal"><a href="#__codelineno-8-317">317</a></span>
<span class="normal"><a href="#__codelineno-8-318">318</a></span>
<span class="normal"><a href="#__codelineno-8-319">319</a></span>
<span class="normal"><a href="#__codelineno-8-320">320</a></span>
<span class="normal"><a href="#__codelineno-8-321">321</a></span>
<span class="normal"><a href="#__codelineno-8-322">322</a></span>
<span class="normal"><a href="#__codelineno-8-323">323</a></span>
<span class="normal"><a href="#__codelineno-8-324">324</a></span>
<span class="normal"><a href="#__codelineno-8-325">325</a></span>
<span class="normal"><a href="#__codelineno-8-326">326</a></span>
<span class="normal"><a href="#__codelineno-8-327">327</a></span>
<span class="normal"><a href="#__codelineno-8-328">328</a></span>
<span class="normal"><a href="#__codelineno-8-329">329</a></span>
<span class="normal"><a href="#__codelineno-8-330">330</a></span>
<span class="normal"><a href="#__codelineno-8-331">331</a></span>
<span class="normal"><a href="#__codelineno-8-332">332</a></span>
<span class="normal"><a href="#__codelineno-8-333">333</a></span>
<span class="normal"><a href="#__codelineno-8-334">334</a></span>
<span class="normal"><a href="#__codelineno-8-335">335</a></span>
<span class="normal"><a href="#__codelineno-8-336">336</a></span>
<span class="normal"><a href="#__codelineno-8-337">337</a></span>
<span class="normal"><a href="#__codelineno-8-338">338</a></span>
<span class="normal"><a href="#__codelineno-8-339">339</a></span>
<span class="normal"><a href="#__codelineno-8-340">340</a></span>
<span class="normal"><a href="#__codelineno-8-341">341</a></span>
<span class="normal"><a href="#__codelineno-8-342">342</a></span>
<span class="normal"><a href="#__codelineno-8-343">343</a></span>
<span class="normal"><a href="#__codelineno-8-344">344</a></span>
<span class="normal"><a href="#__codelineno-8-345">345</a></span>
<span class="normal"><a href="#__codelineno-8-346">346</a></span>
<span class="normal"><a href="#__codelineno-8-347">347</a></span>
<span class="normal"><a href="#__codelineno-8-348">348</a></span>
<span class="normal"><a href="#__codelineno-8-349">349</a></span>
<span class="normal"><a href="#__codelineno-8-350">350</a></span>
<span class="normal"><a href="#__codelineno-8-351">351</a></span>
<span class="normal"><a href="#__codelineno-8-352">352</a></span>
<span class="normal"><a href="#__codelineno-8-353">353</a></span>
<span class="normal"><a href="#__codelineno-8-354">354</a></span>
<span class="normal"><a href="#__codelineno-8-355">355</a></span>
<span class="normal"><a href="#__codelineno-8-356">356</a></span>
<span class="normal"><a href="#__codelineno-8-357">357</a></span>
<span class="normal"><a href="#__codelineno-8-358">358</a></span>
<span class="normal"><a href="#__codelineno-8-359">359</a></span>
<span class="normal"><a href="#__codelineno-8-360">360</a></span>
<span class="normal"><a href="#__codelineno-8-361">361</a></span>
<span class="normal"><a href="#__codelineno-8-362">362</a></span>
<span class="normal"><a href="#__codelineno-8-363">363</a></span>
<span class="normal"><a href="#__codelineno-8-364">364</a></span>
<span class="normal"><a href="#__codelineno-8-365">365</a></span>
<span class="normal"><a href="#__codelineno-8-366">366</a></span>
<span class="normal"><a href="#__codelineno-8-367">367</a></span>
<span class="normal"><a href="#__codelineno-8-368">368</a></span>
<span class="normal"><a href="#__codelineno-8-369">369</a></span>
<span class="normal"><a href="#__codelineno-8-370">370</a></span>
<span class="normal"><a href="#__codelineno-8-371">371</a></span>
<span class="normal"><a href="#__codelineno-8-372">372</a></span>
<span class="normal"><a href="#__codelineno-8-373">373</a></span>
<span class="normal"><a href="#__codelineno-8-374">374</a></span>
<span class="normal"><a href="#__codelineno-8-375">375</a></span>
<span class="normal"><a href="#__codelineno-8-376">376</a></span>
<span class="normal"><a href="#__codelineno-8-377">377</a></span>
<span class="normal"><a href="#__codelineno-8-378">378</a></span>
<span class="normal"><a href="#__codelineno-8-379">379</a></span>
<span class="normal"><a href="#__codelineno-8-380">380</a></span>
<span class="normal"><a href="#__codelineno-8-381">381</a></span>
<span class="normal"><a href="#__codelineno-8-382">382</a></span>
<span class="normal"><a href="#__codelineno-8-383">383</a></span>
<span class="normal"><a href="#__codelineno-8-384">384</a></span>
<span class="normal"><a href="#__codelineno-8-385">385</a></span>
<span class="normal"><a href="#__codelineno-8-386">386</a></span>
<span class="normal"><a href="#__codelineno-8-387">387</a></span>
<span class="normal"><a href="#__codelineno-8-388">388</a></span>
<span class="normal"><a href="#__codelineno-8-389">389</a></span>
<span class="normal"><a href="#__codelineno-8-390">390</a></span>
<span class="normal"><a href="#__codelineno-8-391">391</a></span>
<span class="normal"><a href="#__codelineno-8-392">392</a></span>
<span class="normal"><a href="#__codelineno-8-393">393</a></span>
<span class="normal"><a href="#__codelineno-8-394">394</a></span>
<span class="normal"><a href="#__codelineno-8-395">395</a></span>
<span class="normal"><a href="#__codelineno-8-396">396</a></span>
<span class="normal"><a href="#__codelineno-8-397">397</a></span>
<span class="normal"><a href="#__codelineno-8-398">398</a></span>
<span class="normal"><a href="#__codelineno-8-399">399</a></span>
<span class="normal"><a href="#__codelineno-8-400">400</a></span>
<span class="normal"><a href="#__codelineno-8-401">401</a></span>
<span class="normal"><a href="#__codelineno-8-402">402</a></span>
<span class="normal"><a href="#__codelineno-8-403">403</a></span>
<span class="normal"><a href="#__codelineno-8-404">404</a></span>
<span class="normal"><a href="#__codelineno-8-405">405</a></span>
<span class="normal"><a href="#__codelineno-8-406">406</a></span>
<span class="normal"><a href="#__codelineno-8-407">407</a></span>
<span class="normal"><a href="#__codelineno-8-408">408</a></span>
<span class="normal"><a href="#__codelineno-8-409">409</a></span>
<span class="normal"><a href="#__codelineno-8-410">410</a></span>
<span class="normal"><a href="#__codelineno-8-411">411</a></span>
<span class="normal"><a href="#__codelineno-8-412">412</a></span>
<span class="normal"><a href="#__codelineno-8-413">413</a></span>
<span class="normal"><a href="#__codelineno-8-414">414</a></span>
<span class="normal"><a href="#__codelineno-8-415">415</a></span>
<span class="normal"><a href="#__codelineno-8-416">416</a></span>
<span class="normal"><a href="#__codelineno-8-417">417</a></span>
<span class="normal"><a href="#__codelineno-8-418">418</a></span>
<span class="normal"><a href="#__codelineno-8-419">419</a></span>
<span class="normal"><a href="#__codelineno-8-420">420</a></span>
<span class="normal"><a href="#__codelineno-8-421">421</a></span>
<span class="normal"><a href="#__codelineno-8-422">422</a></span>
<span class="normal"><a href="#__codelineno-8-423">423</a></span>
<span class="normal"><a href="#__codelineno-8-424">424</a></span>
<span class="normal"><a href="#__codelineno-8-425">425</a></span>
<span class="normal"><a href="#__codelineno-8-426">426</a></span>
<span class="normal"><a href="#__codelineno-8-427">427</a></span>
<span class="normal"><a href="#__codelineno-8-428">428</a></span>
<span class="normal"><a href="#__codelineno-8-429">429</a></span>
<span class="normal"><a href="#__codelineno-8-430">430</a></span>
<span class="normal"><a href="#__codelineno-8-431">431</a></span>
<span class="normal"><a href="#__codelineno-8-432">432</a></span>
<span class="normal"><a href="#__codelineno-8-433">433</a></span>
<span class="normal"><a href="#__codelineno-8-434">434</a></span>
<span class="normal"><a href="#__codelineno-8-435">435</a></span>
<span class="normal"><a href="#__codelineno-8-436">436</a></span>
<span class="normal"><a href="#__codelineno-8-437">437</a></span>
<span class="normal"><a href="#__codelineno-8-438">438</a></span>
<span class="normal"><a href="#__codelineno-8-439">439</a></span>
<span class="normal"><a href="#__codelineno-8-440">440</a></span>
<span class="normal"><a href="#__codelineno-8-441">441</a></span>
<span class="normal"><a href="#__codelineno-8-442">442</a></span>
<span class="normal"><a href="#__codelineno-8-443">443</a></span>
<span class="normal"><a href="#__codelineno-8-444">444</a></span>
<span class="normal"><a href="#__codelineno-8-445">445</a></span>
<span class="normal"><a href="#__codelineno-8-446">446</a></span>
<span class="normal"><a href="#__codelineno-8-447">447</a></span>
<span class="normal"><a href="#__codelineno-8-448">448</a></span>
<span class="normal"><a href="#__codelineno-8-449">449</a></span>
<span class="normal"><a href="#__codelineno-8-450">450</a></span>
<span class="normal"><a href="#__codelineno-8-451">451</a></span>
<span class="normal"><a href="#__codelineno-8-452">452</a></span>
<span class="normal"><a href="#__codelineno-8-453">453</a></span>
<span class="normal"><a href="#__codelineno-8-454">454</a></span>
<span class="normal"><a href="#__codelineno-8-455">455</a></span>
<span class="normal"><a href="#__codelineno-8-456">456</a></span>
<span class="normal"><a href="#__codelineno-8-457">457</a></span>
<span class="normal"><a href="#__codelineno-8-458">458</a></span>
<span class="normal"><a href="#__codelineno-8-459">459</a></span>
<span class="normal"><a href="#__codelineno-8-460">460</a></span>
<span class="normal"><a href="#__codelineno-8-461">461</a></span>
<span class="normal"><a href="#__codelineno-8-462">462</a></span>
<span class="normal"><a href="#__codelineno-8-463">463</a></span>
<span class="normal"><a href="#__codelineno-8-464">464</a></span>
<span class="normal"><a href="#__codelineno-8-465">465</a></span>
<span class="normal"><a href="#__codelineno-8-466">466</a></span>
<span class="normal"><a href="#__codelineno-8-467">467</a></span>
<span class="normal"><a href="#__codelineno-8-468">468</a></span>
<span class="normal"><a href="#__codelineno-8-469">469</a></span>
<span class="normal"><a href="#__codelineno-8-470">470</a></span>
<span class="normal"><a href="#__codelineno-8-471">471</a></span>
<span class="normal"><a href="#__codelineno-8-472">472</a></span>
<span class="normal"><a href="#__codelineno-8-473">473</a></span>
<span class="normal"><a href="#__codelineno-8-474">474</a></span>
<span class="normal"><a href="#__codelineno-8-475">475</a></span>
<span class="normal"><a href="#__codelineno-8-476">476</a></span>
<span class="normal"><a href="#__codelineno-8-477">477</a></span>
<span class="normal"><a href="#__codelineno-8-478">478</a></span>
<span class="normal"><a href="#__codelineno-8-479">479</a></span>
<span class="normal"><a href="#__codelineno-8-480">480</a></span>
<span class="normal"><a href="#__codelineno-8-481">481</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="o">[</span>unix_http_server<span class="o">]</span><span class="w">            </span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="nv">file</span><span class="o">=</span>/tmp/supervisor.sock<span class="w">   </span><span class="p">;</span><span class="w"> </span>socket文件的路径，supervisorctl用XML_RPC和supervisord通信就是通过它进行
<a id="__codelineno-8-4" name="__codelineno-8-4"></a>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="w">                              </span>的。如果不设置的话，supervisorctl也就不能用了<span class="w">  </span>
<a id="__codelineno-8-6" name="__codelineno-8-6"></a>
<a id="__codelineno-8-7" name="__codelineno-8-7"></a><span class="w">                              </span>不设置的话，默认为none。<span class="w"> </span>非必须设置<span class="w">        </span>
<a id="__codelineno-8-8" name="__codelineno-8-8"></a>
<a id="__codelineno-8-9" name="__codelineno-8-9"></a><span class="p">;</span><span class="nv">chmod</span><span class="o">=</span><span class="m">0700</span><span class="w">                 </span><span class="p">;</span><span class="w"> </span>这个简单，就是修改上面的那个socket文件的权限为0700
<a id="__codelineno-8-10" name="__codelineno-8-10"></a>
<a id="__codelineno-8-11" name="__codelineno-8-11"></a><span class="w">                              </span>不设置的话，默认为0700。<span class="w"> </span>非必须设置
<a id="__codelineno-8-12" name="__codelineno-8-12"></a>
<a id="__codelineno-8-13" name="__codelineno-8-13"></a><span class="p">;</span><span class="nv">chown</span><span class="o">=</span>nobody:nogroup<span class="w">       </span><span class="p">;</span><span class="w"> </span>这个一样，修改上面的那个socket文件的属组为user.group
<a id="__codelineno-8-14" name="__codelineno-8-14"></a>
<a id="__codelineno-8-15" name="__codelineno-8-15"></a><span class="w">                              </span>不设置的话，默认为启动supervisord进程的用户及属组。非必须设置
<a id="__codelineno-8-16" name="__codelineno-8-16"></a>
<a id="__codelineno-8-17" name="__codelineno-8-17"></a><span class="p">;</span><span class="nv">username</span><span class="o">=</span>user<span class="w">              </span><span class="p">;</span><span class="w"> </span>使用supervisorctl连接的时候，认证的用户
<a id="__codelineno-8-18" name="__codelineno-8-18"></a>
<a id="__codelineno-8-19" name="__codelineno-8-19"></a><span class="w">                               </span>不设置的话，默认为不需要用户。<span class="w"> </span>非必须设置
<a id="__codelineno-8-20" name="__codelineno-8-20"></a>
<a id="__codelineno-8-21" name="__codelineno-8-21"></a><span class="p">;</span><span class="nv">password</span><span class="o">=</span><span class="m">123</span><span class="w">               </span><span class="p">;</span><span class="w"> </span>和上面的用户名对应的密码，可以直接使用明码，也可以使用SHA加密
<a id="__codelineno-8-22" name="__codelineno-8-22"></a>
<a id="__codelineno-8-23" name="__codelineno-8-23"></a><span class="w">                              </span>如：<span class="o">{</span>SHA<span class="o">}</span>82ab876d1387bfafe46cc1c8a2ef074eae50cb1d
<a id="__codelineno-8-24" name="__codelineno-8-24"></a>
<a id="__codelineno-8-25" name="__codelineno-8-25"></a><span class="w">                              </span>默认不设置。。。非必须设置
<a id="__codelineno-8-26" name="__codelineno-8-26"></a>
<a id="__codelineno-8-27" name="__codelineno-8-27"></a><span class="p">;</span><span class="o">[</span>inet_http_server<span class="o">]</span><span class="w">         </span><span class="p">;</span><span class="w"> </span>侦听在TCP上的socket，Web<span class="w"> </span>Server和远程的supervisorctl都要用到他
<a id="__codelineno-8-28" name="__codelineno-8-28"></a>
<a id="__codelineno-8-29" name="__codelineno-8-29"></a><span class="w">                              </span>不设置的话，默认为不开启。非必须设置
<a id="__codelineno-8-30" name="__codelineno-8-30"></a>
<a id="__codelineno-8-31" name="__codelineno-8-31"></a><span class="p">;</span><span class="nv">port</span><span class="o">=</span><span class="m">127</span>.0.0.1:9001<span class="w">        </span><span class="p">;</span><span class="w"> </span>这个是侦听的IP和端口，侦听所有IP用<span class="w"> </span>:9001或*:9001。
<a id="__codelineno-8-32" name="__codelineno-8-32"></a>
<a id="__codelineno-8-33" name="__codelineno-8-33"></a><span class="w">                              </span>这个必须设置，只要上面的<span class="o">[</span>inet_http_server<span class="o">]</span>开启了，就必须设置它
<a id="__codelineno-8-34" name="__codelineno-8-34"></a>
<a id="__codelineno-8-35" name="__codelineno-8-35"></a><span class="p">;</span><span class="nv">username</span><span class="o">=</span>user<span class="w">              </span><span class="p">;</span><span class="w"> </span>这个和上面的uinx_http_server一个样。非必须设置
<a id="__codelineno-8-36" name="__codelineno-8-36"></a>
<a id="__codelineno-8-37" name="__codelineno-8-37"></a><span class="p">;</span><span class="nv">password</span><span class="o">=</span><span class="m">123</span><span class="w">               </span><span class="p">;</span><span class="w"> </span>这个也一个样。非必须设置
<a id="__codelineno-8-38" name="__codelineno-8-38"></a>
<a id="__codelineno-8-39" name="__codelineno-8-39"></a><span class="o">[</span>supervisord<span class="o">]</span><span class="w">                </span><span class="p">;</span>这个主要是定义supervisord这个服务端进程的一些参数的
<a id="__codelineno-8-40" name="__codelineno-8-40"></a>
<a id="__codelineno-8-41" name="__codelineno-8-41"></a><span class="w">                              </span>这个必须设置，不设置，supervisor就不用干活了
<a id="__codelineno-8-42" name="__codelineno-8-42"></a>
<a id="__codelineno-8-43" name="__codelineno-8-43"></a><span class="nv">logfile</span><span class="o">=</span>/tmp/supervisord.log<span class="w"> </span><span class="p">;</span><span class="w"> </span>这个是supervisord这个主进程的日志路径，注意和子进程的日志不搭嘎。
<a id="__codelineno-8-44" name="__codelineno-8-44"></a>
<a id="__codelineno-8-45" name="__codelineno-8-45"></a><span class="w">                               </span>默认路径<span class="nv">$CWD</span>/supervisord.log，<span class="nv">$CWD是当前目录</span>。。非必须设置
<a id="__codelineno-8-46" name="__codelineno-8-46"></a>
<a id="__codelineno-8-47" name="__codelineno-8-47"></a><span class="nv">logfile_maxbytes</span><span class="o">=</span>50MB<span class="w">        </span><span class="p">;</span><span class="w"> </span>这个是上面那个日志文件的最大的大小，当超过50M的时候，会生成一个新的日<span class="w"> </span>
<a id="__codelineno-8-48" name="__codelineno-8-48"></a>
<a id="__codelineno-8-49" name="__codelineno-8-49"></a><span class="w">                               </span>志文件。当设置为0时，表示不限制文件大小
<a id="__codelineno-8-50" name="__codelineno-8-50"></a>
<a id="__codelineno-8-51" name="__codelineno-8-51"></a><span class="w">                               </span>默认值是50M，非必须设置。<span class="w">              </span>
<a id="__codelineno-8-52" name="__codelineno-8-52"></a>
<a id="__codelineno-8-53" name="__codelineno-8-53"></a><span class="nv">logfile_backups</span><span class="o">=</span><span class="m">10</span><span class="w">           </span><span class="p">;</span><span class="w"> </span>日志文件保持的数量，上面的日志文件大于50M时，就会生成一个新文件。文件
<a id="__codelineno-8-54" name="__codelineno-8-54"></a>
<a id="__codelineno-8-55" name="__codelineno-8-55"></a><span class="w">                               </span>数量大于10时，最初的老文件被新文件覆盖，文件数量将保持为10
<a id="__codelineno-8-56" name="__codelineno-8-56"></a>
<a id="__codelineno-8-57" name="__codelineno-8-57"></a><span class="w">                               </span>当设置为0时，表示不限制文件的数量。
<a id="__codelineno-8-58" name="__codelineno-8-58"></a>
<a id="__codelineno-8-59" name="__codelineno-8-59"></a><span class="w">                               </span>默认情况下为10。。。非必须设置
<a id="__codelineno-8-60" name="__codelineno-8-60"></a>
<a id="__codelineno-8-61" name="__codelineno-8-61"></a><span class="nv">loglevel</span><span class="o">=</span>info<span class="w">                </span><span class="p">;</span><span class="w"> </span>日志级别，有critical,<span class="w"> </span>error,<span class="w"> </span>warn,<span class="w"> </span>info,<span class="w"> </span>debug,<span class="w"> </span>trace,<span class="w"> </span>or<span class="w"> </span>blather等
<a id="__codelineno-8-62" name="__codelineno-8-62"></a>
<a id="__codelineno-8-63" name="__codelineno-8-63"></a><span class="w">                               </span>默认为info。。。非必须设置项
<a id="__codelineno-8-64" name="__codelineno-8-64"></a>
<a id="__codelineno-8-65" name="__codelineno-8-65"></a><span class="nv">pidfile</span><span class="o">=</span>/tmp/supervisord.pid<span class="w"> </span><span class="p">;</span><span class="w"> </span>supervisord的pid文件路径。
<a id="__codelineno-8-66" name="__codelineno-8-66"></a>
<a id="__codelineno-8-67" name="__codelineno-8-67"></a><span class="w">                               </span>默认为<span class="nv">$CWD</span>/supervisord.pid。。。非必须设置
<a id="__codelineno-8-68" name="__codelineno-8-68"></a>
<a id="__codelineno-8-69" name="__codelineno-8-69"></a><span class="nv">nodaemon</span><span class="o">=</span><span class="nb">false</span><span class="w">               </span><span class="p">;</span><span class="w"> </span>如果是true，supervisord进程将在前台运行
<a id="__codelineno-8-70" name="__codelineno-8-70"></a>
<a id="__codelineno-8-71" name="__codelineno-8-71"></a><span class="w">                               </span>默认为false，也就是后台以守护进程运行。。。非必须设置
<a id="__codelineno-8-72" name="__codelineno-8-72"></a>
<a id="__codelineno-8-73" name="__codelineno-8-73"></a><span class="nv">minfds</span><span class="o">=</span><span class="m">1024</span><span class="w">                  </span><span class="p">;</span><span class="w"> </span>这个是最少系统空闲的文件描述符，低于这个值supervisor将不会启动。
<a id="__codelineno-8-74" name="__codelineno-8-74"></a>
<a id="__codelineno-8-75" name="__codelineno-8-75"></a><span class="w">                               </span>系统的文件描述符在这里设置cat<span class="w"> </span>/proc/sys/fs/file-max
<a id="__codelineno-8-76" name="__codelineno-8-76"></a>
<a id="__codelineno-8-77" name="__codelineno-8-77"></a><span class="w">                               </span>默认情况下为1024。。。非必须设置
<a id="__codelineno-8-78" name="__codelineno-8-78"></a>
<a id="__codelineno-8-79" name="__codelineno-8-79"></a><span class="nv">minprocs</span><span class="o">=</span><span class="m">200</span><span class="w">                 </span><span class="p">;</span><span class="w"> </span>最小可用的进程描述符，低于这个值supervisor也将不会正常启动。
<a id="__codelineno-8-80" name="__codelineno-8-80"></a>
<a id="__codelineno-8-81" name="__codelineno-8-81"></a><span class="w">                              </span><span class="nb">ulimit</span><span class="w">  </span>-u这个命令，可以查看linux下面用户的最大进程数
<a id="__codelineno-8-82" name="__codelineno-8-82"></a>
<a id="__codelineno-8-83" name="__codelineno-8-83"></a><span class="w">                              </span>默认为200。。。非必须设置
<a id="__codelineno-8-84" name="__codelineno-8-84"></a>
<a id="__codelineno-8-85" name="__codelineno-8-85"></a><span class="p">;</span><span class="nv">umask</span><span class="o">=</span><span class="m">022</span><span class="w">                   </span><span class="p">;</span><span class="w"> </span>进程创建文件的掩码
<a id="__codelineno-8-86" name="__codelineno-8-86"></a>
<a id="__codelineno-8-87" name="__codelineno-8-87"></a><span class="w">                               </span>默认为022。。非必须设置项
<a id="__codelineno-8-88" name="__codelineno-8-88"></a>
<a id="__codelineno-8-89" name="__codelineno-8-89"></a><span class="p">;</span><span class="nv">user</span><span class="o">=</span>chrism<span class="w">                 </span><span class="p">;</span><span class="w"> </span>这个参数可以设置一个非root用户，当我们以root用户启动supervisord之后。
<a id="__codelineno-8-90" name="__codelineno-8-90"></a>
<a id="__codelineno-8-91" name="__codelineno-8-91"></a><span class="w">                               </span>我这里面设置的这个用户，也可以对supervisord进行管理
<a id="__codelineno-8-92" name="__codelineno-8-92"></a>
<a id="__codelineno-8-93" name="__codelineno-8-93"></a><span class="w">                               </span>默认情况是不设置。。。非必须设置项
<a id="__codelineno-8-94" name="__codelineno-8-94"></a>
<a id="__codelineno-8-95" name="__codelineno-8-95"></a><span class="p">;</span><span class="nv">identifier</span><span class="o">=</span>supervisor<span class="w">       </span><span class="p">;</span><span class="w"> </span>这个参数是supervisord的标识符，主要是给XML_RPC用的。当你有多个
<a id="__codelineno-8-96" name="__codelineno-8-96"></a>
<a id="__codelineno-8-97" name="__codelineno-8-97"></a><span class="w">                               </span>supervisor的时候，而且想调用XML_RPC统一管理，就需要为每个
<a id="__codelineno-8-98" name="__codelineno-8-98"></a>
<a id="__codelineno-8-99" name="__codelineno-8-99"></a><span class="w">                               </span>supervisor设置不同的标识符了
<a id="__codelineno-8-100" name="__codelineno-8-100"></a>
<a id="__codelineno-8-101" name="__codelineno-8-101"></a><span class="w">                               </span>默认是supervisord。。。非必需设置
<a id="__codelineno-8-102" name="__codelineno-8-102"></a>
<a id="__codelineno-8-103" name="__codelineno-8-103"></a><span class="p">;</span><span class="nv">directory</span><span class="o">=</span>/tmp<span class="w">              </span><span class="p">;</span><span class="w"> </span>这个参数是当supervisord作为守护进程运行的时候，设置这个参数的话，启动
<a id="__codelineno-8-104" name="__codelineno-8-104"></a>
<a id="__codelineno-8-105" name="__codelineno-8-105"></a><span class="w">                               </span>supervisord进程之前，会先切换到这个目录
<a id="__codelineno-8-106" name="__codelineno-8-106"></a>
<a id="__codelineno-8-107" name="__codelineno-8-107"></a><span class="w">                               </span>默认不设置。。。非必须设置
<a id="__codelineno-8-108" name="__codelineno-8-108"></a>
<a id="__codelineno-8-109" name="__codelineno-8-109"></a><span class="p">;</span><span class="nv">nocleanup</span><span class="o">=</span><span class="nb">true</span><span class="w">              </span><span class="p">;</span><span class="w"> </span>这个参数当为false的时候，会在supervisord进程启动的时候，把以前子进程
<a id="__codelineno-8-110" name="__codelineno-8-110"></a>
<a id="__codelineno-8-111" name="__codelineno-8-111"></a><span class="w">                               </span>产生的日志文件<span class="o">(</span>路径为AUTO的情况下<span class="o">)</span>清除掉。有时候咱们想要看历史日志，当<span class="w"> </span>
<a id="__codelineno-8-112" name="__codelineno-8-112"></a>
<a id="__codelineno-8-113" name="__codelineno-8-113"></a><span class="w">                               </span>然不想日志被清除了。所以可以设置为true
<a id="__codelineno-8-114" name="__codelineno-8-114"></a>
<a id="__codelineno-8-115" name="__codelineno-8-115"></a><span class="w">                               </span>默认是false，有调试需求的同学可以设置为true。。。非必须设置
<a id="__codelineno-8-116" name="__codelineno-8-116"></a>
<a id="__codelineno-8-117" name="__codelineno-8-117"></a><span class="p">;</span><span class="nv">childlogdir</span><span class="o">=</span>/tmp<span class="w">            </span><span class="p">;</span><span class="w"> </span>当子进程日志路径为AUTO的时候，子进程日志文件的存放路径。
<a id="__codelineno-8-118" name="__codelineno-8-118"></a>
<a id="__codelineno-8-119" name="__codelineno-8-119"></a><span class="w">                               </span>默认路径是这个东西，执行下面的这个命令看看就OK了，处理的东西就默认路径
<a id="__codelineno-8-120" name="__codelineno-8-120"></a>
<a id="__codelineno-8-121" name="__codelineno-8-121"></a><span class="w">                               </span>python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;import tempfile;print tempfile.gettempdir()&quot;</span>
<a id="__codelineno-8-122" name="__codelineno-8-122"></a>
<a id="__codelineno-8-123" name="__codelineno-8-123"></a><span class="w">                               </span>非必须设置
<a id="__codelineno-8-124" name="__codelineno-8-124"></a>
<a id="__codelineno-8-125" name="__codelineno-8-125"></a><span class="p">;</span><span class="nv">environment</span><span class="o">=</span><span class="nv">KEY</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="w">     </span><span class="p">;</span><span class="w"> </span>这个是用来设置环境变量的，supervisord在linux中启动默认继承了linux的
<a id="__codelineno-8-126" name="__codelineno-8-126"></a>
<a id="__codelineno-8-127" name="__codelineno-8-127"></a><span class="w">                               </span>环境变量，在这里可以设置supervisord进程特有的其他环境变量。
<a id="__codelineno-8-128" name="__codelineno-8-128"></a>
<a id="__codelineno-8-129" name="__codelineno-8-129"></a><span class="w">                               </span>supervisord启动子进程时，子进程会拷贝父进程的内存空间内容。<span class="w"> </span>所以设置的
<a id="__codelineno-8-130" name="__codelineno-8-130"></a>
<a id="__codelineno-8-131" name="__codelineno-8-131"></a><span class="w">                               </span>这些环境变量也会被子进程继承。
<a id="__codelineno-8-132" name="__codelineno-8-132"></a>
<a id="__codelineno-8-133" name="__codelineno-8-133"></a><span class="w">                               </span>小例子：environment<span class="o">=</span><span class="nv">name</span><span class="o">=</span><span class="s2">&quot;haha&quot;</span>,age<span class="o">=</span><span class="s2">&quot;hehe&quot;</span>
<a id="__codelineno-8-134" name="__codelineno-8-134"></a>
<a id="__codelineno-8-135" name="__codelineno-8-135"></a><span class="w">                               </span>默认为不设置。。。非必须设置
<a id="__codelineno-8-136" name="__codelineno-8-136"></a>
<a id="__codelineno-8-137" name="__codelineno-8-137"></a><span class="p">;</span><span class="nv">strip_ansi</span><span class="o">=</span><span class="nb">false</span><span class="w">            </span><span class="p">;</span><span class="w"> </span>这个选项如果设置为true，会清除子进程日志中的所有ANSI<span class="w"> </span>序列。什么是ANSI
<a id="__codelineno-8-138" name="__codelineno-8-138"></a>
<a id="__codelineno-8-139" name="__codelineno-8-139"></a><span class="w">                               </span>序列呢？就是我们的<span class="se">\n</span>,<span class="se">\t</span>这些东西。
<a id="__codelineno-8-140" name="__codelineno-8-140"></a>
<a id="__codelineno-8-141" name="__codelineno-8-141"></a><span class="w">                               </span>默认为false。。。非必须设置
<a id="__codelineno-8-142" name="__codelineno-8-142"></a>
<a id="__codelineno-8-143" name="__codelineno-8-143"></a><span class="p">;</span><span class="w"> </span>the<span class="w"> </span>below<span class="w"> </span>section<span class="w"> </span>must<span class="w"> </span>remain<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>config<span class="w"> </span>file<span class="w"> </span><span class="k">for</span><span class="w"> </span>RPC
<a id="__codelineno-8-144" name="__codelineno-8-144"></a>
<a id="__codelineno-8-145" name="__codelineno-8-145"></a><span class="p">;</span><span class="w"> </span><span class="o">(</span>supervisorctl/web<span class="w"> </span>interface<span class="o">)</span><span class="w"> </span>to<span class="w"> </span>work,<span class="w"> </span>additional<span class="w"> </span>interfaces<span class="w"> </span>may<span class="w"> </span>be
<a id="__codelineno-8-146" name="__codelineno-8-146"></a>
<a id="__codelineno-8-147" name="__codelineno-8-147"></a><span class="p">;</span><span class="w"> </span>added<span class="w"> </span>by<span class="w"> </span>defining<span class="w"> </span>them<span class="w"> </span><span class="k">in</span><span class="w"> </span>separate<span class="w"> </span>rpcinterface:<span class="w"> </span>sections
<a id="__codelineno-8-148" name="__codelineno-8-148"></a>
<a id="__codelineno-8-149" name="__codelineno-8-149"></a><span class="o">[</span>rpcinterface:supervisor<span class="o">]</span><span class="w">    </span><span class="p">;</span>这个选项是给XML_RPC用的，当然你如果想使用supervisord或者web<span class="w"> </span>server<span class="w"> </span>这<span class="w"> </span>
<a id="__codelineno-8-150" name="__codelineno-8-150"></a>
<a id="__codelineno-8-151" name="__codelineno-8-151"></a><span class="w">                              </span>个选项必须要开启的
<a id="__codelineno-8-152" name="__codelineno-8-152"></a>
<a id="__codelineno-8-153" name="__codelineno-8-153"></a>supervisor.rpcinterface_factory<span class="w"> </span><span class="o">=</span><span class="w"> </span>supervisor.rpcinterface:make_main_rpcinterface<span class="w"> </span>
<a id="__codelineno-8-154" name="__codelineno-8-154"></a>
<a id="__codelineno-8-155" name="__codelineno-8-155"></a><span class="o">[</span>supervisorctl<span class="o">]</span><span class="w">              </span><span class="p">;</span>这个主要是针对supervisorctl的一些配置<span class="w">  </span>
<a id="__codelineno-8-156" name="__codelineno-8-156"></a>
<a id="__codelineno-8-157" name="__codelineno-8-157"></a><span class="nv">serverurl</span><span class="o">=</span>unix:///tmp/supervisor.sock<span class="w"> </span><span class="p">;</span><span class="w"> </span>这个是supervisorctl本地连接supervisord的时候，本地UNIX<span class="w"> </span>socket
<a id="__codelineno-8-158" name="__codelineno-8-158"></a>
<a id="__codelineno-8-159" name="__codelineno-8-159"></a><span class="w">                                        </span>路径，注意这个是和前面的<span class="o">[</span>unix_http_server<span class="o">]</span>对应的
<a id="__codelineno-8-160" name="__codelineno-8-160"></a>
<a id="__codelineno-8-161" name="__codelineno-8-161"></a><span class="w">                                        </span>默认值就是unix:///tmp/supervisor.sock。。非必须设置
<a id="__codelineno-8-162" name="__codelineno-8-162"></a>
<a id="__codelineno-8-163" name="__codelineno-8-163"></a><span class="p">;</span><span class="nv">serverurl</span><span class="o">=</span>http://127.0.0.1:9001<span class="w"> </span><span class="p">;</span><span class="w"> </span>这个是supervisorctl远程连接supervisord的时候，用到的TCP<span class="w"> </span>socket路径
<a id="__codelineno-8-164" name="__codelineno-8-164"></a>
<a id="__codelineno-8-165" name="__codelineno-8-165"></a><span class="w">                                   </span>注意这个和前面的<span class="o">[</span>inet_http_server<span class="o">]</span>对应
<a id="__codelineno-8-166" name="__codelineno-8-166"></a>
<a id="__codelineno-8-167" name="__codelineno-8-167"></a><span class="w">                                   </span>默认就是http://127.0.0.1:9001。。。非必须项
<a id="__codelineno-8-168" name="__codelineno-8-168"></a>
<a id="__codelineno-8-169" name="__codelineno-8-169"></a>
<a id="__codelineno-8-170" name="__codelineno-8-170"></a>
<a id="__codelineno-8-171" name="__codelineno-8-171"></a><span class="p">;</span><span class="nv">username</span><span class="o">=</span>chris<span class="w">              </span><span class="p">;</span><span class="w"> </span>用户名
<a id="__codelineno-8-172" name="__codelineno-8-172"></a>
<a id="__codelineno-8-173" name="__codelineno-8-173"></a><span class="w">                               </span>默认空。。非必须设置
<a id="__codelineno-8-174" name="__codelineno-8-174"></a>
<a id="__codelineno-8-175" name="__codelineno-8-175"></a><span class="p">;</span><span class="nv">password</span><span class="o">=</span><span class="m">123</span><span class="w">                </span><span class="p">;</span><span class="w"> </span>密码
<a id="__codelineno-8-176" name="__codelineno-8-176"></a>
<a id="__codelineno-8-177" name="__codelineno-8-177"></a><span class="w">                              </span>默认空。。非必须设置
<a id="__codelineno-8-178" name="__codelineno-8-178"></a>
<a id="__codelineno-8-179" name="__codelineno-8-179"></a><span class="p">;</span><span class="nv">prompt</span><span class="o">=</span>mysupervisor<span class="w">         </span><span class="p">;</span><span class="w"> </span>输入用户名密码时候的提示符
<a id="__codelineno-8-180" name="__codelineno-8-180"></a>
<a id="__codelineno-8-181" name="__codelineno-8-181"></a><span class="w">                               </span>默认supervisor。。非必须设置
<a id="__codelineno-8-182" name="__codelineno-8-182"></a>
<a id="__codelineno-8-183" name="__codelineno-8-183"></a><span class="p">;</span><span class="nv">history_file</span><span class="o">=</span>~/.sc_history<span class="w">  </span><span class="p">;</span><span class="w"> </span>这个参数和shell中的history类似，我们可以用上下键来查找前面执行过的命令
<a id="__codelineno-8-184" name="__codelineno-8-184"></a>
<a id="__codelineno-8-185" name="__codelineno-8-185"></a><span class="w">                               </span>默认是no<span class="w"> </span>file的。。所以我们想要有这种功能，必须指定一个文件。。。非
<a id="__codelineno-8-186" name="__codelineno-8-186"></a>
<a id="__codelineno-8-187" name="__codelineno-8-187"></a><span class="w">                               </span>必须设置
<a id="__codelineno-8-188" name="__codelineno-8-188"></a>
<a id="__codelineno-8-189" name="__codelineno-8-189"></a><span class="p">;</span><span class="w"> </span>The<span class="w"> </span>below<span class="w"> </span>sample<span class="w"> </span>program<span class="w"> </span>section<span class="w"> </span>shows<span class="w"> </span>all<span class="w"> </span>possible<span class="w"> </span>program<span class="w"> </span>subsection<span class="w"> </span>values,
<a id="__codelineno-8-190" name="__codelineno-8-190"></a>
<a id="__codelineno-8-191" name="__codelineno-8-191"></a><span class="p">;</span><span class="w"> </span>create<span class="w"> </span>one<span class="w"> </span>or<span class="w"> </span>more<span class="w"> </span><span class="s1">&#39;real&#39;</span><span class="w"> </span>program:<span class="w"> </span>sections<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>able<span class="w"> </span>to<span class="w"> </span>control<span class="w"> </span>them<span class="w"> </span>under
<a id="__codelineno-8-192" name="__codelineno-8-192"></a>
<a id="__codelineno-8-193" name="__codelineno-8-193"></a><span class="p">;</span><span class="w"> </span>supervisor.
<a id="__codelineno-8-194" name="__codelineno-8-194"></a>
<a id="__codelineno-8-195" name="__codelineno-8-195"></a><span class="p">;</span><span class="o">[</span>program:theprogramname<span class="o">]</span><span class="w">      </span><span class="p">;</span>这个就是咱们要管理的子进程了，<span class="s2">&quot;:&quot;</span>后面的是名字，最好别乱写和实际进程
<a id="__codelineno-8-196" name="__codelineno-8-196"></a>
<a id="__codelineno-8-197" name="__codelineno-8-197"></a><span class="w">                                </span>有点关联最好。这样的program我们可以设置一个或多个，一个program就是
<a id="__codelineno-8-198" name="__codelineno-8-198"></a>
<a id="__codelineno-8-199" name="__codelineno-8-199"></a><span class="w">                                </span>要被管理的一个进程
<a id="__codelineno-8-200" name="__codelineno-8-200"></a>
<a id="__codelineno-8-201" name="__codelineno-8-201"></a><span class="p">;</span><span class="nv">command</span><span class="o">=</span>/bin/cat<span class="w">              </span><span class="p">;</span><span class="w"> </span>这个就是我们的要启动进程的命令路径了，可以带参数
<a id="__codelineno-8-202" name="__codelineno-8-202"></a>
<a id="__codelineno-8-203" name="__codelineno-8-203"></a><span class="w">                                </span>例子：/home/test.py<span class="w"> </span>-a<span class="w"> </span><span class="s1">&#39;hehe&#39;</span>
<a id="__codelineno-8-204" name="__codelineno-8-204"></a>
<a id="__codelineno-8-205" name="__codelineno-8-205"></a><span class="w">                                </span>有一点需要注意的是，我们的command只能是那种在终端运行的进程，不能是
<a id="__codelineno-8-206" name="__codelineno-8-206"></a>
<a id="__codelineno-8-207" name="__codelineno-8-207"></a><span class="w">                                </span>守护进程。这个想想也知道了，比如说command<span class="o">=</span>service<span class="w"> </span>httpd<span class="w"> </span>start。
<a id="__codelineno-8-208" name="__codelineno-8-208"></a>
<a id="__codelineno-8-209" name="__codelineno-8-209"></a><span class="w">                                </span>httpd这个进程被linux的service管理了，我们的supervisor再去启动这个命令
<a id="__codelineno-8-210" name="__codelineno-8-210"></a>
<a id="__codelineno-8-211" name="__codelineno-8-211"></a><span class="w">                                </span>这已经不是严格意义的子进程了。
<a id="__codelineno-8-212" name="__codelineno-8-212"></a>
<a id="__codelineno-8-213" name="__codelineno-8-213"></a><span class="w">                                </span>这个是个必须设置的项
<a id="__codelineno-8-214" name="__codelineno-8-214"></a>
<a id="__codelineno-8-215" name="__codelineno-8-215"></a><span class="p">;</span><span class="nv">process_name</span><span class="o">=</span>%<span class="o">(</span>program_name<span class="o">)</span>s<span class="w"> </span><span class="p">;</span><span class="w"> </span>这个是进程名，如果我们下面的numprocs参数为1的话，就不用管这个参数
<a id="__codelineno-8-216" name="__codelineno-8-216"></a>
<a id="__codelineno-8-217" name="__codelineno-8-217"></a><span class="w">                                 </span>了，它默认值%<span class="o">(</span>program_name<span class="o">)</span>s也就是上面的那个program冒号后面的名字，
<a id="__codelineno-8-218" name="__codelineno-8-218"></a>
<a id="__codelineno-8-219" name="__codelineno-8-219"></a><span class="w">                                 </span>但是如果numprocs为多个的话，那就不能这么干了。想想也知道，不可能每个
<a id="__codelineno-8-220" name="__codelineno-8-220"></a>
<a id="__codelineno-8-221" name="__codelineno-8-221"></a><span class="w">                                 </span>进程都用同一个进程名吧。
<a id="__codelineno-8-222" name="__codelineno-8-222"></a>
<a id="__codelineno-8-223" name="__codelineno-8-223"></a>
<a id="__codelineno-8-224" name="__codelineno-8-224"></a>
<a id="__codelineno-8-225" name="__codelineno-8-225"></a><span class="p">;</span><span class="nv">numprocs</span><span class="o">=</span><span class="m">1</span><span class="w">                    </span><span class="p">;</span><span class="w"> </span>启动进程的数目。当不为1时，就是进程池的概念，注意process_name的设置
<a id="__codelineno-8-226" name="__codelineno-8-226"></a>
<a id="__codelineno-8-227" name="__codelineno-8-227"></a><span class="w">                                 </span>默认为1<span class="w">    </span>。。非必须设置
<a id="__codelineno-8-228" name="__codelineno-8-228"></a>
<a id="__codelineno-8-229" name="__codelineno-8-229"></a><span class="p">;</span><span class="nv">directory</span><span class="o">=</span>/tmp<span class="w">                </span><span class="p">;</span><span class="w"> </span>进程运行前，会前切换到这个目录
<a id="__codelineno-8-230" name="__codelineno-8-230"></a>
<a id="__codelineno-8-231" name="__codelineno-8-231"></a><span class="w">                                 </span>默认不设置。。。非必须设置
<a id="__codelineno-8-232" name="__codelineno-8-232"></a>
<a id="__codelineno-8-233" name="__codelineno-8-233"></a><span class="p">;</span><span class="nv">umask</span><span class="o">=</span><span class="m">022</span><span class="w">                     </span><span class="p">;</span><span class="w"> </span>进程掩码，默认none，非必须
<a id="__codelineno-8-234" name="__codelineno-8-234"></a>
<a id="__codelineno-8-235" name="__codelineno-8-235"></a><span class="p">;</span><span class="nv">priority</span><span class="o">=</span><span class="m">999</span><span class="w">                  </span><span class="p">;</span><span class="w"> </span>子进程启动关闭优先级，优先级低的，最先启动，关闭的时候最后关闭
<a id="__codelineno-8-236" name="__codelineno-8-236"></a>
<a id="__codelineno-8-237" name="__codelineno-8-237"></a><span class="w">                                 </span>默认值为999<span class="w"> </span>。。非必须设置
<a id="__codelineno-8-238" name="__codelineno-8-238"></a>
<a id="__codelineno-8-239" name="__codelineno-8-239"></a><span class="p">;</span><span class="nv">autostart</span><span class="o">=</span><span class="nb">true</span><span class="w">                </span><span class="p">;</span><span class="w"> </span>如果是true的话，子进程将在supervisord启动后被自动启动
<a id="__codelineno-8-240" name="__codelineno-8-240"></a>
<a id="__codelineno-8-241" name="__codelineno-8-241"></a><span class="w">                                 </span>默认就是true<span class="w">   </span>。。非必须设置
<a id="__codelineno-8-242" name="__codelineno-8-242"></a>
<a id="__codelineno-8-243" name="__codelineno-8-243"></a><span class="p">;</span><span class="nv">autorestart</span><span class="o">=</span>unexpected<span class="w">        </span><span class="p">;</span><span class="w"> </span>这个是设置子进程挂掉后自动重启的情况，有三个选项，false,unexpected
<a id="__codelineno-8-244" name="__codelineno-8-244"></a>
<a id="__codelineno-8-245" name="__codelineno-8-245"></a><span class="w">                                 </span>和true。如果为false的时候，无论什么情况下，都不会被重新启动，
<a id="__codelineno-8-246" name="__codelineno-8-246"></a>
<a id="__codelineno-8-247" name="__codelineno-8-247"></a><span class="w">                                 </span>如果为unexpected，只有当进程的退出码不在下面的exitcodes里面定义的退<span class="w"> </span>
<a id="__codelineno-8-248" name="__codelineno-8-248"></a>
<a id="__codelineno-8-249" name="__codelineno-8-249"></a><span class="w">                                 </span>出码的时候，才会被自动重启。当为true的时候，只要子进程挂掉，将会被无
<a id="__codelineno-8-250" name="__codelineno-8-250"></a>
<a id="__codelineno-8-251" name="__codelineno-8-251"></a><span class="w">                                 </span>条件的重启
<a id="__codelineno-8-252" name="__codelineno-8-252"></a>
<a id="__codelineno-8-253" name="__codelineno-8-253"></a><span class="p">;</span><span class="nv">startsecs</span><span class="o">=</span><span class="m">1</span><span class="w">                   </span><span class="p">;</span><span class="w"> </span>这个选项是子进程启动多少秒之后，此时状态如果是running，则我们认为启
<a id="__codelineno-8-254" name="__codelineno-8-254"></a>
<a id="__codelineno-8-255" name="__codelineno-8-255"></a><span class="w">                                 </span>动成功了
<a id="__codelineno-8-256" name="__codelineno-8-256"></a>
<a id="__codelineno-8-257" name="__codelineno-8-257"></a><span class="w">                                 </span>默认值为1<span class="w"> </span>。。非必须设置
<a id="__codelineno-8-258" name="__codelineno-8-258"></a>
<a id="__codelineno-8-259" name="__codelineno-8-259"></a><span class="p">;</span><span class="nv">startretries</span><span class="o">=</span><span class="m">3</span><span class="w">                </span><span class="p">;</span><span class="w"> </span>当进程启动失败后，最大尝试启动的次数。。当超过3次后，supervisor将把
<a id="__codelineno-8-260" name="__codelineno-8-260"></a>
<a id="__codelineno-8-261" name="__codelineno-8-261"></a><span class="w">                                 </span>此进程的状态置为FAIL
<a id="__codelineno-8-262" name="__codelineno-8-262"></a>
<a id="__codelineno-8-263" name="__codelineno-8-263"></a><span class="w">                                 </span>默认值为3<span class="w"> </span>。。非必须设置
<a id="__codelineno-8-264" name="__codelineno-8-264"></a>
<a id="__codelineno-8-265" name="__codelineno-8-265"></a><span class="p">;</span><span class="nv">exitcodes</span><span class="o">=</span><span class="m">0</span>,2<span class="w">                 </span><span class="p">;</span><span class="w"> </span><span class="nv">注意和上面的的autorestart</span><span class="o">=</span>unexpected对应。。exitcodes里面的定义的
<a id="__codelineno-8-266" name="__codelineno-8-266"></a>
<a id="__codelineno-8-267" name="__codelineno-8-267"></a><span class="w">                                 </span>退出码是expected的。
<a id="__codelineno-8-268" name="__codelineno-8-268"></a>
<a id="__codelineno-8-269" name="__codelineno-8-269"></a><span class="p">;</span><span class="nv">stopsignal</span><span class="o">=</span>QUIT<span class="w">               </span><span class="p">;</span><span class="w"> </span>进程停止信号，可以为TERM,<span class="w"> </span>HUP,<span class="w"> </span>INT,<span class="w"> </span>QUIT,<span class="w"> </span>KILL,<span class="w"> </span>USR1,<span class="w"> </span>or<span class="w"> </span>USR2等信号
<a id="__codelineno-8-270" name="__codelineno-8-270"></a>
<a id="__codelineno-8-271" name="__codelineno-8-271"></a><span class="w">                                  </span>默认为TERM<span class="w"> </span>。。当用设定的信号去干掉进程，退出码会被认为是expected
<a id="__codelineno-8-272" name="__codelineno-8-272"></a>
<a id="__codelineno-8-273" name="__codelineno-8-273"></a><span class="w">                                  </span>非必须设置
<a id="__codelineno-8-274" name="__codelineno-8-274"></a>
<a id="__codelineno-8-275" name="__codelineno-8-275"></a><span class="p">;</span><span class="nv">stopwaitsecs</span><span class="o">=</span><span class="m">10</span><span class="w">               </span><span class="p">;</span><span class="w"> </span>这个是当我们向子进程发送stopsignal信号后，到系统返回信息
<a id="__codelineno-8-276" name="__codelineno-8-276"></a>
<a id="__codelineno-8-277" name="__codelineno-8-277"></a><span class="w">                                 </span>给supervisord，所等待的最大时间。<span class="w"> </span>超过这个时间，supervisord会向该
<a id="__codelineno-8-278" name="__codelineno-8-278"></a>
<a id="__codelineno-8-279" name="__codelineno-8-279"></a><span class="w">                                 </span>子进程发送一个强制kill的信号。
<a id="__codelineno-8-280" name="__codelineno-8-280"></a>
<a id="__codelineno-8-281" name="__codelineno-8-281"></a><span class="w">                                 </span>默认为10秒。。非必须设置
<a id="__codelineno-8-282" name="__codelineno-8-282"></a>
<a id="__codelineno-8-283" name="__codelineno-8-283"></a><span class="p">;</span><span class="nv">stopasgroup</span><span class="o">=</span><span class="nb">false</span><span class="w">             </span><span class="p">;</span><span class="w"> </span>这个东西主要用于，supervisord管理的子进程，这个子进程本身还有
<a id="__codelineno-8-284" name="__codelineno-8-284"></a>
<a id="__codelineno-8-285" name="__codelineno-8-285"></a><span class="w">                                 </span>子进程。那么我们如果仅仅干掉supervisord的子进程的话，子进程的子进程
<a id="__codelineno-8-286" name="__codelineno-8-286"></a>
<a id="__codelineno-8-287" name="__codelineno-8-287"></a><span class="w">                                 </span>有可能会变成孤儿进程。所以咱们可以设置可个选项，把整个该子进程的
<a id="__codelineno-8-288" name="__codelineno-8-288"></a>
<a id="__codelineno-8-289" name="__codelineno-8-289"></a><span class="w">                                 </span>整个进程组都干掉。<span class="w"> </span>设置为true的话，一般killasgroup也会被设置为true。
<a id="__codelineno-8-290" name="__codelineno-8-290"></a>
<a id="__codelineno-8-291" name="__codelineno-8-291"></a><span class="w">                                 </span>需要注意的是，该选项发送的是stop信号
<a id="__codelineno-8-292" name="__codelineno-8-292"></a>
<a id="__codelineno-8-293" name="__codelineno-8-293"></a><span class="w">                                 </span>默认为false。。非必须设置。。
<a id="__codelineno-8-294" name="__codelineno-8-294"></a>
<a id="__codelineno-8-295" name="__codelineno-8-295"></a><span class="p">;</span><span class="nv">killasgroup</span><span class="o">=</span><span class="nb">false</span><span class="w">             </span><span class="p">;</span><span class="w"> </span>这个和上面的stopasgroup类似，不过发送的是kill信号
<a id="__codelineno-8-296" name="__codelineno-8-296"></a>
<a id="__codelineno-8-297" name="__codelineno-8-297"></a><span class="p">;</span><span class="nv">user</span><span class="o">=</span>chrism<span class="w">                   </span><span class="p">;</span><span class="w"> </span>如果supervisord是root启动，我们在这里设置这个非root用户，可以用来
<a id="__codelineno-8-298" name="__codelineno-8-298"></a>
<a id="__codelineno-8-299" name="__codelineno-8-299"></a><span class="w">                                 </span>管理该program
<a id="__codelineno-8-300" name="__codelineno-8-300"></a>
<a id="__codelineno-8-301" name="__codelineno-8-301"></a><span class="w">                                 </span>默认不设置。。。非必须设置项
<a id="__codelineno-8-302" name="__codelineno-8-302"></a>
<a id="__codelineno-8-303" name="__codelineno-8-303"></a><span class="p">;</span><span class="nv">redirect_stderr</span><span class="o">=</span><span class="nb">true</span><span class="w">          </span><span class="p">;</span><span class="w"> </span>如果为true，则stderr的日志会被写入stdout日志文件中
<a id="__codelineno-8-304" name="__codelineno-8-304"></a>
<a id="__codelineno-8-305" name="__codelineno-8-305"></a><span class="w">                                 </span>默认为false，非必须设置
<a id="__codelineno-8-306" name="__codelineno-8-306"></a>
<a id="__codelineno-8-307" name="__codelineno-8-307"></a><span class="p">;</span><span class="nv">stdout_logfile</span><span class="o">=</span>/a/path<span class="w">        </span><span class="p">;</span><span class="w"> </span>子进程的stdout的日志路径，可以指定路径，AUTO，none等三个选项。
<a id="__codelineno-8-308" name="__codelineno-8-308"></a>
<a id="__codelineno-8-309" name="__codelineno-8-309"></a><span class="w">                                 </span>设置为none的话，将没有日志产生。设置为AUTO的话，将随机找一个地方
<a id="__codelineno-8-310" name="__codelineno-8-310"></a>
<a id="__codelineno-8-311" name="__codelineno-8-311"></a><span class="w">                                 </span>生成日志文件，而且当supervisord重新启动的时候，以前的日志文件会被
<a id="__codelineno-8-312" name="__codelineno-8-312"></a>
<a id="__codelineno-8-313" name="__codelineno-8-313"></a><span class="w">                                 </span>清空。当<span class="w"> </span><span class="nv">redirect_stderr</span><span class="o">=</span>true的时候，sterr也会写进这个日志文件
<a id="__codelineno-8-314" name="__codelineno-8-314"></a>
<a id="__codelineno-8-315" name="__codelineno-8-315"></a><span class="p">;</span><span class="nv">stdout_logfile_maxbytes</span><span class="o">=</span>1MB<span class="w">   </span><span class="p">;</span><span class="w"> </span>日志文件最大大小，和<span class="o">[</span>supervisord<span class="o">]</span>中定义的一样。默认为50
<a id="__codelineno-8-316" name="__codelineno-8-316"></a>
<a id="__codelineno-8-317" name="__codelineno-8-317"></a><span class="p">;</span><span class="nv">stdout_logfile_backups</span><span class="o">=</span><span class="m">10</span><span class="w">     </span><span class="p">;</span><span class="w"> </span>和<span class="o">[</span>supervisord<span class="o">]</span>定义的一样。默认10
<a id="__codelineno-8-318" name="__codelineno-8-318"></a>
<a id="__codelineno-8-319" name="__codelineno-8-319"></a><span class="p">;</span><span class="nv">stdout_capture_maxbytes</span><span class="o">=</span>1MB<span class="w">   </span><span class="p">;</span><span class="w"> </span>这个东西是设定capture管道的大小，当值不为0的时候，子进程可以从stdout
<a id="__codelineno-8-320" name="__codelineno-8-320"></a>
<a id="__codelineno-8-321" name="__codelineno-8-321"></a><span class="w">                                 </span>发送信息，而supervisor可以根据信息，发送相应的event。
<a id="__codelineno-8-322" name="__codelineno-8-322"></a>
<a id="__codelineno-8-323" name="__codelineno-8-323"></a><span class="w">                                 </span>默认为0，为0的时候表达关闭管道。。。非必须项
<a id="__codelineno-8-324" name="__codelineno-8-324"></a>
<a id="__codelineno-8-325" name="__codelineno-8-325"></a><span class="p">;</span><span class="nv">stdout_events_enabled</span><span class="o">=</span><span class="nb">false</span><span class="w">   </span><span class="p">;</span><span class="w"> </span>当设置为ture的时候，当子进程由stdout向文件描述符中写日志的时候，将
<a id="__codelineno-8-326" name="__codelineno-8-326"></a>
<a id="__codelineno-8-327" name="__codelineno-8-327"></a><span class="w">                                 </span>触发supervisord发送PROCESS_LOG_STDOUT类型的event
<a id="__codelineno-8-328" name="__codelineno-8-328"></a>
<a id="__codelineno-8-329" name="__codelineno-8-329"></a><span class="w">                                 </span>默认为false。。。非必须设置
<a id="__codelineno-8-330" name="__codelineno-8-330"></a>
<a id="__codelineno-8-331" name="__codelineno-8-331"></a><span class="p">;</span><span class="nv">stderr_logfile</span><span class="o">=</span>/a/path<span class="w">        </span><span class="p">;</span><span class="w"> </span>这个东西是设置stderr写的日志路径，当redirect_stderr<span class="o">=</span>true。这个就不用
<a id="__codelineno-8-332" name="__codelineno-8-332"></a>
<a id="__codelineno-8-333" name="__codelineno-8-333"></a><span class="w">                                 </span>设置了，设置了也是白搭。因为它会被写入stdout_logfile的同一个文件中
<a id="__codelineno-8-334" name="__codelineno-8-334"></a>
<a id="__codelineno-8-335" name="__codelineno-8-335"></a><span class="w">                                 </span>默认为AUTO，也就是随便找个地存，supervisord重启被清空。。非必须设置
<a id="__codelineno-8-336" name="__codelineno-8-336"></a>
<a id="__codelineno-8-337" name="__codelineno-8-337"></a><span class="p">;</span><span class="nv">stderr_logfile_maxbytes</span><span class="o">=</span>1MB<span class="w">   </span><span class="p">;</span><span class="w"> </span>这个出现好几次了，就不重复了
<a id="__codelineno-8-338" name="__codelineno-8-338"></a>
<a id="__codelineno-8-339" name="__codelineno-8-339"></a><span class="p">;</span><span class="nv">stderr_logfile_backups</span><span class="o">=</span><span class="m">10</span><span class="w">     </span><span class="p">;</span><span class="w"> </span>这个也是
<a id="__codelineno-8-340" name="__codelineno-8-340"></a>
<a id="__codelineno-8-341" name="__codelineno-8-341"></a><span class="p">;</span><span class="nv">stderr_capture_maxbytes</span><span class="o">=</span>1MB<span class="w">   </span><span class="p">;</span><span class="w"> </span>这个一样，和stdout_capture一样。<span class="w"> </span>默认为0，关闭状态
<a id="__codelineno-8-342" name="__codelineno-8-342"></a>
<a id="__codelineno-8-343" name="__codelineno-8-343"></a><span class="p">;</span><span class="nv">stderr_events_enabled</span><span class="o">=</span><span class="nb">false</span><span class="w">   </span><span class="p">;</span><span class="w"> </span>这个也是一样，默认为false
<a id="__codelineno-8-344" name="__codelineno-8-344"></a>
<a id="__codelineno-8-345" name="__codelineno-8-345"></a><span class="p">;</span><span class="nv">environment</span><span class="o">=</span><span class="nv">A</span><span class="o">=</span><span class="s2">&quot;1&quot;</span>,B<span class="o">=</span><span class="s2">&quot;2&quot;</span><span class="w">       </span><span class="p">;</span><span class="w"> </span>这个是该子进程的环境变量，和别的子进程是不共享的
<a id="__codelineno-8-346" name="__codelineno-8-346"></a>
<a id="__codelineno-8-347" name="__codelineno-8-347"></a><span class="p">;</span><span class="nv">serverurl</span><span class="o">=</span>AUTO<span class="w">                </span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-8-348" name="__codelineno-8-348"></a>
<a id="__codelineno-8-349" name="__codelineno-8-349"></a><span class="p">;</span><span class="w"> </span>The<span class="w"> </span>below<span class="w"> </span>sample<span class="w"> </span>eventlistener<span class="w"> </span>section<span class="w"> </span>shows<span class="w"> </span>all<span class="w"> </span>possible
<a id="__codelineno-8-350" name="__codelineno-8-350"></a>
<a id="__codelineno-8-351" name="__codelineno-8-351"></a><span class="p">;</span><span class="w"> </span>eventlistener<span class="w"> </span>subsection<span class="w"> </span>values,<span class="w"> </span>create<span class="w"> </span>one<span class="w"> </span>or<span class="w"> </span>more<span class="w"> </span><span class="s1">&#39;real&#39;</span>
<a id="__codelineno-8-352" name="__codelineno-8-352"></a>
<a id="__codelineno-8-353" name="__codelineno-8-353"></a><span class="p">;</span><span class="w"> </span>eventlistener:<span class="w"> </span>sections<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>able<span class="w"> </span>to<span class="w"> </span>handle<span class="w"> </span>event<span class="w"> </span>notifications
<a id="__codelineno-8-354" name="__codelineno-8-354"></a>
<a id="__codelineno-8-355" name="__codelineno-8-355"></a><span class="p">;</span><span class="w"> </span>sent<span class="w"> </span>by<span class="w"> </span>supervisor.
<a id="__codelineno-8-356" name="__codelineno-8-356"></a>
<a id="__codelineno-8-357" name="__codelineno-8-357"></a><span class="p">;</span><span class="o">[</span>eventlistener:theeventlistenername<span class="o">]</span><span class="w"> </span><span class="p">;</span>这个东西其实和program的地位是一样的，也是suopervisor启动的子进
<a id="__codelineno-8-358" name="__codelineno-8-358"></a>
<a id="__codelineno-8-359" name="__codelineno-8-359"></a><span class="w">                                       </span>程，不过它干的活是订阅supervisord发送的event。他的名字就叫
<a id="__codelineno-8-360" name="__codelineno-8-360"></a>
<a id="__codelineno-8-361" name="__codelineno-8-361"></a><span class="w">                                       </span>listener了。我们可以在listener里面做一系列处理，比如报警等等
<a id="__codelineno-8-362" name="__codelineno-8-362"></a>
<a id="__codelineno-8-363" name="__codelineno-8-363"></a><span class="w">                                       </span>楼主这两天干的活，就是弄的这玩意
<a id="__codelineno-8-364" name="__codelineno-8-364"></a>
<a id="__codelineno-8-365" name="__codelineno-8-365"></a><span class="p">;</span><span class="nv">command</span><span class="o">=</span>/bin/eventlistener<span class="w">    </span><span class="p">;</span><span class="w"> </span>这个和上面的program一样，表示listener的可执行文件的路径
<a id="__codelineno-8-366" name="__codelineno-8-366"></a>
<a id="__codelineno-8-367" name="__codelineno-8-367"></a><span class="p">;</span><span class="nv">process_name</span><span class="o">=</span>%<span class="o">(</span>program_name<span class="o">)</span>s<span class="w"> </span><span class="p">;</span><span class="w"> </span>这个也一样，进程名，当下面的numprocs为多个的时候，才需要。否则默认就
<a id="__codelineno-8-368" name="__codelineno-8-368"></a>
<a id="__codelineno-8-369" name="__codelineno-8-369"></a><span class="w">                                 </span>OK了
<a id="__codelineno-8-370" name="__codelineno-8-370"></a>
<a id="__codelineno-8-371" name="__codelineno-8-371"></a><span class="p">;</span><span class="nv">numprocs</span><span class="o">=</span><span class="m">1</span><span class="w">                    </span><span class="p">;</span><span class="w"> </span>相同的listener启动的个数
<a id="__codelineno-8-372" name="__codelineno-8-372"></a>
<a id="__codelineno-8-373" name="__codelineno-8-373"></a><span class="p">;</span><span class="nv">events</span><span class="o">=</span>EVENT<span class="w">                  </span><span class="p">;</span><span class="w"> </span>event事件的类型，也就是说，只有写在这个地方的事件类型。才会被发送
<a id="__codelineno-8-374" name="__codelineno-8-374"></a>
<a id="__codelineno-8-375" name="__codelineno-8-375"></a>
<a id="__codelineno-8-376" name="__codelineno-8-376"></a>
<a id="__codelineno-8-377" name="__codelineno-8-377"></a>
<a id="__codelineno-8-378" name="__codelineno-8-378"></a>
<a id="__codelineno-8-379" name="__codelineno-8-379"></a><span class="p">;</span><span class="nv">buffer_size</span><span class="o">=</span><span class="m">10</span><span class="w">                </span><span class="p">;</span><span class="w"> </span>这个是event队列缓存大小，单位不太清楚，楼主猜测应该是个吧。当buffer
<a id="__codelineno-8-380" name="__codelineno-8-380"></a>
<a id="__codelineno-8-381" name="__codelineno-8-381"></a><span class="w">                                 </span>超过10的时候，最旧的event将会被清除，并把新的event放进去。
<a id="__codelineno-8-382" name="__codelineno-8-382"></a>
<a id="__codelineno-8-383" name="__codelineno-8-383"></a><span class="w">                                 </span>默认值为10。。非必须选项
<a id="__codelineno-8-384" name="__codelineno-8-384"></a>
<a id="__codelineno-8-385" name="__codelineno-8-385"></a><span class="p">;</span><span class="nv">directory</span><span class="o">=</span>/tmp<span class="w">                </span><span class="p">;</span><span class="w"> </span>进程执行前，会切换到这个目录下执行
<a id="__codelineno-8-386" name="__codelineno-8-386"></a>
<a id="__codelineno-8-387" name="__codelineno-8-387"></a><span class="w">                                 </span>默认为不切换。。。非必须
<a id="__codelineno-8-388" name="__codelineno-8-388"></a>
<a id="__codelineno-8-389" name="__codelineno-8-389"></a><span class="p">;</span><span class="nv">umask</span><span class="o">=</span><span class="m">022</span><span class="w">                     </span><span class="p">;</span><span class="w"> </span>淹没，默认为none，不说了
<a id="__codelineno-8-390" name="__codelineno-8-390"></a>
<a id="__codelineno-8-391" name="__codelineno-8-391"></a><span class="p">;</span><span class="nv">priority</span><span class="o">=</span>-1<span class="w">                   </span><span class="p">;</span><span class="w"> </span>启动优先级，默认-1，也不扯了
<a id="__codelineno-8-392" name="__codelineno-8-392"></a>
<a id="__codelineno-8-393" name="__codelineno-8-393"></a><span class="p">;</span><span class="nv">autostart</span><span class="o">=</span><span class="nb">true</span><span class="w">                </span><span class="p">;</span><span class="w"> </span>是否随supervisord启动一起启动，默认true
<a id="__codelineno-8-394" name="__codelineno-8-394"></a>
<a id="__codelineno-8-395" name="__codelineno-8-395"></a><span class="p">;</span><span class="nv">autorestart</span><span class="o">=</span>unexpected<span class="w">        </span><span class="p">;</span><span class="w"> </span>是否自动重启，和program一个样，分true,false,unexpected等，注意
<a id="__codelineno-8-396" name="__codelineno-8-396"></a>
<a id="__codelineno-8-397" name="__codelineno-8-397"></a><span class="w">                                  </span>unexpected和exitcodes的关系
<a id="__codelineno-8-398" name="__codelineno-8-398"></a>
<a id="__codelineno-8-399" name="__codelineno-8-399"></a><span class="p">;</span><span class="nv">startsecs</span><span class="o">=</span><span class="m">1</span><span class="w">                   </span><span class="p">;</span><span class="w"> </span>也是一样，进程启动后跑了几秒钟，才被认定为成功启动，默认1
<a id="__codelineno-8-400" name="__codelineno-8-400"></a>
<a id="__codelineno-8-401" name="__codelineno-8-401"></a><span class="p">;</span><span class="nv">startretries</span><span class="o">=</span><span class="m">3</span><span class="w">                </span><span class="p">;</span><span class="w"> </span>失败最大尝试次数，默认3
<a id="__codelineno-8-402" name="__codelineno-8-402"></a>
<a id="__codelineno-8-403" name="__codelineno-8-403"></a><span class="p">;</span><span class="nv">exitcodes</span><span class="o">=</span><span class="m">0</span>,2<span class="w">                 </span><span class="p">;</span><span class="w"> </span>期望或者说预料中的进程退出码，
<a id="__codelineno-8-404" name="__codelineno-8-404"></a>
<a id="__codelineno-8-405" name="__codelineno-8-405"></a><span class="p">;</span><span class="nv">stopsignal</span><span class="o">=</span>QUIT<span class="w">               </span><span class="p">;</span><span class="w"> </span>干掉进程的信号，默认为TERM，比如设置为QUIT，那么如果QUIT来干这个进程
<a id="__codelineno-8-406" name="__codelineno-8-406"></a>
<a id="__codelineno-8-407" name="__codelineno-8-407"></a><span class="w">                                 </span>那么会被认为是正常维护，退出码也被认为是expected中的
<a id="__codelineno-8-408" name="__codelineno-8-408"></a>
<a id="__codelineno-8-409" name="__codelineno-8-409"></a><span class="p">;</span><span class="nv">stopwaitsecs</span><span class="o">=</span><span class="m">10</span><span class="w">               </span><span class="p">;</span><span class="w"> </span>max<span class="w"> </span>num<span class="w"> </span>secs<span class="w"> </span>to<span class="w"> </span><span class="nb">wait</span><span class="w"> </span>b4<span class="w"> </span>SIGKILL<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="m">10</span><span class="o">)</span>
<a id="__codelineno-8-410" name="__codelineno-8-410"></a>
<a id="__codelineno-8-411" name="__codelineno-8-411"></a><span class="p">;</span><span class="nv">stopasgroup</span><span class="o">=</span><span class="nb">false</span><span class="w">             </span><span class="p">;</span><span class="w"> </span>send<span class="w"> </span>stop<span class="w"> </span>signal<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>UNIX<span class="w"> </span>process<span class="w"> </span>group<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="nb">false</span><span class="o">)</span>
<a id="__codelineno-8-412" name="__codelineno-8-412"></a>
<a id="__codelineno-8-413" name="__codelineno-8-413"></a><span class="p">;</span><span class="nv">killasgroup</span><span class="o">=</span><span class="nb">false</span><span class="w">             </span><span class="p">;</span><span class="w"> </span>SIGKILL<span class="w"> </span>the<span class="w"> </span>UNIX<span class="w"> </span>process<span class="w"> </span>group<span class="w"> </span><span class="o">(</span>def<span class="w"> </span><span class="nb">false</span><span class="o">)</span>
<a id="__codelineno-8-414" name="__codelineno-8-414"></a>
<a id="__codelineno-8-415" name="__codelineno-8-415"></a><span class="p">;</span><span class="nv">user</span><span class="o">=</span>chrism<span class="w">                   </span><span class="p">;</span>设置普通用户，可以用来管理该listener进程。
<a id="__codelineno-8-416" name="__codelineno-8-416"></a>
<a id="__codelineno-8-417" name="__codelineno-8-417"></a><span class="w">                                </span>默认为空。。非必须设置
<a id="__codelineno-8-418" name="__codelineno-8-418"></a>
<a id="__codelineno-8-419" name="__codelineno-8-419"></a><span class="p">;</span><span class="nv">redirect_stderr</span><span class="o">=</span><span class="nb">true</span><span class="w">          </span><span class="p">;</span><span class="w"> </span>为true的话，stderr的log会并入stdout的log里面
<a id="__codelineno-8-420" name="__codelineno-8-420"></a>
<a id="__codelineno-8-421" name="__codelineno-8-421"></a><span class="w">                                </span>默认为false。。。非必须设置
<a id="__codelineno-8-422" name="__codelineno-8-422"></a>
<a id="__codelineno-8-423" name="__codelineno-8-423"></a><span class="p">;</span><span class="nv">stdout_logfile</span><span class="o">=</span>/a/path<span class="w">        </span><span class="p">;</span><span class="w"> </span>这个不说了，好几遍了
<a id="__codelineno-8-424" name="__codelineno-8-424"></a>
<a id="__codelineno-8-425" name="__codelineno-8-425"></a><span class="p">;</span><span class="nv">stdout_logfile_maxbytes</span><span class="o">=</span>1MB<span class="w">   </span><span class="p">;</span><span class="w"> </span>这个也是
<a id="__codelineno-8-426" name="__codelineno-8-426"></a>
<a id="__codelineno-8-427" name="__codelineno-8-427"></a><span class="p">;</span><span class="nv">stdout_logfile_backups</span><span class="o">=</span><span class="m">10</span><span class="w">     </span><span class="p">;</span><span class="w"> </span>这个也是
<a id="__codelineno-8-428" name="__codelineno-8-428"></a>
<a id="__codelineno-8-429" name="__codelineno-8-429"></a><span class="p">;</span><span class="nv">stdout_events_enabled</span><span class="o">=</span><span class="nb">false</span><span class="w">   </span><span class="p">;</span><span class="w"> </span>这个其实是错的，listener是不能发送event
<a id="__codelineno-8-430" name="__codelineno-8-430"></a>
<a id="__codelineno-8-431" name="__codelineno-8-431"></a><span class="p">;</span><span class="nv">stderr_logfile</span><span class="o">=</span>/a/path<span class="w">        </span><span class="p">;</span><span class="w"> </span>这个也是
<a id="__codelineno-8-432" name="__codelineno-8-432"></a>
<a id="__codelineno-8-433" name="__codelineno-8-433"></a><span class="p">;</span><span class="nv">stderr_logfile_maxbytes</span><span class="o">=</span>1MB<span class="w">   </span><span class="p">;</span><span class="w"> </span>这个也是
<a id="__codelineno-8-434" name="__codelineno-8-434"></a>
<a id="__codelineno-8-435" name="__codelineno-8-435"></a><span class="p">;</span>stderr_logfile_backups<span class="w">        </span><span class="p">;</span><span class="w"> </span>这个不说了
<a id="__codelineno-8-436" name="__codelineno-8-436"></a>
<a id="__codelineno-8-437" name="__codelineno-8-437"></a><span class="p">;</span><span class="nv">stderr_events_enabled</span><span class="o">=</span><span class="nb">false</span><span class="w">   </span><span class="p">;</span><span class="w"> </span>这个也是错的，listener不能发送event
<a id="__codelineno-8-438" name="__codelineno-8-438"></a>
<a id="__codelineno-8-439" name="__codelineno-8-439"></a><span class="p">;</span><span class="nv">environment</span><span class="o">=</span><span class="nv">A</span><span class="o">=</span><span class="s2">&quot;1&quot;</span>,B<span class="o">=</span><span class="s2">&quot;2&quot;</span><span class="w">       </span><span class="p">;</span><span class="w"> </span>这个是该子进程的环境变量
<a id="__codelineno-8-440" name="__codelineno-8-440"></a>
<a id="__codelineno-8-441" name="__codelineno-8-441"></a><span class="w">                                 </span>默认为空。。。非必须设置
<a id="__codelineno-8-442" name="__codelineno-8-442"></a>
<a id="__codelineno-8-443" name="__codelineno-8-443"></a><span class="p">;</span><span class="nv">serverurl</span><span class="o">=</span>AUTO<span class="w">                </span><span class="p">;</span><span class="w"> </span>override<span class="w"> </span>serverurl<span class="w"> </span>computation<span class="w"> </span><span class="o">(</span>childutils<span class="o">)</span>
<a id="__codelineno-8-444" name="__codelineno-8-444"></a>
<a id="__codelineno-8-445" name="__codelineno-8-445"></a><span class="p">;</span><span class="w"> </span>The<span class="w"> </span>below<span class="w"> </span>sample<span class="w"> </span>group<span class="w"> </span>section<span class="w"> </span>shows<span class="w"> </span>all<span class="w"> </span>possible<span class="w"> </span>group<span class="w"> </span>values,
<a id="__codelineno-8-446" name="__codelineno-8-446"></a>
<a id="__codelineno-8-447" name="__codelineno-8-447"></a><span class="p">;</span><span class="w"> </span>create<span class="w"> </span>one<span class="w"> </span>or<span class="w"> </span>more<span class="w"> </span><span class="s1">&#39;real&#39;</span><span class="w"> </span>group:<span class="w"> </span>sections<span class="w"> </span>to<span class="w"> </span>create<span class="w"> </span><span class="s2">&quot;heterogeneous&quot;</span>
<a id="__codelineno-8-448" name="__codelineno-8-448"></a>
<a id="__codelineno-8-449" name="__codelineno-8-449"></a><span class="p">;</span><span class="w"> </span>process<span class="w"> </span>groups.
<a id="__codelineno-8-450" name="__codelineno-8-450"></a>
<a id="__codelineno-8-451" name="__codelineno-8-451"></a><span class="p">;</span><span class="o">[</span>group:thegroupname<span class="o">]</span><span class="w">  </span><span class="p">;</span>这个东西就是给programs分组，划分到组里面的program。我们就不用一个一个去操作了
<a id="__codelineno-8-452" name="__codelineno-8-452"></a>
<a id="__codelineno-8-453" name="__codelineno-8-453"></a><span class="w">                         </span>我们可以对组名进行统一的操作。<span class="w"> </span>注意：program被划分到组里面之后，就相当于原来
<a id="__codelineno-8-454" name="__codelineno-8-454"></a>
<a id="__codelineno-8-455" name="__codelineno-8-455"></a><span class="w">                         </span>的配置从supervisor的配置文件里消失了。。。supervisor只会对组进行管理，而不再
<a id="__codelineno-8-456" name="__codelineno-8-456"></a>
<a id="__codelineno-8-457" name="__codelineno-8-457"></a><span class="w">                         </span>会对组里面的单个program进行管理了
<a id="__codelineno-8-458" name="__codelineno-8-458"></a>
<a id="__codelineno-8-459" name="__codelineno-8-459"></a><span class="p">;</span><span class="nv">programs</span><span class="o">=</span>progname1,progname2<span class="w">  </span><span class="p">;</span><span class="w"> </span>组成员，用逗号分开
<a id="__codelineno-8-460" name="__codelineno-8-460"></a>
<a id="__codelineno-8-461" name="__codelineno-8-461"></a><span class="w">                                 </span>这个是个必须的设置项
<a id="__codelineno-8-462" name="__codelineno-8-462"></a>
<a id="__codelineno-8-463" name="__codelineno-8-463"></a><span class="p">;</span><span class="nv">priority</span><span class="o">=</span><span class="m">999</span><span class="w">                  </span><span class="p">;</span><span class="w"> </span>优先级，相对于组和组之间说的
<a id="__codelineno-8-464" name="__codelineno-8-464"></a>
<a id="__codelineno-8-465" name="__codelineno-8-465"></a><span class="w">                                 </span>默认999。。非必须选项
<a id="__codelineno-8-466" name="__codelineno-8-466"></a>
<a id="__codelineno-8-467" name="__codelineno-8-467"></a><span class="p">;</span><span class="w"> </span>The<span class="w"> </span><span class="o">[</span>include<span class="o">]</span><span class="w"> </span>section<span class="w"> </span>can<span class="w"> </span>just<span class="w"> </span>contain<span class="w"> </span>the<span class="w"> </span><span class="s2">&quot;files&quot;</span><span class="w"> </span>setting.<span class="w">  </span>This
<a id="__codelineno-8-468" name="__codelineno-8-468"></a>
<a id="__codelineno-8-469" name="__codelineno-8-469"></a><span class="p">;</span><span class="w"> </span>setting<span class="w"> </span>can<span class="w"> </span>list<span class="w"> </span>multiple<span class="w"> </span>files<span class="w"> </span><span class="o">(</span>separated<span class="w"> </span>by<span class="w"> </span>whitespace<span class="w"> </span>or
<a id="__codelineno-8-470" name="__codelineno-8-470"></a>
<a id="__codelineno-8-471" name="__codelineno-8-471"></a><span class="p">;</span><span class="w"> </span>newlines<span class="o">)</span>.<span class="w">  </span>It<span class="w"> </span>can<span class="w"> </span>also<span class="w"> </span>contain<span class="w"> </span>wildcards.<span class="w">  </span>The<span class="w"> </span>filenames<span class="w"> </span>are
<a id="__codelineno-8-472" name="__codelineno-8-472"></a>
<a id="__codelineno-8-473" name="__codelineno-8-473"></a><span class="p">;</span><span class="w"> </span>interpreted<span class="w"> </span>as<span class="w"> </span>relative<span class="w"> </span>to<span class="w"> </span>this<span class="w"> </span>file.<span class="w">  </span>Included<span class="w"> </span>files<span class="w"> </span>*cannot*
<a id="__codelineno-8-474" name="__codelineno-8-474"></a>
<a id="__codelineno-8-475" name="__codelineno-8-475"></a><span class="p">;</span><span class="w"> </span>include<span class="w"> </span>files<span class="w"> </span>themselves.
<a id="__codelineno-8-476" name="__codelineno-8-476"></a>
<a id="__codelineno-8-477" name="__codelineno-8-477"></a><span class="p">;</span><span class="o">[</span>include<span class="o">]</span><span class="w">                         </span><span class="p">;</span>这个东西挺有用的，当我们要管理的进程很多的时候，写在一个文件里面
<a id="__codelineno-8-478" name="__codelineno-8-478"></a>
<a id="__codelineno-8-479" name="__codelineno-8-479"></a><span class="w">                                    </span>就有点大了。我们可以把配置信息写到多个文件中，然后include过来
<a id="__codelineno-8-480" name="__codelineno-8-480"></a>
<a id="__codelineno-8-481" name="__codelineno-8-481"></a><span class="p">;</span><span class="nv">files</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>relative/directory/*.ini
</code></pre></div></td></tr></table></div>
<h2 id="supervisor_1">Supervisor控制台<a class="headerlink" href="#supervisor_1" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>在/etc/supervisord.conf中修改[inet_http_server]的参数，具体如下：
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span>
<span class="normal"><a href="#__codelineno-9-3">3</a></span>
<span class="normal"><a href="#__codelineno-9-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a>[inet_http_server]         ; inet (TCP) server disabled by default
<a id="__codelineno-9-2" name="__codelineno-9-2"></a>port=*:9001                ; ip_address:port specifier, *:port for all iface
<a id="__codelineno-9-3" name="__codelineno-9-3"></a>username=root              ; default is no username (open server)
<a id="__codelineno-9-4" name="__codelineno-9-4"></a>password=xxxx              ; default is no password (open server)
</code></pre></div></td></tr></table></div></p>
</li>
<li>
<p>修改后重启supervisor进程，在浏览器访问 http://<host-ip>:9001。</p>
</li>
</ul>
<h2 id="_9">分组管理<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>Supervisor 同时还提供了另外一种进程组的管理方式，通过这种方式，可以使用 supervisorctl 命令来管理一组进程，通过在配置文件中添加如下的配置，将多个服务添加至分组中
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a>[group:group_name]
<a id="__codelineno-10-2" name="__codelineno-10-2"></a>programs=progname1,progname2
</code></pre></div></td></tr></table></div></p>
</li>
<li>
<p>注意:</p>
</li>
<li>当添加了上述配置后，progname1 和 progname2 的进程名就会变成 group_name:progname1 和 group_name:progname2 以后就要用这个名字来管理进程了，而不是之前的 progname1。</li>
<li>以后执行 supervisorctl stop group_name: 就能同时结束 progname1 和 progname2，执行 supervisorctl stop group_name:progname1 就能结束 progname1</li>
</ul>
<h2 id="supervisor_2">Supervisor配置开机启动<a class="headerlink" href="#supervisor_2" title="Permanent link">&para;</a></h2>
<h3 id="_10">方式一：<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<ul>
<li>Linux环境中：以systemd的方式管理</li>
<li>
<p>编写启动脚本：vim /etc/rc.d/init.d/supervisord
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-11-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-11-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-11-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-11-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-11-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-11-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-11-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-11-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-11-10">10</a></span>
<span class="normal"><a href="#__codelineno-11-11">11</a></span>
<span class="normal"><a href="#__codelineno-11-12">12</a></span>
<span class="normal"><a href="#__codelineno-11-13">13</a></span>
<span class="normal"><a href="#__codelineno-11-14">14</a></span>
<span class="normal"><a href="#__codelineno-11-15">15</a></span>
<span class="normal"><a href="#__codelineno-11-16">16</a></span>
<span class="normal"><a href="#__codelineno-11-17">17</a></span>
<span class="normal"><a href="#__codelineno-11-18">18</a></span>
<span class="normal"><a href="#__codelineno-11-19">19</a></span>
<span class="normal"><a href="#__codelineno-11-20">20</a></span>
<span class="normal"><a href="#__codelineno-11-21">21</a></span>
<span class="normal"><a href="#__codelineno-11-22">22</a></span>
<span class="normal"><a href="#__codelineno-11-23">23</a></span>
<span class="normal"><a href="#__codelineno-11-24">24</a></span>
<span class="normal"><a href="#__codelineno-11-25">25</a></span>
<span class="normal"><a href="#__codelineno-11-26">26</a></span>
<span class="normal"><a href="#__codelineno-11-27">27</a></span>
<span class="normal"><a href="#__codelineno-11-28">28</a></span>
<span class="normal"><a href="#__codelineno-11-29">29</a></span>
<span class="normal"><a href="#__codelineno-11-30">30</a></span>
<span class="normal"><a href="#__codelineno-11-31">31</a></span>
<span class="normal"><a href="#__codelineno-11-32">32</a></span>
<span class="normal"><a href="#__codelineno-11-33">33</a></span>
<span class="normal"><a href="#__codelineno-11-34">34</a></span>
<span class="normal"><a href="#__codelineno-11-35">35</a></span>
<span class="normal"><a href="#__codelineno-11-36">36</a></span>
<span class="normal"><a href="#__codelineno-11-37">37</a></span>
<span class="normal"><a href="#__codelineno-11-38">38</a></span>
<span class="normal"><a href="#__codelineno-11-39">39</a></span>
<span class="normal"><a href="#__codelineno-11-40">40</a></span>
<span class="normal"><a href="#__codelineno-11-41">41</a></span>
<span class="normal"><a href="#__codelineno-11-42">42</a></span>
<span class="normal"><a href="#__codelineno-11-43">43</a></span>
<span class="normal"><a href="#__codelineno-11-44">44</a></span>
<span class="normal"><a href="#__codelineno-11-45">45</a></span>
<span class="normal"><a href="#__codelineno-11-46">46</a></span>
<span class="normal"><a href="#__codelineno-11-47">47</a></span>
<span class="normal"><a href="#__codelineno-11-48">48</a></span>
<span class="normal"><a href="#__codelineno-11-49">49</a></span>
<span class="normal"><a href="#__codelineno-11-50">50</a></span>
<span class="normal"><a href="#__codelineno-11-51">51</a></span>
<span class="normal"><a href="#__codelineno-11-52">52</a></span>
<span class="normal"><a href="#__codelineno-11-53">53</a></span>
<span class="normal"><a href="#__codelineno-11-54">54</a></span>
<span class="normal"><a href="#__codelineno-11-55">55</a></span>
<span class="normal"><a href="#__codelineno-11-56">56</a></span>
<span class="normal"><a href="#__codelineno-11-57">57</a></span>
<span class="normal"><a href="#__codelineno-11-58">58</a></span>
<span class="normal"><a href="#__codelineno-11-59">59</a></span>
<span class="normal"><a href="#__codelineno-11-60">60</a></span>
<span class="normal"><a href="#__codelineno-11-61">61</a></span>
<span class="normal"><a href="#__codelineno-11-62">62</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="ch">#!/bin/sh</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="c1">#</span>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="c1"># /etc/rc.d/init.d/supervisord</span>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="c1">#</span>
<a id="__codelineno-11-5" name="__codelineno-11-5"></a><span class="c1"># Supervisor is a client/server system that</span>
<a id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="c1"># allows its users to monitor and control a</span>
<a id="__codelineno-11-7" name="__codelineno-11-7"></a><span class="c1"># number of processes on UNIX-like operating</span>
<a id="__codelineno-11-8" name="__codelineno-11-8"></a><span class="c1"># systems.</span>
<a id="__codelineno-11-9" name="__codelineno-11-9"></a><span class="c1">#</span>
<a id="__codelineno-11-10" name="__codelineno-11-10"></a><span class="c1"># chkconfig: - 64 36</span>
<a id="__codelineno-11-11" name="__codelineno-11-11"></a><span class="c1"># description: Supervisor Server</span>
<a id="__codelineno-11-12" name="__codelineno-11-12"></a><span class="c1"># processname: supervisord</span>
<a id="__codelineno-11-13" name="__codelineno-11-13"></a>
<a id="__codelineno-11-14" name="__codelineno-11-14"></a><span class="c1"># Source init functions</span>
<a id="__codelineno-11-15" name="__codelineno-11-15"></a>.<span class="w"> </span>/etc/rc.d/init.d/functions
<a id="__codelineno-11-16" name="__codelineno-11-16"></a>
<a id="__codelineno-11-17" name="__codelineno-11-17"></a><span class="nv">prog</span><span class="o">=</span><span class="s2">&quot;supervisord&quot;</span>
<a id="__codelineno-11-18" name="__codelineno-11-18"></a>
<a id="__codelineno-11-19" name="__codelineno-11-19"></a><span class="nv">prefix</span><span class="o">=</span><span class="s2">&quot;/usr&quot;</span>
<a id="__codelineno-11-20" name="__codelineno-11-20"></a><span class="nv">exec_prefix</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">prefix</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-11-21" name="__codelineno-11-21"></a><span class="nv">prog_bin</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">exec_prefix</span><span class="si">}</span><span class="s2">/bin/supervisord&quot;</span>
<a id="__codelineno-11-22" name="__codelineno-11-22"></a><span class="nv">PIDFILE</span><span class="o">=</span><span class="s2">&quot;/var/run/</span><span class="nv">$prog</span><span class="s2">.pid&quot;</span>
<a id="__codelineno-11-23" name="__codelineno-11-23"></a>
<a id="__codelineno-11-24" name="__codelineno-11-24"></a>start<span class="o">()</span>
<a id="__codelineno-11-25" name="__codelineno-11-25"></a><span class="o">{</span>
<a id="__codelineno-11-26" name="__codelineno-11-26"></a><span class="nb">echo</span><span class="w"> </span>-n<span class="w"> </span>$<span class="s2">&quot;Starting </span><span class="nv">$prog</span><span class="s2">: &quot;</span>
<a id="__codelineno-11-27" name="__codelineno-11-27"></a>daemon<span class="w"> </span><span class="nv">$prog_bin</span><span class="w"> </span>--pidfile<span class="w"> </span><span class="nv">$PIDFILE</span><span class="w"> </span>-c<span class="w"> </span>/etc/supervisord.conf
<a id="__codelineno-11-28" name="__codelineno-11-28"></a><span class="o">[</span><span class="w"> </span>-f<span class="w"> </span><span class="nv">$PIDFILE</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>success<span class="w"> </span>$<span class="s2">&quot;</span><span class="nv">$prog</span><span class="s2"> startup&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>failure<span class="w"> </span>$<span class="s2">&quot;</span><span class="nv">$prog</span><span class="s2"> startup&quot;</span>
<a id="__codelineno-11-29" name="__codelineno-11-29"></a><span class="nb">echo</span>
<a id="__codelineno-11-30" name="__codelineno-11-30"></a><span class="o">}</span>
<a id="__codelineno-11-31" name="__codelineno-11-31"></a>
<a id="__codelineno-11-32" name="__codelineno-11-32"></a>stop<span class="o">()</span>
<a id="__codelineno-11-33" name="__codelineno-11-33"></a><span class="o">{</span>
<a id="__codelineno-11-34" name="__codelineno-11-34"></a><span class="nb">echo</span><span class="w"> </span>-n<span class="w"> </span>$<span class="s2">&quot;Shutting down </span><span class="nv">$prog</span><span class="s2">: &quot;</span>
<a id="__codelineno-11-35" name="__codelineno-11-35"></a><span class="o">[</span><span class="w"> </span>-f<span class="w"> </span><span class="nv">$PIDFILE</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>killproc<span class="w"> </span><span class="nv">$prog</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>success<span class="w"> </span>$<span class="s2">&quot;</span><span class="nv">$prog</span><span class="s2"> shutdown&quot;</span>
<a id="__codelineno-11-36" name="__codelineno-11-36"></a><span class="nb">echo</span>
<a id="__codelineno-11-37" name="__codelineno-11-37"></a><span class="o">}</span>
<a id="__codelineno-11-38" name="__codelineno-11-38"></a>
<a id="__codelineno-11-39" name="__codelineno-11-39"></a><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<a id="__codelineno-11-40" name="__codelineno-11-40"></a>
<a id="__codelineno-11-41" name="__codelineno-11-41"></a>start<span class="o">)</span>
<a id="__codelineno-11-42" name="__codelineno-11-42"></a>start
<a id="__codelineno-11-43" name="__codelineno-11-43"></a><span class="p">;;</span>
<a id="__codelineno-11-44" name="__codelineno-11-44"></a>
<a id="__codelineno-11-45" name="__codelineno-11-45"></a>stop<span class="o">)</span>
<a id="__codelineno-11-46" name="__codelineno-11-46"></a>stop
<a id="__codelineno-11-47" name="__codelineno-11-47"></a><span class="p">;;</span>
<a id="__codelineno-11-48" name="__codelineno-11-48"></a>
<a id="__codelineno-11-49" name="__codelineno-11-49"></a>status<span class="o">)</span>
<a id="__codelineno-11-50" name="__codelineno-11-50"></a>status<span class="w"> </span><span class="nv">$prog</span>
<a id="__codelineno-11-51" name="__codelineno-11-51"></a><span class="p">;;</span>
<a id="__codelineno-11-52" name="__codelineno-11-52"></a>
<a id="__codelineno-11-53" name="__codelineno-11-53"></a>restart<span class="o">)</span>
<a id="__codelineno-11-54" name="__codelineno-11-54"></a>stop
<a id="__codelineno-11-55" name="__codelineno-11-55"></a>start
<a id="__codelineno-11-56" name="__codelineno-11-56"></a><span class="p">;;</span>
<a id="__codelineno-11-57" name="__codelineno-11-57"></a>
<a id="__codelineno-11-58" name="__codelineno-11-58"></a>*<span class="o">)</span>
<a id="__codelineno-11-59" name="__codelineno-11-59"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Usage: </span><span class="nv">$0</span><span class="s2"> {start|stop|restart|status}&quot;</span>
<a id="__codelineno-11-60" name="__codelineno-11-60"></a><span class="p">;;</span>
<a id="__codelineno-11-61" name="__codelineno-11-61"></a>
<a id="__codelineno-11-62" name="__codelineno-11-62"></a><span class="k">esac</span>
</code></pre></div></td></tr></table></div></p>
</li>
<li>
<p>设置开机启动及systemd方式启动。
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1">1</a></span>
<span class="normal"><a href="#__codelineno-12-2">2</a></span>
<span class="normal"><a href="#__codelineno-12-3">3</a></span>
<span class="normal"><a href="#__codelineno-12-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a>sudo<span class="w"> </span>chmod<span class="w"> </span>+x<span class="w"> </span>/etc/rc.d/init.d/supervisord
<a id="__codelineno-12-2" name="__codelineno-12-2"></a>sudo<span class="w"> </span>chkconfig<span class="w"> </span>--add<span class="w"> </span>supervisord
<a id="__codelineno-12-3" name="__codelineno-12-3"></a>sudo<span class="w"> </span>chkconfig<span class="w"> </span>supervisord<span class="w"> </span>on
<a id="__codelineno-12-4" name="__codelineno-12-4"></a>sudo<span class="w"> </span>service<span class="w"> </span>supervisord<span class="w"> </span>start
</code></pre></div></td></tr></table></div></p>
</li>
</ul>
<h3 id="_11">方式二：<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<blockquote>
<p>centos-7</p>
</blockquote>
<ul>
<li>
<p>进入 / lib/systemd/system 目录，并创建 supervisord.service 文件。
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-13-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-13-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-13-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-13-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-13-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-13-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-13-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-13-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-13-10">10</a></span>
<span class="normal"><a href="#__codelineno-13-11">11</a></span>
<span class="normal"><a href="#__codelineno-13-12">12</a></span>
<span class="normal"><a href="#__codelineno-13-13">13</a></span>
<span class="normal"><a href="#__codelineno-13-14">14</a></span>
<span class="normal"><a href="#__codelineno-13-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="o">[</span>Unit<span class="o">]</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="nv">Description</span><span class="o">=</span>supervisord
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="nv">After</span><span class="o">=</span>network.target
<a id="__codelineno-13-4" name="__codelineno-13-4"></a>
<a id="__codelineno-13-5" name="__codelineno-13-5"></a><span class="o">[</span>Service<span class="o">]</span>
<a id="__codelineno-13-6" name="__codelineno-13-6"></a><span class="nv">Type</span><span class="o">=</span>forking
<a id="__codelineno-13-7" name="__codelineno-13-7"></a><span class="nv">ExecStart</span><span class="o">=</span>/usr/bin/supervisord<span class="w"> </span>-c<span class="w"> </span>/etc/supervisor/supervisord.conf
<a id="__codelineno-13-8" name="__codelineno-13-8"></a><span class="nv">ExecStop</span><span class="o">=</span>/usr/bin/supervisorctl<span class="w"> </span><span class="nv">$OPTIONS</span><span class="w"> </span>shutdown
<a id="__codelineno-13-9" name="__codelineno-13-9"></a><span class="nv">ExecReload</span><span class="o">=</span>/usr/bin/supervisorctl<span class="w"> </span><span class="nv">$OPTIONS</span><span class="w"> </span>reload
<a id="__codelineno-13-10" name="__codelineno-13-10"></a><span class="nv">KillMode</span><span class="o">=</span>process
<a id="__codelineno-13-11" name="__codelineno-13-11"></a><span class="nv">Restart</span><span class="o">=</span>on-failure
<a id="__codelineno-13-12" name="__codelineno-13-12"></a><span class="nv">RestartSec</span><span class="o">=</span>42s
<a id="__codelineno-13-13" name="__codelineno-13-13"></a>
<a id="__codelineno-13-14" name="__codelineno-13-14"></a><span class="o">[</span>Install<span class="o">]</span>
<a id="__codelineno-13-15" name="__codelineno-13-15"></a><span class="nv">WantedBy</span><span class="o">=</span>multi-user.target
</code></pre></div></td></tr></table></div></p>
</li>
<li>
<p>加入开机启动
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1">1</a></span>
<span class="normal"><a href="#__codelineno-14-2">2</a></span>
<span class="normal"><a href="#__codelineno-14-3">3</a></span>
<span class="normal"><a href="#__codelineno-14-4">4</a></span>
<span class="normal"><a href="#__codelineno-14-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a>chmod<span class="w"> </span><span class="m">766</span><span class="w"> </span>/lib/systemd/system/supervisord.service
<a id="__codelineno-14-2" name="__codelineno-14-2"></a>systemctl<span class="w"> </span>daemon-reload
<a id="__codelineno-14-3" name="__codelineno-14-3"></a>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>supervisord.service
<a id="__codelineno-14-4" name="__codelineno-14-4"></a>systemctl<span class="w"> </span>start<span class="w"> </span>supervisord
<a id="__codelineno-14-5" name="__codelineno-14-5"></a>systemctl<span class="w"> </span>status<span class="w"> </span>supervisord
</code></pre></div></td></tr></table></div></p>
</li>
</ul>
<h2 id="_12">配置案例:<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h2>
<h3 id="django">Django的配置文件<a class="headerlink" href="#django" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-15-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-15-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-15-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-15-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-15-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-15-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-15-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-15-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-15-10">10</a></span>
<span class="normal"><a href="#__codelineno-15-11">11</a></span>
<span class="normal"><a href="#__codelineno-15-12">12</a></span>
<span class="normal"><a href="#__codelineno-15-13">13</a></span>
<span class="normal"><a href="#__codelineno-15-14">14</a></span>
<span class="normal"><a href="#__codelineno-15-15">15</a></span>
<span class="normal"><a href="#__codelineno-15-16">16</a></span>
<span class="normal"><a href="#__codelineno-15-17">17</a></span>
<span class="normal"><a href="#__codelineno-15-18">18</a></span>
<span class="normal"><a href="#__codelineno-15-19">19</a></span>
<span class="normal"><a href="#__codelineno-15-20">20</a></span>
<span class="normal"><a href="#__codelineno-15-21">21</a></span>
<span class="normal"><a href="#__codelineno-15-22">22</a></span>
<span class="normal"><a href="#__codelineno-15-23">23</a></span>
<span class="normal"><a href="#__codelineno-15-24">24</a></span>
<span class="normal"><a href="#__codelineno-15-25">25</a></span>
<span class="normal"><a href="#__codelineno-15-26">26</a></span>
<span class="normal"><a href="#__codelineno-15-27">27</a></span>
<span class="normal"><a href="#__codelineno-15-28">28</a></span>
<span class="normal"><a href="#__codelineno-15-29">29</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a>#项目名
<a id="__codelineno-15-2" name="__codelineno-15-2"></a>[program:django]
<a id="__codelineno-15-3" name="__codelineno-15-3"></a>#脚本目录
<a id="__codelineno-15-4" name="__codelineno-15-4"></a>directory=/root/social_engineering/
<a id="__codelineno-15-5" name="__codelineno-15-5"></a>#脚本执行命令
<a id="__codelineno-15-6" name="__codelineno-15-6"></a>command=/root/anaconda3/bin/python manage.py runserver 0.0.0.0:8000
<a id="__codelineno-15-7" name="__codelineno-15-7"></a>
<a id="__codelineno-15-8" name="__codelineno-15-8"></a>#supervisor启动的时候是否随着同时启动，默认True
<a id="__codelineno-15-9" name="__codelineno-15-9"></a>autostart=true
<a id="__codelineno-15-10" name="__codelineno-15-10"></a>#当程序exit的时候，这个program不会自动重启,默认unexpected，设置子进程挂掉后自动重启的情况，有三个选项，false,unexpected和true。如果为false的时候，无论什么情况下，都不会被重新启动，如果为unexpected，只有当进程的
<a id="__codelineno-15-11" name="__codelineno-15-11"></a>退出码不在下面的exitcodes里面定义的
<a id="__codelineno-15-12" name="__codelineno-15-12"></a>autorestart=true
<a id="__codelineno-15-13" name="__codelineno-15-13"></a>#这个选项是子进程启动多少秒之后，此时状态如果是running，则我们认为启动成功了。默认值为1
<a id="__codelineno-15-14" name="__codelineno-15-14"></a>startsecs=1
<a id="__codelineno-15-15" name="__codelineno-15-15"></a>
<a id="__codelineno-15-16" name="__codelineno-15-16"></a>#脚本运行的用户身份 
<a id="__codelineno-15-17" name="__codelineno-15-17"></a>
<a id="__codelineno-15-18" name="__codelineno-15-18"></a>#日志输出 
<a id="__codelineno-15-19" name="__codelineno-15-19"></a>stderr_logfile=/tmp/django_stderr.log
<a id="__codelineno-15-20" name="__codelineno-15-20"></a>stdout_logfile=/tmp/django_stdout.log
<a id="__codelineno-15-21" name="__codelineno-15-21"></a>#把stderr重定向到stdout，默认 false
<a id="__codelineno-15-22" name="__codelineno-15-22"></a>redirect_stderr = true
<a id="__codelineno-15-23" name="__codelineno-15-23"></a>#stdout日志文件大小，默认 50MB
<a id="__codelineno-15-24" name="__codelineno-15-24"></a>stdout_logfile_maxbytes = 20
<a id="__codelineno-15-25" name="__codelineno-15-25"></a>#stdout日志文件备份数
<a id="__codelineno-15-26" name="__codelineno-15-26"></a>stdout_logfile_backups = 20
<a id="__codelineno-15-27" name="__codelineno-15-27"></a>
<a id="__codelineno-15-28" name="__codelineno-15-28"></a>; 可以通过 environment 来添加需要的环境变量，一种常见的用法是修改 PYTHONPATH
<a id="__codelineno-15-29" name="__codelineno-15-29"></a>; environment=PYTHONPATH=$PYTHONPATH:/path/to/somewhere
</code></pre></div></td></tr></table></div>
<h3 id="celery">Celery的配置文件<a class="headerlink" href="#celery" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-16-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-16-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-16-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-16-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-16-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-16-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-16-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-16-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-16-10">10</a></span>
<span class="normal"><a href="#__codelineno-16-11">11</a></span>
<span class="normal"><a href="#__codelineno-16-12">12</a></span>
<span class="normal"><a href="#__codelineno-16-13">13</a></span>
<span class="normal"><a href="#__codelineno-16-14">14</a></span>
<span class="normal"><a href="#__codelineno-16-15">15</a></span>
<span class="normal"><a href="#__codelineno-16-16">16</a></span>
<span class="normal"><a href="#__codelineno-16-17">17</a></span>
<span class="normal"><a href="#__codelineno-16-18">18</a></span>
<span class="normal"><a href="#__codelineno-16-19">19</a></span>
<span class="normal"><a href="#__codelineno-16-20">20</a></span>
<span class="normal"><a href="#__codelineno-16-21">21</a></span>
<span class="normal"><a href="#__codelineno-16-22">22</a></span>
<span class="normal"><a href="#__codelineno-16-23">23</a></span>
<span class="normal"><a href="#__codelineno-16-24">24</a></span>
<span class="normal"><a href="#__codelineno-16-25">25</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a>#项目名
<a id="__codelineno-16-2" name="__codelineno-16-2"></a>[program:celery]
<a id="__codelineno-16-3" name="__codelineno-16-3"></a>#脚本目录
<a id="__codelineno-16-4" name="__codelineno-16-4"></a>directory=/root/social_engineering/
<a id="__codelineno-16-5" name="__codelineno-16-5"></a>#脚本执行命令
<a id="__codelineno-16-6" name="__codelineno-16-6"></a>command=/root/anaconda3/bin/celery -A tasks worker --loglevel=info
<a id="__codelineno-16-7" name="__codelineno-16-7"></a>
<a id="__codelineno-16-8" name="__codelineno-16-8"></a>#supervisor启动的时候是否随着同时启动，默认True
<a id="__codelineno-16-9" name="__codelineno-16-9"></a>autostart=true
<a id="__codelineno-16-10" name="__codelineno-16-10"></a>#程序崩溃时自动重启
<a id="__codelineno-16-11" name="__codelineno-16-11"></a>autorestart=true
<a id="__codelineno-16-12" name="__codelineno-16-12"></a>#这个选项是子进程启动多少秒之后，此时状态如果是running，则我们认为启动成功了。默认值为1
<a id="__codelineno-16-13" name="__codelineno-16-13"></a>startsecs=1
<a id="__codelineno-16-14" name="__codelineno-16-14"></a>
<a id="__codelineno-16-15" name="__codelineno-16-15"></a>#脚本运行的用户身份 
<a id="__codelineno-16-16" name="__codelineno-16-16"></a>
<a id="__codelineno-16-17" name="__codelineno-16-17"></a>#日志输出 
<a id="__codelineno-16-18" name="__codelineno-16-18"></a>stderr_logfile=/tmp/celery_stderr.log
<a id="__codelineno-16-19" name="__codelineno-16-19"></a>stdout_logfile=/tmp/celery_stdout.log
<a id="__codelineno-16-20" name="__codelineno-16-20"></a>#把stderr重定向到stdout，默认 false
<a id="__codelineno-16-21" name="__codelineno-16-21"></a>redirect_stderr = true
<a id="__codelineno-16-22" name="__codelineno-16-22"></a>#stdout日志文件大小，默认 50MB
<a id="__codelineno-16-23" name="__codelineno-16-23"></a>stdout_logfile_maxbytes = 20
<a id="__codelineno-16-24" name="__codelineno-16-24"></a>#stdout日志文件备份数
<a id="__codelineno-16-25" name="__codelineno-16-25"></a>stdout_logfile_backups = 20
</code></pre></div></td></tr></table></div>
<h3 id="redis">Redis的配置文件<a class="headerlink" href="#redis" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-17-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-17-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-17-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-17-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-17-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-17-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-17-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-17-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-17-10">10</a></span>
<span class="normal"><a href="#__codelineno-17-11">11</a></span>
<span class="normal"><a href="#__codelineno-17-12">12</a></span>
<span class="normal"><a href="#__codelineno-17-13">13</a></span>
<span class="normal"><a href="#__codelineno-17-14">14</a></span>
<span class="normal"><a href="#__codelineno-17-15">15</a></span>
<span class="normal"><a href="#__codelineno-17-16">16</a></span>
<span class="normal"><a href="#__codelineno-17-17">17</a></span>
<span class="normal"><a href="#__codelineno-17-18">18</a></span>
<span class="normal"><a href="#__codelineno-17-19">19</a></span>
<span class="normal"><a href="#__codelineno-17-20">20</a></span>
<span class="normal"><a href="#__codelineno-17-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="o">[</span>program:zedis<span class="o">]</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="nv">command</span><span class="o">=</span>/opt/zedis/redis-server<span class="w"> </span>/opt/zedis/redis.conf
<a id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="nv">user</span><span class="o">=</span>redisuser
<a id="__codelineno-17-4" name="__codelineno-17-4"></a><span class="nv">autostart</span><span class="o">=</span><span class="nb">true</span><span class="w">                              </span>
<a id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="p">;</span>启动supervisord的时候会将该配置项设置为true的所有进程自动启动
<a id="__codelineno-17-6" name="__codelineno-17-6"></a><span class="nv">stopasgroup</span><span class="o">=</span><span class="nb">true</span><span class="w">                            </span>
<a id="__codelineno-17-7" name="__codelineno-17-7"></a><span class="p">;</span>使用supervisorctl停止zedis时，子进程也会一起停止
<a id="__codelineno-17-8" name="__codelineno-17-8"></a><span class="nv">killasgroup</span><span class="o">=</span><span class="nb">true</span><span class="w">                            </span>
<a id="__codelineno-17-9" name="__codelineno-17-9"></a><span class="p">;</span>向进程组发送kill信号，包括子进程
<a id="__codelineno-17-10" name="__codelineno-17-10"></a><span class="nv">startsecs</span><span class="o">=</span><span class="m">10</span><span class="w">                                </span>
<a id="__codelineno-17-11" name="__codelineno-17-11"></a><span class="p">;</span>进程从STARING状态转换到RUNNING状态所需要保持运行10s时间
<a id="__codelineno-17-12" name="__codelineno-17-12"></a><span class="nv">startretries</span><span class="o">=</span><span class="m">3</span><span class="w">                              </span>
<a id="__codelineno-17-13" name="__codelineno-17-13"></a><span class="p">;</span>启动失败自动重试次数，默认是3
<a id="__codelineno-17-14" name="__codelineno-17-14"></a><span class="nv">autorestart</span><span class="o">=</span><span class="nb">true</span><span class="w">                            </span>
<a id="__codelineno-17-15" name="__codelineno-17-15"></a><span class="p">;</span>进程停止后自动启动
<a id="__codelineno-17-16" name="__codelineno-17-16"></a><span class="nv">stdout_logfile</span><span class="o">=</span>/var/log/zedis-out
<a id="__codelineno-17-17" name="__codelineno-17-17"></a><span class="nv">stdout_logfile_maxbytes</span><span class="o">=</span>1MB
<a id="__codelineno-17-18" name="__codelineno-17-18"></a><span class="nv">stdout_logfile_backups</span><span class="o">=</span><span class="m">10</span>
<a id="__codelineno-17-19" name="__codelineno-17-19"></a><span class="nv">stderr_logfile</span><span class="o">=</span>/var/log/zedis-err
<a id="__codelineno-17-20" name="__codelineno-17-20"></a><span class="nv">stderr_logfile_maxbytes</span><span class="o">=</span>1MB
<a id="__codelineno-17-21" name="__codelineno-17-21"></a><span class="nv">stderr_logfile_backups</span><span class="o">=</span><span class="m">10</span>
</code></pre></div></td></tr></table></div>
<ul>
<li>Ø 因为无法监视后台进程，需要把Zedis前台运行（daemonize no），否则会识别不到Zedis启动，重试启动3次,日志提示6379已占用。</li>
<li>Ø 因为redis.conf指定了logfile，stdout_logfile并无内容输出；如果不指定redis.conf只是启动redis-server，日志会输出到stdout_logfile。</li>
</ul>
<h3 id="tomcat">tomcat的配置文件<a class="headerlink" href="#tomcat" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-18-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-18-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-18-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-18-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-18-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-18-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-18-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-18-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-18-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="o">[</span>program:tomcat<span class="o">]</span>
<a id="__codelineno-18-2" name="__codelineno-18-2"></a><span class="nv">command</span><span class="o">=</span>/usr/local/tomcat/bin/catalina.sh<span class="w"> </span>run
<a id="__codelineno-18-3" name="__codelineno-18-3"></a><span class="nv">stdout_logfile</span><span class="o">=</span>/usr/local/tomcat/logs/catalina.out
<a id="__codelineno-18-4" name="__codelineno-18-4"></a><span class="nv">stderr_logfile</span><span class="o">=</span>/usr/local/tomcat/logs/catalina.out
<a id="__codelineno-18-5" name="__codelineno-18-5"></a><span class="nv">environment</span><span class="o">=</span><span class="nv">JAVA_HOME</span><span class="o">=</span><span class="s2">&quot;/usr/local/jdk1.8.0_144&quot;</span>,JAVA_BIN<span class="o">=</span><span class="s2">&quot;/usr/local/jdk1.8.0_144/bin&quot;</span>
<a id="__codelineno-18-6" name="__codelineno-18-6"></a><span class="nv">autorestart</span><span class="o">=</span><span class="nb">false</span>
<a id="__codelineno-18-7" name="__codelineno-18-7"></a><span class="nv">startsecs</span><span class="o">=</span><span class="m">60</span>
<a id="__codelineno-18-8" name="__codelineno-18-8"></a><span class="nv">priority</span><span class="o">=</span><span class="m">1</span>
<a id="__codelineno-18-9" name="__codelineno-18-9"></a><span class="nv">stopasgroup</span><span class="o">=</span><span class="nb">true</span>
<a id="__codelineno-18-10" name="__codelineno-18-10"></a><span class="nv">killasgroup</span><span class="o">=</span><span class="nb">true</span>
</code></pre></div></td></tr></table></div>
<h2 id="_13">分组管理的配置文件<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h2>
<ul>
<li>新建文件，fastapi_app.conf
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-19-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-19-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-19-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-19-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-19-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-19-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-19-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-19-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-19-10">10</a></span>
<span class="normal"><a href="#__codelineno-19-11">11</a></span>
<span class="normal"><a href="#__codelineno-19-12">12</a></span>
<span class="normal"><a href="#__codelineno-19-13">13</a></span>
<span class="normal"><a href="#__codelineno-19-14">14</a></span>
<span class="normal"><a href="#__codelineno-19-15">15</a></span>
<span class="normal"><a href="#__codelineno-19-16">16</a></span>
<span class="normal"><a href="#__codelineno-19-17">17</a></span>
<span class="normal"><a href="#__codelineno-19-18">18</a></span>
<span class="normal"><a href="#__codelineno-19-19">19</a></span>
<span class="normal"><a href="#__codelineno-19-20">20</a></span>
<span class="normal"><a href="#__codelineno-19-21">21</a></span>
<span class="normal"><a href="#__codelineno-19-22">22</a></span>
<span class="normal"><a href="#__codelineno-19-23">23</a></span>
<span class="normal"><a href="#__codelineno-19-24">24</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a>[group:fastapi]
<a id="__codelineno-19-2" name="__codelineno-19-2"></a>programs=fastapi-app
<a id="__codelineno-19-3" name="__codelineno-19-3"></a>
<a id="__codelineno-19-4" name="__codelineno-19-4"></a>[program:fastapi-1]
<a id="__codelineno-19-5" name="__codelineno-19-5"></a>command=/home/python/scripts/fastapi1_app.sh
<a id="__codelineno-19-6" name="__codelineno-19-6"></a>directory=/home/python/fastapi-1-backend
<a id="__codelineno-19-7" name="__codelineno-19-7"></a>user=python
<a id="__codelineno-19-8" name="__codelineno-19-8"></a>autorestart=true
<a id="__codelineno-19-9" name="__codelineno-19-9"></a>redirect_stderr=false
<a id="__codelineno-19-10" name="__codelineno-19-10"></a>loglevel=info
<a id="__codelineno-19-11" name="__codelineno-19-11"></a>stopsignal=KILL
<a id="__codelineno-19-12" name="__codelineno-19-12"></a>stopasgroup=true
<a id="__codelineno-19-13" name="__codelineno-19-13"></a>killasgroup=true
<a id="__codelineno-19-14" name="__codelineno-19-14"></a>
<a id="__codelineno-19-15" name="__codelineno-19-15"></a>[program:fastapi-2]
<a id="__codelineno-19-16" name="__codelineno-19-16"></a>command=/home/python/scripts/fastapi-2.sh
<a id="__codelineno-19-17" name="__codelineno-19-17"></a>directory=/home/python/fastapi-2-backend
<a id="__codelineno-19-18" name="__codelineno-19-18"></a>user=python
<a id="__codelineno-19-19" name="__codelineno-19-19"></a>autorestart=true
<a id="__codelineno-19-20" name="__codelineno-19-20"></a>redirect_stderr=false
<a id="__codelineno-19-21" name="__codelineno-19-21"></a>loglevel=info
<a id="__codelineno-19-22" name="__codelineno-19-22"></a>stopsignal=KILL
<a id="__codelineno-19-23" name="__codelineno-19-23"></a>stopasgroup=true
<a id="__codelineno-19-24" name="__codelineno-19-24"></a>killasgroup=true
</code></pre></div></td></tr></table></div></li>
</ul>
<h2 id="_14">常见问题：<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h2>
<h3 id="1unixtmpsupervisorsock-no-such-file">问题1：unix:///tmp/supervisor.sock no such file的问题<a class="headerlink" href="#1unixtmpsupervisorsock-no-such-file" title="Permanent link">&para;</a></h3>
<ul>
<li>在supervisor默认配置中，其启动的sock等都会放到tmp目录，而tmp目录会自动清理导致无法使用supervisorctl
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-20-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-20-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-20-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-20-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-20-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-20-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-20-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-20-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-20-10">10</a></span>
<span class="normal"><a href="#__codelineno-20-11">11</a></span>
<span class="normal"><a href="#__codelineno-20-12">12</a></span>
<span class="normal"><a href="#__codelineno-20-13">13</a></span>
<span class="normal"><a href="#__codelineno-20-14">14</a></span>
<span class="normal"><a href="#__codelineno-20-15">15</a></span>
<span class="normal"><a href="#__codelineno-20-16">16</a></span>
<span class="normal"><a href="#__codelineno-20-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a>vim /etc/supervisord.conf
<a id="__codelineno-20-2" name="__codelineno-20-2"></a>
<a id="__codelineno-20-3" name="__codelineno-20-3"></a>#step1: 将配置文件中的tmp替换掉，否则容易被linux自动清除
<a id="__codelineno-20-4" name="__codelineno-20-4"></a>/tmp/supervisor.sock 改成 /var/run/supervisor.sock，
<a id="__codelineno-20-5" name="__codelineno-20-5"></a>/tmp/supervisord.log 改成 /var/log/supervisor.log，
<a id="__codelineno-20-6" name="__codelineno-20-6"></a>/tmp/supervisord.pid 改成 /var/run/supervisor.pid
<a id="__codelineno-20-7" name="__codelineno-20-7"></a>
<a id="__codelineno-20-8" name="__codelineno-20-8"></a># step2:修改权限，如果不修改，启动时会报错无权限
<a id="__codelineno-20-9" name="__codelineno-20-9"></a>sudo chmod 777 /run
<a id="__codelineno-20-10" name="__codelineno-20-10"></a>sudo chmod 777 /var/log
<a id="__codelineno-20-11" name="__codelineno-20-11"></a>
<a id="__codelineno-20-12" name="__codelineno-20-12"></a># step3: 创建supervisor.sock
<a id="__codelineno-20-13" name="__codelineno-20-13"></a>sudo touch /var/run/supervisor.sock
<a id="__codelineno-20-14" name="__codelineno-20-14"></a>sudo chmod 777 /var/run/supervisor.sock
<a id="__codelineno-20-15" name="__codelineno-20-15"></a>
<a id="__codelineno-20-16" name="__codelineno-20-16"></a># step4: 杀掉原来的进程，重新启动
<a id="__codelineno-20-17" name="__codelineno-20-17"></a>supervisord -c /etc/supervisord.conf
</code></pre></div></td></tr></table></div></li>
</ul>
<h3 id="2commandsupervisor">问题2：command中指定的进程已经起来，但supervisor还不断重启<a class="headerlink" href="#2commandsupervisor" title="Permanent link">&para;</a></h3>
<ul>
<li>command中启动方式为后台启动，导致识别不到pid，然后不断重启，这里使用的是elasticsearch，command指定的是$path/bin/elasticsearch -d
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a>解决办法：supervisor无法检测后台启动进程的pid，而supervisor本身就是后台启动守护进程，因此不用担心这个
</code></pre></div></td></tr></table></div></li>
</ul>
<h3 id="3supervisord">问题3：启动了多个supervisord服务，导致无法正常关闭服务<a class="headerlink" href="#3supervisord" title="Permanent link">&para;</a></h3>
<ul>
<li>在运行supervisord -c /etc/supervisord.conf之前，直接运行过supervisord -c /etc/supervisord.d/xx.conf导致有些进程被多个superviord管理，无法正常关闭进程
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a>解决办法：使用ps<span class="w"> </span>-fe<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>supervisord查看所有启动过的supervisord服务，kill相关的进程。
</code></pre></div></td></tr></table></div></li>
</ul>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="最后更新">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-08-29</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="创建日期">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-08-29</span>
  </span>

    
    
    
  </aside>


  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <!-- Footer -->
<footer class="md-footer">

  <!-- Link to previous and/or next page -->
  
    
      
      <nav
        class="md-footer__inner md-grid"
        aria-label="页脚"
        
      >

        <!-- Link to previous page -->
        
          
          <a
            href="../apscheduler/"
            class="md-footer__link md-footer__link--prev"
            aria-label="上一页: APScheduler之定时任务工具"
          >
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                APScheduler之定时任务工具
              </div>
            </div>
            
          </a>
        

        <!-- Link to next page -->
        
          
          <a
            href="../subprocess/"
            class="md-footer__link md-footer__link--next"
            aria-label="下一页: subprocess之子进程管理"
          >
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                subprocess之子进程管理
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  

  <!-- Further information -->
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid" style="display: flex; justify-content: center; ">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2017~2024 AstonWang/All Rights Reserved.
    </div>
  
  
</div>

      <font color="#B9B9B9">
      <div class="md-footer-meta__inner md-grid" style="display: flex; justify-content: center; "></div>
        <div id='box11' style="font-size: 14px;"> &nbsp;| &nbsp; 本站已经运行: <span id="timer"></span></div>
      </font>

    <!-- 本站访问量：<script async src="//finicounter.eu.org/finicounter.js"></script> -->
    <!-- <span id="finicount_views"></span>    &nbsp;|&nbsp; -->
    <!-- <footer> -->
      <!-- <a href="https://icp.gov.moe/?keyword=20230640" target="_blank">萌ICP备20230640号</a> -->
    <!-- </footer> -->
  </div>
      </font>
   
    <!-- <font color="#B9B9B9">
      <div class="footer-visit-count" style="display: flex; justify-content: center; align-items: center;">
    本站访问量：<script async src="//finicounter.eu.org/finicounter.js"></script>
    <span id="finicount_views"></span>    &nbsp;|&nbsp;
    <footer>
      <a href="https://icp.gov.moe/?keyword=20230640" target="_blank">萌ICP备20230640号</a>
    </footer>
  </div>
      </font> -->

      <style>
        .footer-visit-count {
            height: fit-content;
            min-height: 55px; /* 根据实际情况调整此高度 */
        }
        </style>
      
    </div>
  </div>
</footer>


<script>
  document.addEventListener('DOMContentLoaded', (event) => {
  function timingTime(){
    let start = '2024-06-28 00:00:00'
    let startTime = new Date(start).getTime()
    let currentTime = new Date().getTime()
    let difference = currentTime - startTime
    let m =  Math.floor(difference / (1000))
    let mm = m % 60  // 秒
    let f = Math.floor(m / 60)
    let ff = f % 60 // 分钟
    let s = Math.floor(f/ 60) // 小时
    let ss = s % 24
    let day = Math.floor(s  / 24 ) // 天数
    return day + "天" + ss + "时" + ff + "分" + mm +'秒'
  }
  setInterval(()=>{
    document.getElementById('timer').innerHTML = timingTime()
  },1000)
  });
</script>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["announce.dismiss", "navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.top", "navigation.footer", "navigation.path", "search.suggest", "search.highlight", "search.share", "navigation.indexes", "content.tabs.link", "content.tooltips", "content.code.copy", "content.action.edit", "content.action.view", "content.code.annotate", "toc.follow"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.471ce7a9.min.js"></script>
      
        <script src="../../../customize/javascripts/extra.js"></script>
      
        <script src="../../../customize/javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10.0.2/dist/add-html-label-6e56ed67.min.js"></script>
      
    
  </body>
</html>