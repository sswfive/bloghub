
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="sswfive">
      
      
        <link rel="canonical" href="https://sswfive.github.io/bloghub/python/pylib/libs/subprocess/">
      
      
      
      
      <link rel="icon" href="https://s2.loli.net/2024/04/26/PmRdM9iGnvOJHgu.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.29">
    
    
      
        <title>subprocess -> 子进程管理 - 空谷幽兰</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.76a95c52.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../customize/stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../../../customize/stylesheets/link.css">
    
      <link rel="stylesheet" href="../../../../customize/stylesheets/customize.css">
    
      <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config",""),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
    <link rel="stylesheet" href="../../../../assets/stylesheets/custom.00c04c01.min.css">
  
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="不再显示此消息">
                
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
              </button>
            
            
     Follow <strong>@Wcowin</strong> on
    <a rel="me" href="https://space.bilibili.com/1407028951?spm_id_from=333.1007.0.0">
      <span class="twemoji bilibili">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M488.6 104.1c16.7 18.1 24.4 39.7 23.3 65.7v202.4c-.4 26.4-9.2 48.1-26.5 65.1-17.2 17-39.1 25.9-65.5 26.7H92.02c-26.45-.8-48.21-9.8-65.28-27.2C9.682 419.4.767 396.5 0 368.2V169.8c.767-26 9.682-47.6 26.74-65.7C43.81 87.75 65.57 78.77 92.02 78h29.38L96.05 52.19c-5.75-5.73-8.63-13-8.63-21.79 0-8.8 2.88-16.06 8.63-21.797C101.8 2.868 109.1 0 117.9 0s16.1 2.868 21.9 8.603L213.1 78h88l74.5-69.397C381.7 2.868 389.2 0 398 0c8.8 0 16.1 2.868 21.9 8.603 5.7 5.737 8.6 12.997 8.6 21.797 0 8.79-2.9 16.06-8.6 21.79L394.6 78h29.3c26.4.77 48 9.75 64.7 26.1zm-38.8 69.7c-.4-9.6-3.7-17.4-10.7-23.5-5.2-6.1-14-9.4-22.7-9.8H96.05c-9.59.4-17.45 3.7-23.58 9.8-6.14 6.1-9.4 13.9-9.78 23.5v194.4c0 9.2 3.26 17 9.78 23.5s14.38 9.8 23.58 9.8H416.4c9.2 0 17-3.3 23.3-9.8 6.3-6.5 9.7-14.3 10.1-23.5V173.8zm-264.3 42.7c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.2 6.3-14 9.5-23.6 9.5-9.6 0-17.5-3.2-23.6-9.5-6.1-6.3-9.4-14-9.8-23.2v-33.3c.4-9.1 3.8-16.9 10.1-23.2 6.3-6.3 13.2-9.6 23.3-10 9.2.4 17 3.7 23.3 10zm191.5 0c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.1 6.3-14 9.5-23.6 9.5-9.6 0-17.4-3.2-23.6-9.5-7-6.3-9.4-14-9.7-23.2v-33.3c.3-9.1 3.7-16.9 10-23.2 6.3-6.3 14.1-9.6 23.3-10 9.2.4 17 3.7 23.3 10z"/></svg>
      </span>
      <strong>Bilibili</strong>
    </a>
    and
    <a href="https://twitter.com/Wcowin_">
      <span class="twemoji twitter">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </span>
      <strong>Twitter</strong>
    </a>
  
          </div>
          
            <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script>
          
        </aside>
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../../.." title="空谷幽兰" class="md-header__button md-logo" aria-label="空谷幽兰" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            空谷幽兰
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              subprocess -> 子进程管理
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="关闭自动模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="关闭自动模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8v2m9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.71-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="blue"  aria-label="切换至夜间模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换至夜间模式" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="切换至日间模式"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="切换至日间模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/sswfive" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    sswfive
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../.." class="md-tabs__link">
          
  
    
  
  主页

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../python_core/python_dev_summary/Docker构建Python镜像实践指南.md" class="md-tabs__link">
          
  
    
  
  Python编程

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../codecore/design_patterns/object_oriented_principles/" class="md-tabs__link">
          
  
    
  
  编程内功

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../blogs/solutionhub/opshub/server_disk_full_solution/" class="md-tabs__link">
          
  
    
  
  迎刃而解

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../blogs/techout/how_to_ask_questions_the_smart_way/" class="md-tabs__link">
          
  
    
  
  技术之外

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../toolbox/git/git_multi_ssh/" class="md-tabs__link">
          
  
    
  
  工具箱

        </a>
      </li>
    
  

    
  

    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../tag/" class="md-tabs__link">
        
  
    
  
  标签

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="空谷幽兰" class="md-nav__button md-logo" aria-label="空谷幽兰" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    空谷幽兰
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/sswfive" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    sswfive
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../.." class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    主页
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            主页
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../about/personal_profile/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    关于
  </span>
  
    
  
  
    <span class="md-status md-status--new"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python编程
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Python编程
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python编程实践
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Python编程实践
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python_core/python_dev_summary/Docker构建Python镜像实践指南.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker构建Python镜像实践指南
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python_core/python_dev_summary/Python中的数据类型用法剖析总结.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python中的数据结构用法剖析
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python_core/devtools/dev_tool_selection.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python开发工具汇总
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python_core/devtools/env_package_selection.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python版本及包管理工具选型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python_core/devtools/pypi_source_usage.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    常用Pypi源汇总及使用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python_core/coding_standard.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python编码规范
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Web 框架
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Web 框架
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_2_1" id="__nav_2_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Django
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_1">
            <span class="md-nav__icon md-icon"></span>
            Django
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../pyweb/django/orm_fields_summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    django中ORM字段总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../pyweb/django/orm_query_summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    django中ORM查询方法总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../pyweb/django/django_lazyobject_analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    django源码学习之LazyObject
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python常用库
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Python常用库
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python_lib/lib_common_summary.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    热门库汇总
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_2" >
        
          
          <label class="md-nav__link" for="__nav_2_3_2" id="__nav_2_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    常用库笔记
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_2">
            <span class="md-nav__icon md-icon"></span>
            常用库笔记
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python_lib/daily_lib_summary.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    笔记清单
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python_lib/libs/numpy.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数据分析之Numpy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python_lib/libs/pandas.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数据分析之Pandas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python_lib/libs/pyflink.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    分布式流计算之PyFlink
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python_lib/libs/mlflow.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    模型管理工具之MLFlow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python_lib/libs/supervisor.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    进程管理之Supervisor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python_lib/libs/subprocess.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    子进程管理之subprocess
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python_lib/libs/apscheduler.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    定时任务工具之APScheduler
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python_lib/libs/pathlib.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    路径操作之pathlib
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    编程内功
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            编程内功
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    设计模式
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            设计模式
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../codecore/design_patterns/object_oriented_principles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    面向对象设计原则
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../codecore/design_patterns/design_patterns_categories/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    设计模式分类总览
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    迎刃而解
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            迎刃而解
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    运维手记
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            运维手记
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blogs/solutionhub/opshub/server_disk_full_solution/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    服务器磁盘空间满的解决办法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blogs/solutionhub/opshub/centos_yum_source_delete_solution/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Centos的yum源误删解决方法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blogs/solutionhub/opshub/win10_git_chinese_solution/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    win10的cmd中操作git中文乱码解决方法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blogs/solutionhub/opshub/mac_brew_service_error_solution/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mac使用brew services报错
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Bugs复盘
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Bugs复盘
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blogs/solutionhub/bughub/jupyterhub_deploy_bug/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jupyterhub离线部署踩坑总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blogs/solutionhub/bughub/jupyter_matplotlib_font_bug/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jupyter matplotlib画图中文字体缺失
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blogs/solutionhub/bughub/jupyter_asyncio_run_bug/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jupyter运行asyncio run报错
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blogs/solutionhub/bughub/window_install_pip_bug/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    window环境中pip安装报错
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blogs/solutionhub/bughub/conda_rename_env_bug/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conda修改虚拟环境名导致异常
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blogs/solutionhub/bughub/rsa_encryption_bug/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    多语言之间的RSA加解密问题
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    技术之外
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            技术之外
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blogs/techout/how_to_ask_questions_the_smart_way/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    如何高效提问
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blogs/techout/personal_strategy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    个人战略上的聚焦和放弃
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blogs/techout/learn_top_down_or_bottom_up/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    学习应该自底向上，还是自顶向下
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blogs/techout/how_to_learn_open_source_project/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    如何高效学习开源项目
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blogs/techout/understand_do_things/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    明白且高效做事三要素
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blogs/techout/yiyan/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    技术一言
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blogs/techout/rego/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HelloWorld
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    工具箱
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            工具箱
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
        
          
          <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    开发工具
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            开发工具
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_1" >
        
          
          <label class="md-nav__link" for="__nav_6_1_1" id="__nav_6_1_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Git
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_1">
            <span class="md-nav__icon md-icon"></span>
            Git
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../toolbox/git/git_multi_ssh/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    git同时配置多个平台的SSH
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tag/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    标签
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      模块概述
    </span>
  </a>
  
    <nav class="md-nav" aria-label="模块概述">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      介绍：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      版本更新
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      应用场景
    </span>
  </a>
  
    <nav class="md-nav" aria-label="应用场景">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      执行系统命令
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      调用其他的可执行文件或脚本
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      与其他的进程交互
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      实现异步任务
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ossystem" class="md-nav__link">
    <span class="md-ellipsis">
      替代os.system()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      常用接口
    </span>
  </a>
  
    <nav class="md-nav" aria-label="常用接口">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      接口总览
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      重要接口
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#subprocessrun" class="md-nav__link">
    <span class="md-ellipsis">
      核心接口分析之subprocess.run()
    </span>
  </a>
  
    <nav class="md-nav" aria-label="核心接口分析之subprocess.run()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      函数特点：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#args" class="md-nav__link">
    <span class="md-ellipsis">
      重要参数：args
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stdinstdoutsterr" class="md-nav__link">
    <span class="md-ellipsis">
      重要参数：stdin、stdout、sterr
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      使用示例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#subprocesspopen" class="md-nav__link">
    <span class="md-ellipsis">
      核心接口分析之subprocess.Popen()
    </span>
  </a>
  
    <nav class="md-nav" aria-label="核心接口分析之subprocess.Popen()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      函数特点：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-popen" class="md-nav__link">
    <span class="md-ellipsis">
      重要属性-Popen对象
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      使用示例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#subprocess" class="md-nav__link">
    <span class="md-ellipsis">
      subprocess常用异常类
    </span>
  </a>
  
    <nav class="md-nav" aria-label="subprocess常用异常类">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#subprocesserror" class="md-nav__link">
    <span class="md-ellipsis">
      SubprocessError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timeoutexpired" class="md-nav__link">
    <span class="md-ellipsis">
      TimeoutExpired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calledprocesserror" class="md-nav__link">
    <span class="md-ellipsis">
      CalledProcessError
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      实践案例
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  
<nav class="md-tags" >
  
    
    
    
      <a href="../../../../tag/#python" class="md-tag">Python</a>
    
  
</nav>


  
    <a href="https://github.com/sswfive/edit/master/docs/python/pylib/libs/subprocess.md" title="编辑此页" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/sswfive/raw/master/docs/python/pylib/libs/subprocess.md" title="查看本页的源代码" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg>
    </a>
  


  <h1>subprocess -> 子进程管理</h1>

<blockquote>
<p>Reference：<a href="https://docs.python.org/zh-cn/3.12/library/subprocess.html">官方文档</a></p>
</blockquote>
<h2 id="_1">模块概述<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<h3 id="_2">介绍：<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>subprocess是Python内置库中用于管理子进程的模块，支持在Windows、Linux、MacOS平台中使用； </p>
<p>该模块通过创建启动一个子进程来执行系统级命令、调用其他的可执行文件或脚本、与其他进程进行交互等等；其主要通过管道技术连接进程间的输入/输出/错误管道，从而获得返回值。</p>
<p>在subprocess模块发布后，官方建议使用该模块去替换标准库中的os.system()、os.spawn*()等方法去执行系统命令；</p>
<h3 id="_3">版本更新<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<ol>
<li>subprocess是python2.4中新增的模块；</li>
<li>在python3.5之前，可以通过subprocess.call()，subprocess.getoutput()、subprocess.check_output()等等方法实现模块功能；</li>
<li>在python3.5之后，新增subprocess.run()方法，并且官方文档建议通过subprocess.run()或者subprocess.Popen()来替换原有的老版本的功能函数；</li>
</ol>
<h2 id="_4">应用场景<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<h3 id="_5">执行系统命令<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<ul>
<li>在程序内部执行系统级命令，如ls、kill、mkdir、awk等，可以使用subprocess实现；</li>
</ul>
<h3 id="_6">调用其他的可执行文件或脚本<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<ul>
<li>在程序内部执行其他的执行文件或脚本，可以使用subprocess实现；</li>
</ul>
<h3 id="_7">与其他的进程交互<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<ul>
<li>在需要与其他进程进行交互，比如向某个进程发送数据、从某个进程读取数据等，可以使用subprocess实现；</li>
</ul>
<h3 id="_8">实现异步任务<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<ul>
<li>在程序内部中需要实现异步任务，可以使用subprocess实现；</li>
</ul>
<h3 id="ossystem">替代os.system()<a class="headerlink" href="#ossystem" title="Permanent link">&para;</a></h3>
<ul>
<li>不想使用os.system()或os.system()无法实现需求时，可以subprocess实现；  </li>
</ul>
<h2 id="_9">常用接口<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h2>
<h3 id="_10">接口总览<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<p><img alt="Alt text" src="image.png" /></p>
<h3 id="_11">重要接口<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th><strong>接口类别</strong></th>
<th><strong>接口方法名</strong></th>
<th><strong>功能描述</strong></th>
<th><strong>返回结果</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>高阶接口</td>
<td>subprocess.run()</td>
<td>执行命令并等待命令完成，返回一个对象，包含了命令的输出信息</td>
<td>阻塞等待；返回一个对象，包含状态码、输出信息（stdin/stdout/stderr）</td>
</tr>
<tr>
<td>等层接口</td>
<td>subprocess.Popen()</td>
<td>执行命令不等待完成，返回一个对象</td>
<td>非阻塞等待；返回一个对象，包含状态码、输出信息（stdin/stdout/stderr）</td>
</tr>
<tr>
<td>低版本接口（基本已被高阶的run()方法替代了）</td>
<td>subprocess.call()</td>
<td>执行命令，返回命令的结果和执行状态</td>
<td>阻塞等待；0或者非0</td>
</tr>
<tr>
<td></td>
<td>subprocess.check_call()</td>
<td>执行命令，返回结果和状态</td>
<td>阻塞等待；正常为0 ，执行错误则抛出异常</td>
</tr>
<tr>
<td></td>
<td>subprocess.getstatusoutput()</td>
<td>接受字符串形式的命令，返回 一个元组形式的结果，</td>
<td>阻塞等待；第一个元素是命令执行状态，第二个为执行结果。</td>
</tr>
<tr>
<td></td>
<td>subprocess.getoutput()</td>
<td>接收字符串形式的命令，返回结果</td>
<td>阻塞等待；返回执行结果</td>
</tr>
<tr>
<td></td>
<td>subprocess.check_output()</td>
<td>执行命令，如何执行状态码为0则返回命令的结果，否则抛出异常</td>
<td>阻塞等待；0或抛出异常</td>
</tr>
</tbody>
</table>
<h2 id="subprocessrun">核心接口分析之subprocess.run()<a class="headerlink" href="#subprocessrun" title="Permanent link">&para;</a></h2>
<h3 id="_12">函数特点：<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<ul>
<li>输入：默认情况下，子进程会继承父进程的设置，会将输出显示在终端上</li>
<li>输出：阻塞等待，执行成功returncode为0， 非0，表示执行异常
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-0-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>    <span class="n">args</span><span class="p">,</span>   <span class="c1"># 要执行的shell命令，默认应该是一个字符串序列，如[‘df’, ‘-Th’]或(‘df’, ‘-Th’)，也可以是一个字符串，如’df -Th’，但是此时需要把shell参数的值置为True；</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a>    <span class="o">*</span><span class="p">,</span> 
<a id="__codelineno-0-4" name="__codelineno-0-4"></a>    <span class="n">stdin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="c1"># 子进程的标准输入。有三个参数可选：subprocess.PIPE 创建一个管道，允许与子进程进行通信；subprocess.DEVNULL 特殊的文件对象，可以将其用于丢弃子进程的输出；一个打开的文件对象，将内容写入文件</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a>    <span class="nb">input</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="c1"># 将参数传递给 Popen.communicate() 以及子进程的 stdin,允许将字节或字符串传递给子进程的标准输入(stdin);</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a>    <span class="n">stdout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="c1"># 子进程的标准输出(stdout);</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a>    <span class="n">stderr</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="c1"># 子进程的标准错误(stderr);</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a>    <span class="n">capture_output</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="c1">#参数控制是否捕获外部命令的标准输出(stdout)和标准错误(stderr)。如果将其设置为True，run()函数将返回一个CompletedProcess对象，该对象具有stdout和stderr属性，分别存储了命令的标准输出和标准错误输出。如果设置为False，标准输出和标准错误将被发送到控制台。默认为False</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a>    <span class="n">shell</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>  <span class="c1"># 指定是否通过shell来执行命令。如果为True，命令将在shell中执行；如果为False，则直接调用可执行文件；</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a>    <span class="n">cwd</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># 设置子进程的工作目录。默认为None，表示使用当前工作目录；</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a>    <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="c1">#设置子进程的超时时间（秒）。如果子进程在指定的时间内没有运行完成，则会引发TimeoutExpired异常；</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a>    <span class="n">check</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="c1"># 设置是否检查子进程的返回码。如果为True，并且子进程的返回码不为零，则会引发CalledProcessError异常；</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a>    <span class="n">encoding</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="c1"># 默认是字节数据，如果指定了编码格式，则输出为字符串；</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a>    <span class="n">errors</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="c1"># 该参数定义在解码输出时如何处理编码错误，常用的值包括&quot;strict&quot; (默认值，抛出异常)、&quot;ignore&quot; (忽略错误字符) 和 &quot;replace&quot; (用替代字符代替错误字符);</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a>    <span class="n">text</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># 指定是否将输出结果以文本形式返回。如果为True，则结果以字符串形式返回，同时input或者stdin参数也需要输入String；如果为False，则返回字节流。默认为False。</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a>    <span class="n">env</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="c1"># 该参数允许您为子进程指定环境变量。它可以接受一个字典类型的对象，其中键是环境变量的名称，值是环境变量的值。通过设置env参数，可以在子进程中使用特定的环境变量。</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a>    <span class="n">universal_newlines</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="c1"># 该参数影响的是输入与输出的数据格式，比如它的值默认为False，此时stdout和stderr的输出是字节序列；当该参数的值设置为True时，stdout和stderr的输出是字符串。</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a>    <span class="o">**</span><span class="n">other_popen_kwargs</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="p">)</span>
</code></pre></div></td></tr></table></div></li>
</ul>
<h3 id="args">重要参数：args<a class="headerlink" href="#args" title="Permanent link">&para;</a></h3>
<ul>
<li>可以接收两种方法：字符串或列表。</li>
<li>使用列表形式subprocess.run(["ls", "-al"])</li>
<li>使用字符串形式 subprocess.run("ls -al", shell=True)。使用字符串形式必须设置参数shell=True</li>
</ul>
<h3 id="stdinstdoutsterr">重要参数：stdin、stdout、sterr<a class="headerlink" href="#stdinstdoutsterr" title="Permanent link">&para;</a></h3>
<ul>
<li>用来设置标准输入，标准输出，标准错误的。默认情况下，子进程会继承父进程的设置，会将输出显示在控制台；</li>
<li>subprocess.PIPE 创建一个管道，允许与子进程进行通信；</li>
<li>subprocess.DEVNULL 特殊的文件对象，可以将其用于丢弃子进程的输出</li>
<li>一个打开的文件对象，将内容写入文件</li>
</ul>
<h3 id="_13">使用示例<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span>
<span class="normal"><a href="#__codelineno-1-13">13</a></span>
<span class="normal"><a href="#__codelineno-1-14">14</a></span>
<span class="normal"><a href="#__codelineno-1-15">15</a></span>
<span class="normal"><a href="#__codelineno-1-16">16</a></span>
<span class="normal"><a href="#__codelineno-1-17">17</a></span>
<span class="normal"><a href="#__codelineno-1-18">18</a></span>
<span class="normal"><a href="#__codelineno-1-19">19</a></span>
<span class="normal"><a href="#__codelineno-1-20">20</a></span>
<span class="normal"><a href="#__codelineno-1-21">21</a></span>
<span class="normal"><a href="#__codelineno-1-22">22</a></span>
<span class="normal"><a href="#__codelineno-1-23">23</a></span>
<span class="normal"><a href="#__codelineno-1-24">24</a></span>
<span class="normal"><a href="#__codelineno-1-25">25</a></span>
<span class="normal"><a href="#__codelineno-1-26">26</a></span>
<span class="normal"><a href="#__codelineno-1-27">27</a></span>
<span class="normal"><a href="#__codelineno-1-28">28</a></span>
<span class="normal"><a href="#__codelineno-1-29">29</a></span>
<span class="normal"><a href="#__codelineno-1-30">30</a></span>
<span class="normal"><a href="#__codelineno-1-31">31</a></span>
<span class="normal"><a href="#__codelineno-1-32">32</a></span>
<span class="normal"><a href="#__codelineno-1-33">33</a></span>
<span class="normal"><a href="#__codelineno-1-34">34</a></span>
<span class="normal"><a href="#__codelineno-1-35">35</a></span>
<span class="normal"><a href="#__codelineno-1-36">36</a></span>
<span class="normal"><a href="#__codelineno-1-37">37</a></span>
<span class="normal"><a href="#__codelineno-1-38">38</a></span>
<span class="normal"><a href="#__codelineno-1-39">39</a></span>
<span class="normal"><a href="#__codelineno-1-40">40</a></span>
<span class="normal"><a href="#__codelineno-1-41">41</a></span>
<span class="normal"><a href="#__codelineno-1-42">42</a></span>
<span class="normal"><a href="#__codelineno-1-43">43</a></span>
<span class="normal"><a href="#__codelineno-1-44">44</a></span>
<span class="normal"><a href="#__codelineno-1-45">45</a></span>
<span class="normal"><a href="#__codelineno-1-46">46</a></span>
<span class="normal"><a href="#__codelineno-1-47">47</a></span>
<span class="normal"><a href="#__codelineno-1-48">48</a></span>
<span class="normal"><a href="#__codelineno-1-49">49</a></span>
<span class="normal"><a href="#__codelineno-1-50">50</a></span>
<span class="normal"><a href="#__codelineno-1-51">51</a></span>
<span class="normal"><a href="#__codelineno-1-52">52</a></span>
<span class="normal"><a href="#__codelineno-1-53">53</a></span>
<span class="normal"><a href="#__codelineno-1-54">54</a></span>
<span class="normal"><a href="#__codelineno-1-55">55</a></span>
<span class="normal"><a href="#__codelineno-1-56">56</a></span>
<span class="normal"><a href="#__codelineno-1-57">57</a></span>
<span class="normal"><a href="#__codelineno-1-58">58</a></span>
<span class="normal"><a href="#__codelineno-1-59">59</a></span>
<span class="normal"><a href="#__codelineno-1-60">60</a></span>
<span class="normal"><a href="#__codelineno-1-61">61</a></span>
<span class="normal"><a href="#__codelineno-1-62">62</a></span>
<span class="normal"><a href="#__codelineno-1-63">63</a></span>
<span class="normal"><a href="#__codelineno-1-64">64</a></span>
<span class="normal"><a href="#__codelineno-1-65">65</a></span>
<span class="normal"><a href="#__codelineno-1-66">66</a></span>
<span class="normal"><a href="#__codelineno-1-67">67</a></span>
<span class="normal"><a href="#__codelineno-1-68">68</a></span>
<span class="normal"><a href="#__codelineno-1-69">69</a></span>
<span class="normal"><a href="#__codelineno-1-70">70</a></span>
<span class="normal"><a href="#__codelineno-1-71">71</a></span>
<span class="normal"><a href="#__codelineno-1-72">72</a></span>
<span class="normal"><a href="#__codelineno-1-73">73</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">subprocess</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;ls -al&quot;</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="n">total</span> <span class="mi">16</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>   <span class="mi">3</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">4096</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">55</span> <span class="o">.</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span><span class="o">.</span> <span class="mi">14</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">4096</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">37</span> <span class="o">..</span>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span>   <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span>    <span class="mi">0</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">08</span> <span class="n">find_big_file</span><span class="o">.</span><span class="n">log</span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="o">-</span><span class="n">rwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>   <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">1453</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">00</span> <span class="n">find_big_file</span><span class="o">.</span><span class="n">sh</span>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>   <span class="mi">2</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">4096</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">56</span> <span class="n">shell_demo</span>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="n">Out</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">CompletedProcess</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="s1">&#39;ls -al&#39;</span><span class="p">,</span> <span class="n">returncode</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a>
<a id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&quot;ls&quot;</span><span class="p">,</span><span class="s2">&quot;-al&quot;</span><span class="p">])</span>
<a id="__codelineno-1-13" name="__codelineno-1-13"></a><span class="n">total</span> <span class="mi">16</span>
<a id="__codelineno-1-14" name="__codelineno-1-14"></a><span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>   <span class="mi">3</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">4096</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">55</span> <span class="o">.</span>
<a id="__codelineno-1-15" name="__codelineno-1-15"></a><span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span><span class="o">.</span> <span class="mi">14</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">4096</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">37</span> <span class="o">..</span>
<a id="__codelineno-1-16" name="__codelineno-1-16"></a><span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span>   <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span>    <span class="mi">0</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">08</span> <span class="n">find_big_file</span><span class="o">.</span><span class="n">log</span>
<a id="__codelineno-1-17" name="__codelineno-1-17"></a><span class="o">-</span><span class="n">rwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>   <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">1453</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">00</span> <span class="n">find_big_file</span><span class="o">.</span><span class="n">sh</span>
<a id="__codelineno-1-18" name="__codelineno-1-18"></a><span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>   <span class="mi">2</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">4096</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">56</span> <span class="n">shell_demo</span>
<a id="__codelineno-1-19" name="__codelineno-1-19"></a><span class="n">Out</span><span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">CompletedProcess</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ls&#39;</span><span class="p">,</span> <span class="s1">&#39;-al&#39;</span><span class="p">],</span> <span class="n">returncode</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-1-20" name="__codelineno-1-20"></a>
<a id="__codelineno-1-21" name="__codelineno-1-21"></a><span class="n">In</span> <span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&quot;ls&quot;</span><span class="p">,</span> <span class="s2">&quot;-l&quot;</span><span class="p">,</span> <span class="s2">&quot;/dev/null&quot;</span><span class="p">],</span> <span class="n">capture_output</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-1-22" name="__codelineno-1-22"></a><span class="n">Out</span><span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="n">CompletedProcess</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ls&#39;</span><span class="p">,</span> <span class="s1">&#39;-l&#39;</span><span class="p">,</span> <span class="s1">&#39;/dev/null&#39;</span><span class="p">],</span> <span class="n">returncode</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="sa">b</span><span class="s1">&#39;crw-rw-rw- 1 experiment root 1, 3 2023-07-19 15:53:04 /dev/null</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="sa">b</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<a id="__codelineno-1-23" name="__codelineno-1-23"></a>
<a id="__codelineno-1-24" name="__codelineno-1-24"></a><span class="n">In</span> <span class="p">[</span><span class="mi">6</span><span class="p">]:</span> <span class="n">res</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&quot;ls&quot;</span><span class="p">,</span><span class="s2">&quot;-al&quot;</span><span class="p">])</span>
<a id="__codelineno-1-25" name="__codelineno-1-25"></a><span class="n">total</span> <span class="mi">16</span>
<a id="__codelineno-1-26" name="__codelineno-1-26"></a><span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>   <span class="mi">3</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">4096</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">55</span> <span class="o">.</span>
<a id="__codelineno-1-27" name="__codelineno-1-27"></a><span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span><span class="o">.</span> <span class="mi">14</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">4096</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">37</span> <span class="o">..</span>
<a id="__codelineno-1-28" name="__codelineno-1-28"></a><span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span>   <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span>    <span class="mi">0</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">08</span> <span class="n">find_big_file</span><span class="o">.</span><span class="n">log</span>
<a id="__codelineno-1-29" name="__codelineno-1-29"></a><span class="o">-</span><span class="n">rwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>   <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">1453</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">00</span> <span class="n">find_big_file</span><span class="o">.</span><span class="n">sh</span>
<a id="__codelineno-1-30" name="__codelineno-1-30"></a><span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>   <span class="mi">2</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">4096</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">56</span> <span class="n">shell_demo</span>
<a id="__codelineno-1-31" name="__codelineno-1-31"></a>
<a id="__codelineno-1-32" name="__codelineno-1-32"></a><span class="n">In</span> <span class="p">[</span><span class="mi">7</span><span class="p">]:</span> <span class="n">res</span><span class="o">.</span><span class="n">returncode</span>
<a id="__codelineno-1-33" name="__codelineno-1-33"></a><span class="n">Out</span><span class="p">[</span><span class="mi">7</span><span class="p">]:</span> <span class="mi">0</span>
<a id="__codelineno-1-34" name="__codelineno-1-34"></a>
<a id="__codelineno-1-35" name="__codelineno-1-35"></a><span class="n">In</span> <span class="p">[</span><span class="mi">8</span><span class="p">]:</span> <span class="n">res</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&quot;ls&quot;</span><span class="p">,</span><span class="s2">&quot;-al&quot;</span><span class="p">,</span><span class="s2">&quot;./cmd_output&quot;</span><span class="p">],</span> <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">)</span>
<a id="__codelineno-1-36" name="__codelineno-1-36"></a><span class="n">ls</span><span class="p">:</span> <span class="n">cannot</span> <span class="n">access</span> <span class="o">./</span><span class="n">cmd_output</span><span class="p">:</span> <span class="n">No</span> <span class="n">such</span> <span class="n">file</span> <span class="ow">or</span> <span class="n">directory</span>
<a id="__codelineno-1-37" name="__codelineno-1-37"></a>
<a id="__codelineno-1-38" name="__codelineno-1-38"></a><span class="n">In</span> <span class="p">[</span><span class="mi">9</span><span class="p">]:</span> <span class="n">res</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&quot;ls&quot;</span><span class="p">,</span><span class="s2">&quot;-al&quot;</span><span class="p">,</span><span class="s2">&quot;./&quot;</span><span class="p">],</span> <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">)</span>
<a id="__codelineno-1-39" name="__codelineno-1-39"></a>
<a id="__codelineno-1-40" name="__codelineno-1-40"></a><span class="n">In</span> <span class="p">[</span><span class="mi">10</span><span class="p">]:</span> <span class="n">res</span><span class="o">.</span><span class="n">stdout</span>
<a id="__codelineno-1-41" name="__codelineno-1-41"></a><span class="n">Out</span><span class="p">[</span><span class="mi">10</span><span class="p">]:</span> <span class="sa">b</span><span class="s1">&#39;total 16</span><span class="se">\n</span><span class="s1">drwxr-xr-x   3 root root 4096 2024-01-12 16:18:55 .</span><span class="se">\n</span><span class="s1">drwxr-xr-x. 14 root root 4096 2024-01-12 16:17:37 ..</span><span class="se">\n</span><span class="s1">-rw-r--r--   1 root root    0 2024-01-12 16:18:08 find_big_file.log</span><span class="se">\n</span><span class="s1">-rwxr-xr-x   1 root root 1453 2024-01-12 16:18:00 find_big_file.sh</span><span class="se">\n</span><span class="s1">drwxr-xr-x   2 root root 4096 2024-01-12 16:18:56 shell_demo</span><span class="se">\n</span><span class="s1">&#39;</span>
<a id="__codelineno-1-42" name="__codelineno-1-42"></a>
<a id="__codelineno-1-43" name="__codelineno-1-43"></a><span class="n">In</span> <span class="p">[</span><span class="mi">11</span><span class="p">]:</span> <span class="n">res</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&quot;ls&quot;</span><span class="p">,</span><span class="s2">&quot;-al&quot;</span><span class="p">,</span><span class="s2">&quot;./&quot;</span><span class="p">],</span> <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-1-44" name="__codelineno-1-44"></a>
<a id="__codelineno-1-45" name="__codelineno-1-45"></a><span class="n">In</span> <span class="p">[</span><span class="mi">12</span><span class="p">]:</span> <span class="n">res</span><span class="o">.</span><span class="n">stdout</span>
<a id="__codelineno-1-46" name="__codelineno-1-46"></a><span class="n">Out</span><span class="p">[</span><span class="mi">12</span><span class="p">]:</span> <span class="s1">&#39;total 16</span><span class="se">\n</span><span class="s1">drwxr-xr-x   3 root root 4096 2024-01-12 16:18:55 .</span><span class="se">\n</span><span class="s1">drwxr-xr-x. 14 root root 4096 2024-01-12 16:17:37 ..</span><span class="se">\n</span><span class="s1">-rw-r--r--   1 root root    0 2024-01-12 16:18:08 find_big_file.log</span><span class="se">\n</span><span class="s1">-rwxr-xr-x   1 root root 1453 2024-01-12 16:18:00 find_big_file.sh</span><span class="se">\n</span><span class="s1">drwxr-xr-x   2 root root 4096 2024-01-12 16:18:56 shell_demo</span><span class="se">\n</span><span class="s1">&#39;</span>
<a id="__codelineno-1-47" name="__codelineno-1-47"></a>
<a id="__codelineno-1-48" name="__codelineno-1-48"></a><span class="n">In</span> <span class="p">[</span><span class="mi">14</span><span class="p">]:</span> <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;cmd_output.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;a+&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-1-49" name="__codelineno-1-49"></a>    <span class="o">...</span><span class="p">:</span>     <span class="n">res</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&quot;ls&quot;</span><span class="p">,</span><span class="s2">&quot;-al&quot;</span><span class="p">,</span><span class="s2">&quot;./&quot;</span><span class="p">],</span> <span class="n">stdout</span><span class="o">=</span><span class="n">f</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-1-50" name="__codelineno-1-50"></a>    <span class="o">...</span><span class="p">:</span>     <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;code:</span><span class="si">{</span><span class="n">res</span><span class="o">.</span><span class="n">returncode</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-1-51" name="__codelineno-1-51"></a>    <span class="o">...</span><span class="p">:</span>     <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;stdout: </span><span class="si">{</span><span class="n">res</span><span class="o">.</span><span class="n">stdout</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-1-52" name="__codelineno-1-52"></a>    <span class="o">...</span><span class="p">:</span> 
<a id="__codelineno-1-53" name="__codelineno-1-53"></a><span class="n">code</span><span class="p">:</span><span class="mi">0</span>
<a id="__codelineno-1-54" name="__codelineno-1-54"></a><span class="n">stdout</span><span class="p">:</span> <span class="kc">None</span>
<a id="__codelineno-1-55" name="__codelineno-1-55"></a>
<a id="__codelineno-1-56" name="__codelineno-1-56"></a><span class="n">In</span> <span class="p">[</span><span class="mi">15</span><span class="p">]:</span> <span class="n">ls</span>
<a id="__codelineno-1-57" name="__codelineno-1-57"></a><span class="n">cmd_output</span><span class="o">.</span><span class="n">txt</span>  <span class="n">find_big_file</span><span class="o">.</span><span class="n">log</span>  <span class="n">find_big_file</span><span class="o">.</span><span class="n">sh</span><span class="o">*</span>  <span class="n">shell_demo</span><span class="o">/</span>
<a id="__codelineno-1-58" name="__codelineno-1-58"></a>
<a id="__codelineno-1-59" name="__codelineno-1-59"></a><span class="n">In</span> <span class="p">[</span><span class="mi">16</span><span class="p">]:</span> <span class="n">res</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span><span class="s2">&quot;cmd_output.txt&quot;</span><span class="p">])</span>
<a id="__codelineno-1-60" name="__codelineno-1-60"></a><span class="n">total</span> <span class="mi">16</span>
<a id="__codelineno-1-61" name="__codelineno-1-61"></a><span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>   <span class="mi">3</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">4096</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="mi">11</span> <span class="o">.</span>
<a id="__codelineno-1-62" name="__codelineno-1-62"></a><span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span><span class="o">.</span> <span class="mi">14</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">4096</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">37</span> <span class="o">..</span>
<a id="__codelineno-1-63" name="__codelineno-1-63"></a><span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span>   <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span>    <span class="mi">0</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="mi">11</span> <span class="n">cmd_output</span><span class="o">.</span><span class="n">txt</span>
<a id="__codelineno-1-64" name="__codelineno-1-64"></a><span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span>   <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span>    <span class="mi">0</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">08</span> <span class="n">find_big_file</span><span class="o">.</span><span class="n">log</span>
<a id="__codelineno-1-65" name="__codelineno-1-65"></a><span class="o">-</span><span class="n">rwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>   <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">1453</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">00</span> <span class="n">find_big_file</span><span class="o">.</span><span class="n">sh</span>
<a id="__codelineno-1-66" name="__codelineno-1-66"></a><span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>   <span class="mi">2</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">4096</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">56</span> <span class="n">shell_demo</span>
<a id="__codelineno-1-67" name="__codelineno-1-67"></a><span class="n">total</span> <span class="mi">20</span>
<a id="__codelineno-1-68" name="__codelineno-1-68"></a><span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>   <span class="mi">3</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">4096</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="mi">11</span> <span class="o">.</span>
<a id="__codelineno-1-69" name="__codelineno-1-69"></a><span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span><span class="o">.</span> <span class="mi">14</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">4096</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">37</span> <span class="o">..</span>
<a id="__codelineno-1-70" name="__codelineno-1-70"></a><span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span>   <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span>  <span class="mi">375</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="mi">11</span> <span class="n">cmd_output</span><span class="o">.</span><span class="n">txt</span>
<a id="__codelineno-1-71" name="__codelineno-1-71"></a><span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span>   <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span>    <span class="mi">0</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">08</span> <span class="n">find_big_file</span><span class="o">.</span><span class="n">log</span>
<a id="__codelineno-1-72" name="__codelineno-1-72"></a><span class="o">-</span><span class="n">rwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>   <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">1453</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">00</span> <span class="n">find_big_file</span><span class="o">.</span><span class="n">sh</span>
<a id="__codelineno-1-73" name="__codelineno-1-73"></a><span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>   <span class="mi">2</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">4096</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">12</span> <span class="mi">16</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">56</span> <span class="n">shell_demo</span>
</code></pre></div></td></tr></table></div>
<h2 id="subprocesspopen">核心接口分析之subprocess.Popen()<a class="headerlink" href="#subprocesspopen" title="Permanent link">&para;</a></h2>
<h3 id="_14">函数特点：<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>run()方法底层调用的是Popen()方法，当run方法无法满足需求是，使用Popen()方法去实现；</strong></li>
<li>输入：执行的命令</li>
<li>输出：非阻塞输出，执行后立即返回，执行结果通过返回对象获取
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-2-10">10</a></span>
<span class="normal"><a href="#__codelineno-2-11">11</a></span>
<span class="normal"><a href="#__codelineno-2-12">12</a></span>
<span class="normal"><a href="#__codelineno-2-13">13</a></span>
<span class="normal"><a href="#__codelineno-2-14">14</a></span>
<span class="normal"><a href="#__codelineno-2-15">15</a></span>
<span class="normal"><a href="#__codelineno-2-16">16</a></span>
<span class="normal"><a href="#__codelineno-2-17">17</a></span>
<span class="normal"><a href="#__codelineno-2-18">18</a></span>
<span class="normal"><a href="#__codelineno-2-19">19</a></span>
<span class="normal"><a href="#__codelineno-2-20">20</a></span>
<span class="normal"><a href="#__codelineno-2-21">21</a></span>
<span class="normal"><a href="#__codelineno-2-22">22</a></span>
<span class="normal"><a href="#__codelineno-2-23">23</a></span>
<span class="normal"><a href="#__codelineno-2-24">24</a></span>
<span class="normal"><a href="#__codelineno-2-25">25</a></span>
<span class="normal"><a href="#__codelineno-2-26">26</a></span>
<span class="normal"><a href="#__codelineno-2-27">27</a></span>
<span class="normal"><a href="#__codelineno-2-28">28</a></span>
<span class="normal"><a href="#__codelineno-2-29">29</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a>    <span class="n">args</span><span class="p">,</span>  <span class="c1">#同run()方法</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a>    <span class="n">bufsize</span><span class="o">=-</span> <span class="mi">1</span><span class="p">,</span> <span class="c1"># 定义子进程的缓冲大小，默认值-1表示使用系统默认的缓冲大小；</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a>    <span class="n">executable</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="c1"># 指定要执行的程序路径，若未指定，则通过PATH环境变量来确定可执行文件位置；</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a>    <span class="n">stdin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="c1"># 同run()方法</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a>    <span class="n">stdout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="c1"># 同run()方法</span>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a>    <span class="n">stderr</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="c1"># 同run()方法</span>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a>    <span class="n">preexec_fn</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="c1"># 指定在子进程启动之前要执行的函数，该函数在fork()调用成功，在exec()调用之前被调用；</span>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a>    <span class="n">close_fds</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="c1"># 指定是否关闭所有文件描述符，</span>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a>    <span class="n">shell</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="c1"># # 同run()方法</span>
<a id="__codelineno-2-11" name="__codelineno-2-11"></a>    <span class="n">cwd</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="c1"># 同run()方法</span>
<a id="__codelineno-2-12" name="__codelineno-2-12"></a>    <span class="n">env</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="c1"># 同run()方法</span>
<a id="__codelineno-2-13" name="__codelineno-2-13"></a>    <span class="n">universal_newlines</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="c1"># 同run()方法</span>
<a id="__codelineno-2-14" name="__codelineno-2-14"></a>    <span class="n">startupinfo</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="c1"># 一个可选的subprocess.STARTUPINFO对象，用于指定子进程的启动信息，如窗口大小、窗口标题等</span>
<a id="__codelineno-2-15" name="__codelineno-2-15"></a>    <span class="n">creationflags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="c1"># 用于指定子进程的创建标志，控制子进程的各种行为。可以使用subprocess.CREATE_NEW_CONSOLE、subprocess.CREATE_NEW_PROCESS_GROUP等常量进行设置</span>
<a id="__codelineno-2-16" name="__codelineno-2-16"></a>    <span class="n">restore_signals</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="c1"># 用于确定是否在子进程中恢复信号处理程序的默认行为</span>
<a id="__codelineno-2-17" name="__codelineno-2-17"></a>    <span class="n">start_new_session</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="c1"># 用于代替使用 preexec_fn 的代码来在子进程中调用 os.setsid() 或 os.setpgid()；如果 start_new_session 为真值则 setsid() 系统调用将在执行子进程之前在子进程中执行</span>
<a id="__codelineno-2-18" name="__codelineno-2-18"></a>    <span class="n">pass_fds</span><span class="o">=</span><span class="p">(),</span> <span class="c1"># 是一个可选的在父子进程间保持打开的文件描述符序列。提供任何 pass_fds 将强制 close_fds 为 True</span>
<a id="__codelineno-2-19" name="__codelineno-2-19"></a>    <span class="o">*</span><span class="p">,</span> 
<a id="__codelineno-2-20" name="__codelineno-2-20"></a>    <span class="n">group</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="c1">#（仅 POSIX）: 如果 group 不为 None，则 setregid() 系统调用将于子进程执行之前在下级进程中进行。 如果所提供的值为一个字符串，将通过 grp.getgrnam() 来查找它，并将使用 gr_gid 中的值。 如果该值为一个整数，它将被原样传递</span>
<a id="__codelineno-2-21" name="__codelineno-2-21"></a>    <span class="n">extra_groups</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="c1"># （仅 POSIX）: 如果 extra_groups 不为 None，则 setgroups() 系统调用将于子进程之前在下级进程中进行。 在 extra_groups 中提供的字符串将通过 grp.getgrnam() 来查找，并将使用 gr_gid 中的值。 整数值将被原样传递</span>
<a id="__codelineno-2-22" name="__codelineno-2-22"></a>    <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="c1"># 仅 POSIX）: 如果 user 不为 None，则 setreuid() 系统调用将于子进程执行之前在下级进程中进行。 如果所提供的值为一个字符串，将通过 pwd.getpwnam() 来查找它，并将使用 pw_uid 中的值。 如果该值为一个整数，它将被原样传递</span>
<a id="__codelineno-2-23" name="__codelineno-2-23"></a>    <span class="n">umask</span><span class="o">=-</span> <span class="mi">1</span><span class="p">,</span> <span class="c1"># 如果 umask 不为负值，则 umask() 系统调用将在子进程执行之前在下级进程中进行</span>
<a id="__codelineno-2-24" name="__codelineno-2-24"></a>    <span class="n">encoding</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># 同run()方法</span>
<a id="__codelineno-2-25" name="__codelineno-2-25"></a>    <span class="n">errors</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># 同run()方法</span>
<a id="__codelineno-2-26" name="__codelineno-2-26"></a>    <span class="n">text</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># 同run()方法</span>
<a id="__codelineno-2-27" name="__codelineno-2-27"></a>    <span class="n">pipesize</span><span class="o">=-</span> <span class="mi">1</span><span class="p">,</span> <span class="c1"># 当 PIPE 被用作 stdin, stdout 或 stderr 时 pipesize 可被用于改变管道的大小。 管道的大小仅会在受支持的平台上被改变（当撰写本文档时只有 Linux 支持）</span>
<a id="__codelineno-2-28" name="__codelineno-2-28"></a>    <span class="n">process_group</span><span class="o">=</span><span class="kc">None</span> <span class="c1"># 用于代替使用 preexec_fn 的代码来在子进程中调用 os.setsid() 或 os.setpgid()；如果 start_new_session 为真值则 setsid() 系统调用将在执行子进程之前在子进程中执行</span>
<a id="__codelineno-2-29" name="__codelineno-2-29"></a><span class="p">)</span>
</code></pre></div></td></tr></table></div></li>
</ul>
<h3 id="-popen">重要属性-Popen对象<a class="headerlink" href="#-popen" title="Permanent link">&para;</a></h3>
<p><img alt="image.png" src="https://cdn.nlark.com/yuque/0/2024/png/2130981/1705050956201-09e1da8f-a825-401c-ae20-e67a90f633e8.png#averageHue=%23474645&amp;clientId=u0bfed3c2-e7cc-4&amp;from=paste&amp;height=150&amp;id=u92fe8a26&amp;originHeight=150&amp;originWidth=850&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=9909&amp;status=done&amp;style=none&amp;taskId=ude3c6d9e-c5fa-4a36-b297-495f76a1fd4&amp;title=&amp;width=850" /></p>
<ul>
<li>Popen.<strong>communicate</strong>(<em>input=None</em>, <em>timeout=None</em>)</li>
<li>与进程交互：将数据发送到 stdin。 从 stdout 和 stderr 读取数据，直到抵达文件结尾。 等待进程终止并设置 <a href="https://docs.python.org/zh-cn/3.12/library/subprocess.html#subprocess.Popen.returncode">returncode</a> 属性，可选的 <em>input</em> 参数应为要发送到下级进程的数据，或者如果没有要发送到下级进程的数据则为 None。 如果流是以文本模式打开的，则 <em>input</em> 必须为字符串。 在其他情况下，它必须为字节串。</li>
<li><a href="https://docs.python.org/zh-cn/3.12/library/subprocess.html#subprocess.Popen.communicate">communicate()</a> 返回一个 (stdout_data, stderr_data) 元组。如果文件以文本模式打开则为字符串；否则字节。</li>
<li>Popen.<strong>poll</strong>()</li>
<li>检查子进程是否已被终止。设置并返回 <a href="https://docs.python.org/zh-cn/3.12/library/subprocess.html#subprocess.Popen.returncode">returncode</a> 属性。否则返回 None。</li>
<li>Popen.<strong>wait</strong>(<em>timeout=None</em>)</li>
<li>等待子进程被终止。设置并返回 <a href="https://docs.python.org/zh-cn/3.12/library/subprocess.html#subprocess.Popen.returncode">returncode</a> 属性。</li>
<li>Popen.<strong>send_signal</strong>(<em>signal</em>)</li>
<li>将信号 <em>signal</em> 发送给子进程，如SIGINT、SIGTERM等</li>
</ul>
<h3 id="_15">使用示例<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>基本操作
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-3-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-3-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-3-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-3-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-3-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-3-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-3-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-3-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-3-10">10</a></span>
<span class="normal"><a href="#__codelineno-3-11">11</a></span>
<span class="normal"><a href="#__codelineno-3-12">12</a></span>
<span class="normal"><a href="#__codelineno-3-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">subprocess</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">res</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span><span class="s2">&quot;sleep 10 &amp;&amp; pwd&quot;</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">res</span>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="n">Out</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">Popen</span><span class="p">:</span> <span class="n">returncode</span><span class="p">:</span> <span class="kc">None</span> <span class="n">args</span><span class="p">:</span> <span class="s1">&#39;sleep 10 &amp;&amp; pwd&#39;</span><span class="o">&gt;</span>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a>
<a id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">res</span><span class="o">.</span><span class="n">stdout</span>
<a id="__codelineno-3-9" name="__codelineno-3-9"></a>
<a id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="n">In</span> <span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="n">res</span><span class="o">.</span><span class="n">stdout</span>
<a id="__codelineno-3-11" name="__codelineno-3-11"></a>
<a id="__codelineno-3-12" name="__codelineno-3-12"></a><span class="n">In</span> <span class="p">[</span><span class="mi">7</span><span class="p">]:</span> <span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">sswang</span><span class="o">/</span><span class="n">subprocess_demo</span>
<a id="__codelineno-3-13" name="__codelineno-3-13"></a><span class="n">In</span> <span class="p">[</span><span class="mi">7</span><span class="p">]:</span> 
</code></pre></div></td></tr></table></div></p>
</li>
<li>
<p>案例
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span>
<span class="normal"><a href="#__codelineno-4-11">11</a></span>
<span class="normal"><a href="#__codelineno-4-12">12</a></span>
<span class="normal"><a href="#__codelineno-4-13">13</a></span>
<span class="normal"><a href="#__codelineno-4-14">14</a></span>
<span class="normal"><a href="#__codelineno-4-15">15</a></span>
<span class="normal"><a href="#__codelineno-4-16">16</a></span>
<span class="normal"><a href="#__codelineno-4-17">17</a></span>
<span class="normal"><a href="#__codelineno-4-18">18</a></span>
<span class="normal"><a href="#__codelineno-4-19">19</a></span>
<span class="normal"><a href="#__codelineno-4-20">20</a></span>
<span class="normal"><a href="#__codelineno-4-21">21</a></span>
<span class="normal"><a href="#__codelineno-4-22">22</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="sd">&#39;&#39;&#39;</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="sd">使用subprocess的Popen来执行shell命令，这种方式会创建一个新的进程来执行shell</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="sd">使用要放在后台一直执行的shell进程，比如通过shell启动某种服务，如果通过上面</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="sd">的方式，就会遇到当python被关闭时，shell启动的程序也被关闭</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="sd">需要注意的是close_fds参数，默认为false，表示继承fb，即文件资源符，如果继承fb，那么当父进程关闭时</span>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="sd">shell启动的子进程会去继承父进程相应的资源，如Flask web服务中通过shell启动了某个服务，此时Flask关闭了</span>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="sd">但原本Flask监听的端口依旧会被shell子进程占用，这样就导致Flask无法再次启动。</span>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="sd">将close_fds设置为false可以避免这种情况</span>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="sd">&#39;&#39;&#39;</span>
<a id="__codelineno-4-10" name="__codelineno-4-10"></a><span class="k">def</span> <span class="nf">execshell2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">shell</span><span class="p">):</span>
<a id="__codelineno-4-11" name="__codelineno-4-11"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-4-12" name="__codelineno-4-12"></a>        <span class="n">p</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span><span class="n">shell</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span> <span class="p">,</span><span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">STDOUT</span><span class="p">,</span> <span class="n">close_fds</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-4-13" name="__codelineno-4-13"></a>        <span class="n">output</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<a id="__codelineno-4-14" name="__codelineno-4-14"></a>        <span class="c1"># p.terminate()</span>
<a id="__codelineno-4-15" name="__codelineno-4-15"></a>        <span class="n">code</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-4-16" name="__codelineno-4-16"></a>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> execute success!&#39;</span> <span class="o">%</span> <span class="n">shell</span><span class="p">)</span>
<a id="__codelineno-4-17" name="__codelineno-4-17"></a>    <span class="k">except</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">CalledProcessError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-4-18" name="__codelineno-4-18"></a>        <span class="n">code</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">returncode</span>
<a id="__codelineno-4-19" name="__codelineno-4-19"></a>        <span class="n">output</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">output</span>
<a id="__codelineno-4-20" name="__codelineno-4-20"></a>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> execute error: exit_status [</span><span class="si">%s</span><span class="s1">] err [</span><span class="si">%s</span><span class="s1">]&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">shell</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">code</span><span class="p">),</span> <span class="n">output</span><span class="p">))</span>
<a id="__codelineno-4-21" name="__codelineno-4-21"></a>        <span class="n">exit</span><span class="p">()</span>
<a id="__codelineno-4-22" name="__codelineno-4-22"></a>    <span class="k">return</span> <span class="n">code</span><span class="p">,</span> <span class="n">output</span>
</code></pre></div></td></tr></table></div></p>
</li>
</ul>
<h2 id="subprocess">subprocess常用异常类<a class="headerlink" href="#subprocess" title="Permanent link">&para;</a></h2>
<h3 id="subprocesserror">SubprocessError<a class="headerlink" href="#subprocesserror" title="Permanent link">&para;</a></h3>
<ul>
<li>此模块的其他异常</li>
</ul>
<h3 id="timeoutexpired">TimeoutExpired<a class="headerlink" href="#timeoutexpired" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://docs.python.org/zh-cn/3.12/library/subprocess.html#subprocess.SubprocessError">SubprocessError</a> 的子类，等待子进程的过程中发生超时时被抛出</li>
</ul>
<h3 id="calledprocesserror">CalledProcessError<a class="headerlink" href="#calledprocesserror" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://docs.python.org/zh-cn/3.12/library/subprocess.html#subprocess.SubprocessError">SubprocessError</a> 的子类，当一个由 <a href="https://docs.python.org/zh-cn/3.12/library/subprocess.html#subprocess.check_call">check_call()</a>, <a href="https://docs.python.org/zh-cn/3.12/library/subprocess.html#subprocess.check_output">check_output()</a> 或 <a href="https://docs.python.org/zh-cn/3.12/library/subprocess.html#subprocess.run">run()</a> (附带 check=True) 运行的进程返回了非零退出状态码时将被引发</li>
</ul>
<h2 id="_16">实践案例<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>需求：使用typer+subprocess实现了一个用于管理项目依赖和执行一些常见任务的脚本的工具。</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">  1</a></span>
<span class="normal"><a href="#__codelineno-5-2">  2</a></span>
<span class="normal"><a href="#__codelineno-5-3">  3</a></span>
<span class="normal"><a href="#__codelineno-5-4">  4</a></span>
<span class="normal"><a href="#__codelineno-5-5">  5</a></span>
<span class="normal"><a href="#__codelineno-5-6">  6</a></span>
<span class="normal"><a href="#__codelineno-5-7">  7</a></span>
<span class="normal"><a href="#__codelineno-5-8">  8</a></span>
<span class="normal"><a href="#__codelineno-5-9">  9</a></span>
<span class="normal"><a href="#__codelineno-5-10"> 10</a></span>
<span class="normal"><a href="#__codelineno-5-11"> 11</a></span>
<span class="normal"><a href="#__codelineno-5-12"> 12</a></span>
<span class="normal"><a href="#__codelineno-5-13"> 13</a></span>
<span class="normal"><a href="#__codelineno-5-14"> 14</a></span>
<span class="normal"><a href="#__codelineno-5-15"> 15</a></span>
<span class="normal"><a href="#__codelineno-5-16"> 16</a></span>
<span class="normal"><a href="#__codelineno-5-17"> 17</a></span>
<span class="normal"><a href="#__codelineno-5-18"> 18</a></span>
<span class="normal"><a href="#__codelineno-5-19"> 19</a></span>
<span class="normal"><a href="#__codelineno-5-20"> 20</a></span>
<span class="normal"><a href="#__codelineno-5-21"> 21</a></span>
<span class="normal"><a href="#__codelineno-5-22"> 22</a></span>
<span class="normal"><a href="#__codelineno-5-23"> 23</a></span>
<span class="normal"><a href="#__codelineno-5-24"> 24</a></span>
<span class="normal"><a href="#__codelineno-5-25"> 25</a></span>
<span class="normal"><a href="#__codelineno-5-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-5-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-5-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-5-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-5-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-5-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-5-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-5-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-5-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-5-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-5-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-5-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-5-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-5-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-5-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-5-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-5-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-5-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-5-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-5-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-5-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-5-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-5-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-5-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-5-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-5-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-5-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-5-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-5-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-5-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-5-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-5-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-5-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-5-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-5-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-5-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-5-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-5-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-5-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-5-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-5-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-5-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-5-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-5-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-5-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-5-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-5-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-5-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-5-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-5-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-5-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-5-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-5-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-5-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-5-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-5-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-5-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-5-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-5-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-5-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-5-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-5-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-5-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-5-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-5-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-5-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-5-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-5-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-5-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-5-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-5-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-5-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-5-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-5-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-5-100">100</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="kn">import</span> <span class="nn">sys</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="kn">import</span> <span class="nn">subprocess</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="kn">import</span> <span class="nn">click</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="k">class</span> <span class="nc">UpgradeDependencies</span><span class="p">:</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a>    <span class="k">def</span> <span class="nf">_build_args</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">dependencies</span><span class="p">):</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a>        <span class="c1"># 解析依赖项并构建参数</span>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a>        <span class="n">packs</span><span class="p">,</span> <span class="n">specials</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">{}</span>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a>        <span class="k">for</span> <span class="n">dep</span> <span class="ow">in</span> <span class="n">dependencies</span><span class="p">:</span>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a>            <span class="k">if</span> <span class="s2">&quot;:&quot;</span> <span class="ow">in</span> <span class="n">dep</span><span class="p">:</span>
<a id="__codelineno-5-13" name="__codelineno-5-13"></a>                <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">dep</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
<a id="__codelineno-5-14" name="__codelineno-5-14"></a>                <span class="n">specials</span><span class="p">[</span><span class="n">k</span><span class="o">.</span><span class="n">strip</span><span class="p">()]</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<a id="__codelineno-5-15" name="__codelineno-5-15"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-5-16" name="__codelineno-5-16"></a>                <span class="n">packs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dep</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
<a id="__codelineno-5-17" name="__codelineno-5-17"></a>        <span class="k">return</span> <span class="n">packs</span><span class="p">,</span> <span class="n">specials</span>
<a id="__codelineno-5-18" name="__codelineno-5-18"></a>
<a id="__codelineno-5-19" name="__codelineno-5-19"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-5-20" name="__codelineno-5-20"></a>    <span class="k">def</span> <span class="nf">_parse_dependencies</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">title</span><span class="p">):</span>
<a id="__codelineno-5-21" name="__codelineno-5-21"></a>        <span class="c1"># 从文本中解析依赖项</span>
<a id="__codelineno-5-22" name="__codelineno-5-22"></a>        <span class="n">main</span><span class="p">,</span> <span class="n">dev</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
<a id="__codelineno-5-23" name="__codelineno-5-23"></a>        <span class="n">devs</span> <span class="o">=</span> <span class="n">dev</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;[tool.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
<a id="__codelineno-5-24" name="__codelineno-5-24"></a>        <span class="n">mains</span> <span class="o">=</span> <span class="n">main</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
<a id="__codelineno-5-25" name="__codelineno-5-25"></a>        <span class="n">prod_packs</span><span class="p">,</span> <span class="n">specials</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_build_args</span><span class="p">(</span><span class="n">mains</span><span class="p">)</span>
<a id="__codelineno-5-26" name="__codelineno-5-26"></a>        <span class="n">dev_packs</span><span class="p">,</span> <span class="n">specials</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_build_args</span><span class="p">(</span><span class="n">devs</span><span class="p">)</span>
<a id="__codelineno-5-27" name="__codelineno-5-27"></a>        <span class="k">return</span> <span class="n">prod_packs</span><span class="p">,</span> <span class="n">dev_packs</span><span class="p">,</span> <span class="n">specials</span>
<a id="__codelineno-5-28" name="__codelineno-5-28"></a>
<a id="__codelineno-5-29" name="__codelineno-5-29"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-5-30" name="__codelineno-5-30"></a>    <span class="k">def</span> <span class="nf">get_args</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<a id="__codelineno-5-31" name="__codelineno-5-31"></a>        <span class="c1"># 获取依赖项参数</span>
<a id="__codelineno-5-32" name="__codelineno-5-32"></a>        <span class="n">dev_title</span> <span class="o">=</span> <span class="s2">&quot;[tool.poetry.group.dev.dependencies]&quot;</span>
<a id="__codelineno-5-33" name="__codelineno-5-33"></a>        <span class="n">dev_flag</span> <span class="o">=</span> <span class="s2">&quot;--group dev&quot;</span>
<a id="__codelineno-5-34" name="__codelineno-5-34"></a>        <span class="n">main_args</span><span class="p">,</span> <span class="n">dev_args</span><span class="p">,</span> <span class="n">others</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]</span>
<a id="__codelineno-5-35" name="__codelineno-5-35"></a>        <span class="k">if</span> <span class="n">dev_title</span> <span class="ow">in</span> <span class="n">text</span><span class="p">:</span>
<a id="__codelineno-5-36" name="__codelineno-5-36"></a>            <span class="n">main_title</span> <span class="o">=</span> <span class="s2">&quot;[tool.poetry.dependencies]&quot;</span>
<a id="__codelineno-5-37" name="__codelineno-5-37"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-5-38" name="__codelineno-5-38"></a>            <span class="n">dev_flag</span> <span class="o">=</span> <span class="s2">&quot;--group dev&quot;</span>
<a id="__codelineno-5-39" name="__codelineno-5-39"></a>            <span class="n">dev_title</span> <span class="o">=</span> <span class="s2">&quot;[tool.poetry.group.dev.dependencies]&quot;</span>
<a id="__codelineno-5-40" name="__codelineno-5-40"></a>        <span class="n">main_args</span><span class="p">,</span> <span class="n">dev_args</span><span class="p">,</span> <span class="n">others</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_parse_dependencies</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">main_title</span><span class="p">,</span> <span class="n">dev_title</span><span class="p">,</span> <span class="n">dev_flag</span><span class="p">)</span>
<a id="__codelineno-5-41" name="__codelineno-5-41"></a>        <span class="k">return</span> <span class="n">main_args</span><span class="p">,</span> <span class="n">dev_args</span><span class="p">,</span> <span class="n">others</span><span class="p">,</span> <span class="n">dev_flag</span>
<a id="__codelineno-5-42" name="__codelineno-5-42"></a>
<a id="__codelineno-5-43" name="__codelineno-5-43"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-5-44" name="__codelineno-5-44"></a>    <span class="k">def</span> <span class="nf">gen_cmd</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<a id="__codelineno-5-45" name="__codelineno-5-45"></a>        <span class="c1"># 生成升级依赖项的命令</span>
<a id="__codelineno-5-46" name="__codelineno-5-46"></a>        <span class="n">main_args</span><span class="p">,</span> <span class="n">dev_args</span><span class="p">,</span> <span class="n">others</span><span class="p">,</span> <span class="n">dev_flag</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_args</span><span class="p">()</span>
<a id="__codelineno-5-47" name="__codelineno-5-47"></a>        <span class="n">command</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;poetry add </span><span class="si">{</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">main_args</span><span class="p">)</span><span class="si">}</span><span class="s2"> &amp;&amp; poetry add </span><span class="si">{</span><span class="n">dev_flag</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dev_args</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-5-48" name="__codelineno-5-48"></a>        <span class="k">for</span> <span class="n">packages</span> <span class="ow">in</span> <span class="n">others</span><span class="p">:</span>
<a id="__codelineno-5-49" name="__codelineno-5-49"></a>            <span class="n">command</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; &amp;&amp; poetry add </span><span class="si">{</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">packages</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-5-50" name="__codelineno-5-50"></a>        <span class="k">return</span> <span class="n">command</span>
<a id="__codelineno-5-51" name="__codelineno-5-51"></a>
<a id="__codelineno-5-52" name="__codelineno-5-52"></a><span class="k">def</span> <span class="nf">exit_if_run_failed</span><span class="p">(</span><span class="n">cmd</span><span class="p">):</span>
<a id="__codelineno-5-53" name="__codelineno-5-53"></a>    <span class="c1"># 如果运行命令失败，则退出</span>
<a id="__codelineno-5-54" name="__codelineno-5-54"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-5-55" name="__codelineno-5-55"></a>        <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-5-56" name="__codelineno-5-56"></a>    <span class="k">except</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">CalledProcessError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-5-57" name="__codelineno-5-57"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-5-58" name="__codelineno-5-58"></a>        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-5-59" name="__codelineno-5-59"></a>
<a id="__codelineno-5-60" name="__codelineno-5-60"></a><span class="nd">@click</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<a id="__codelineno-5-61" name="__codelineno-5-61"></a><span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
<a id="__codelineno-5-62" name="__codelineno-5-62"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;升级所有依赖包到最新版&quot;&quot;&quot;</span>
<a id="__codelineno-5-63" name="__codelineno-5-63"></a>    <span class="n">exit_if_run_failed</span><span class="p">(</span><span class="n">UpgradeDependencies</span><span class="o">.</span><span class="n">gen_cmd</span><span class="p">())</span>
<a id="__codelineno-5-64" name="__codelineno-5-64"></a>
<a id="__codelineno-5-65" name="__codelineno-5-65"></a><span class="nd">@click</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<a id="__codelineno-5-66" name="__codelineno-5-66"></a><span class="k">def</span> <span class="nf">lint</span><span class="p">():</span>
<a id="__codelineno-5-67" name="__codelineno-5-67"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;格式化加静态检查&quot;&quot;&quot;</span>
<a id="__codelineno-5-68" name="__codelineno-5-68"></a>    <span class="n">remove_imports</span> <span class="o">=</span> <span class="s2">&quot;autoflake --in-place --remove-all-unused-imports&quot;</span>
<a id="__codelineno-5-69" name="__codelineno-5-69"></a>    <span class="n">cmd</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<a id="__codelineno-5-70" name="__codelineno-5-70"></a>    <span class="n">paths</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span>
<a id="__codelineno-5-71" name="__codelineno-5-71"></a>    <span class="k">if</span> <span class="n">args</span> <span class="o">:=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
<a id="__codelineno-5-72" name="__codelineno-5-72"></a>        <span class="k">if</span> <span class="s2">&quot;-r&quot;</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
<a id="__codelineno-5-73" name="__codelineno-5-73"></a>            <span class="n">args</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s2">&quot;-r&quot;</span><span class="p">)</span>
<a id="__codelineno-5-74" name="__codelineno-5-74"></a>            <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">is_file</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">args</span><span class="p">):</span>
<a id="__codelineno-5-75" name="__codelineno-5-75"></a>                <span class="n">cmd</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">remove_imports</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">paths</span><span class="si">}</span><span class="s2"> &amp;&amp; &quot;</span> <span class="o">+</span> <span class="n">cmd</span>
<a id="__codelineno-5-76" name="__codelineno-5-76"></a>        <span class="n">paths</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
<a id="__codelineno-5-77" name="__codelineno-5-77"></a>    <span class="n">tools</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;isort&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="s2">&quot;ruff&quot;</span><span class="p">,</span> <span class="s2">&quot;mypy&quot;</span><span class="p">)</span>
<a id="__codelineno-5-78" name="__codelineno-5-78"></a>    <span class="n">cmd</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;poetry run </span><span class="si">{</span><span class="n">tools</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">paths</span><span class="si">}</span><span class="s2"> &amp;&amp; poetry run </span><span class="si">{</span><span class="n">tools</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">paths</span><span class="si">}</span><span class="s2"> &amp;&amp; poetry run </span><span class="si">{</span><span class="n">tools</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">paths</span><span class="si">}</span><span class="s2"> &amp;&amp; poetry run </span><span class="si">{</span><span class="n">tools</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">paths</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-5-79" name="__codelineno-5-79"></a>    <span class="n">exit_if_run_failed</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<a id="__codelineno-5-80" name="__codelineno-5-80"></a>
<a id="__codelineno-5-81" name="__codelineno-5-81"></a><span class="nd">@click</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<a id="__codelineno-5-82" name="__codelineno-5-82"></a><span class="k">def</span> <span class="nf">dev</span><span class="p">():</span>
<a id="__codelineno-5-83" name="__codelineno-5-83"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;启动服务：相当于django的runserver&quot;&quot;&quot;</span>
<a id="__codelineno-5-84" name="__codelineno-5-84"></a>    <span class="n">cmd</span> <span class="o">=</span> <span class="s2">&quot;poetry run python main.py&quot;</span>
<a id="__codelineno-5-85" name="__codelineno-5-85"></a>    <span class="k">if</span> <span class="n">args</span> <span class="o">:=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
<a id="__codelineno-5-86" name="__codelineno-5-86"></a>        <span class="n">cmd</span> <span class="o">+=</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
<a id="__codelineno-5-87" name="__codelineno-5-87"></a>    <span class="n">exit_if_run_failed</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<a id="__codelineno-5-88" name="__codelineno-5-88"></a>
<a id="__codelineno-5-89" name="__codelineno-5-89"></a><span class="nd">@click</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<a id="__codelineno-5-90" name="__codelineno-5-90"></a><span class="k">def</span> <span class="nf">makemigrations</span><span class="p">():</span>
<a id="__codelineno-5-91" name="__codelineno-5-91"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;生成数据库迁移文件，类似Django的./manage.py makemigrations&quot;&quot;&quot;</span>
<a id="__codelineno-5-92" name="__codelineno-5-92"></a>    <span class="n">exit_if_run_failed</span><span class="p">(</span><span class="s2">&quot;aerich migrate&quot;</span><span class="p">)</span>
<a id="__codelineno-5-93" name="__codelineno-5-93"></a>
<a id="__codelineno-5-94" name="__codelineno-5-94"></a><span class="nd">@click</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<a id="__codelineno-5-95" name="__codelineno-5-95"></a><span class="k">def</span> <span class="nf">migrate</span><span class="p">():</span>
<a id="__codelineno-5-96" name="__codelineno-5-96"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;更新数据库表结构：相当于django的./manage.py migrate&quot;&quot;&quot;</span>
<a id="__codelineno-5-97" name="__codelineno-5-97"></a>    <span class="n">exit_if_run_failed</span><span class="p">(</span><span class="s2">&quot;aerich upgrade&quot;</span><span class="p">)</span>
<a id="__codelineno-5-98" name="__codelineno-5-98"></a>
<a id="__codelineno-5-99" name="__codelineno-5-99"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<a id="__codelineno-5-100" name="__codelineno-5-100"></a>    <span class="n">cli</span><span class="p">()</span>  <span class="c1"># Assuming you have defined `cli` somewhere</span>
</code></pre></div></td></tr></table></div></li>
</ul>
<!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Render date of last update -->


<!-- Render date of creation -->


<!-- ---------------------------------------------------------------------- -->

<!-- Render authors -->


<!-- ---------------------------------------------------------------------- -->

<!-- Render committers from GitHub -->


<!-- Render committers from GitLab -->


<!-- Render committers -->


<!-- ---------------------------------------------------------------------- -->

<!-- Determine date of last update -->

  
    
  

  <!-- Determine date of creation -->
  


<!-- Source file information -->

  <aside class="md-source-file">

    <!-- Date of last update -->
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="最后更新">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-07-14</span>
  </span>

    

    <!-- Date of creation -->
    

    <!-- Authors (git-authors plugin) -->
    

    <!-- Authors (git-committers plugin) -->
    
  </aside>

<!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine feedback configuration -->

  


<!-- Determine whether to show feedback -->


<!-- Was this page helpful? -->

<!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Comment system -->





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <!-- Footer -->
<footer class="md-footer">

  <!-- Link to previous and/or next page -->
  
    
  

  <!-- Further information -->
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid" style="display: flex; justify-content: center; ">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2017~2024 AstonWang/All Rights Reserved.
    </div>
  
  
</div>

      <font color="#B9B9B9">
      <div class="md-footer-meta__inner md-grid" style="display: flex; justify-content: center; "></div>
        <div id='box11' style="font-size: 14px;"> &nbsp;| &nbsp; 本站已经运行: <span id="timer"></span></div>
      </font>

    <!-- 本站访问量：<script async src="//finicounter.eu.org/finicounter.js"></script> -->
    <!-- <span id="finicount_views"></span>    &nbsp;|&nbsp; -->
    <!-- <footer> -->
      <!-- <a href="https://icp.gov.moe/?keyword=20230640" target="_blank">萌ICP备20230640号</a> -->
    <!-- </footer> -->
  </div>
      </font>
   
    <!-- <font color="#B9B9B9">
      <div class="footer-visit-count" style="display: flex; justify-content: center; align-items: center;">
    本站访问量：<script async src="//finicounter.eu.org/finicounter.js"></script>
    <span id="finicount_views"></span>    &nbsp;|&nbsp;
    <footer>
      <a href="https://icp.gov.moe/?keyword=20230640" target="_blank">萌ICP备20230640号</a>
    </footer>
  </div>
      </font> -->

      <style>
        .footer-visit-count {
            height: fit-content;
            min-height: 55px; /* 根据实际情况调整此高度 */
        }
        </style>
      
    </div>
  </div>
</footer>


<script>
  document.addEventListener('DOMContentLoaded', (event) => {
  function timingTime(){
    let start = '2024-06-28 00:00:00'
    let startTime = new Date(start).getTime()
    let currentTime = new Date().getTime()
    let difference = currentTime - startTime
    let m =  Math.floor(difference / (1000))
    let mm = m % 60  // 秒
    let f = Math.floor(m / 60)
    let ff = f % 60 // 分钟
    let s = Math.floor(f/ 60) // 小时
    let ss = s % 24
    let day = Math.floor(s  / 24 ) // 天数
    return day + "天" + ss + "时" + ff + "分" + mm +'秒'
  }
  setInterval(()=>{
    document.getElementById('timer').innerHTML = timingTime()
  },1000)
  });
</script>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["announce.dismiss", "navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.top", "navigation.footer", "search.suggest", "search.highlight", "search.share", "navigation.indexes", "content.tabs.link", "content.tooltips", "content.code.copy", "content.action.edit", "content.action.view", "content.code.annotate"], "search": "../../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
    
      <script src="../../../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
        <script src="../../../../customize/javascripts/extra.js"></script>
      
        <script src="../../../../customize/javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10.0.2/dist/add-html-label-6e56ed67.min.js"></script>
      
    
    <script src="../../../../assets/javascripts/custom.9458f965.min.js"></script>
  
  </body>
</html>