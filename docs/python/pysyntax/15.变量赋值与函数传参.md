---
title: Python | 变量赋值与函数传参
date: 2023-03-28 16:50:09
permalink: /pages/0b838d/
categories: 
  - Python
tags: 
  - python语法
simplePostListLength: 20
postList: none
---
## 变量的赋值：
- 变量的赋值，只是表示让变量指向了某个对象，并不表示拷贝对象给变量，而一个对象，可以被多个变量所指向。
- 可变对象（list/dict/set）的改变，会影响所有指向该对象的变量
- 对于不可变对象（string/int/tuple）,所有指向该对象的变量的值都一样，也不会改变，但是通过某些操作（+=等等）更新不可变对象的值是，会返回一个新的对象。
- 变量可以被删除，但是对象无法被删除。

```python
a = 1
b = a
a = a + 1

"""
首先将 1 赋值于 a，即 a 指向了 1 这个对象
接着 b = a 则表示，让变量 b 也同时指向 1 这个对象
最后执行 a = a + 1。需要注意的是，Python 的数据类型，例如整型（int）、字符串（string）等等，是不可变的。所以，a = a + 1，并不是让 a 的值增加 1，而是表示重新创建了一个新的值为 2 的对象，并让 a 指向它。但是 b 仍然不变，仍然指向 1 这个对象。
因此，最后的结果是，a 的值变成了 2，而 b 的值不变仍然是 1。
"""
```

```python

l1 = [1, 2, 3]
l2 = l1
l1.append(4)
l1
[1, 2, 3, 4]
l2
[1, 2, 3, 4]

"""


"""
```
## 函数的参数传递

- Python的参数传递是赋值传递（pass by assignment）,或者叫对象的引用传递（pass by object reference）
- Python里所有的数据类型都是对象，所以参数传递时，只是让新变量与原变量指向相同的对象而已，并不存在值传递或者引用传递一说。

> 主流语言常见的参数传递方式：
> - 值传递：
>    - 通常是拷贝参数的值，然后传递给函数的新变量，原变量和新变量之间相互独立，互不影响
> - 引用传递：
>    - 通常是把参数的引用传递给新的变量，原变量和新变量就会指向同一块内存地址。
>    - 若改变了其中任何一个变量的值，那么另外一个变量也会相应地随之改变。


```python
def my_func1(b):
    b  =  2
    
a = 1 
my_func1(a)
a
1

# ---------------------------------------------------
def my_func2(b):
    b = 2 
    return b

a = 1
a = my_func2(a)
a
2

# ---------------------------------------------------
def my_func3(l2: list):
    l2.append(4)
    
l1 = [1,2,3]
my_func3(l1)
l1
[1, 2, 3, 4]

# ---------------------------------------------------
def my_func4(l2: list):
    l2 = l2 + [4]  # 本质执行的是extend的操作，重新创建了一个列表，并让l2执行了这个列表
    
l1 = [1,2,3]
my_func4(l1)
l1
[1, 2, 3]

# ---------------------------------------------------
def my_func5(l2):
    l2 = l2 + [4]
    return l2

l1 = [1,2,3]
l1 = my_func5(l1)
l1
[1, 2, 3, 4]
```
## 如何通过函数修改变量的值

- 方法一：
   - 直接将可变数据类型当做参数传入，直接在其上修改
- 方法二：（推荐做法）
   - 创建一个新变量，来保存修改后的值，然后将其返回给原变量。
## 注意点

- 赋值或对象的引用传递，不是指向一个具体的内存地址，而是指向一个具体的对象。
   - 如果对象是可变的，当其改变时，所有指向这个对象的变量都会被改变
   - 如果对象是不可变，简单的赋值只能改变其中一个变量的值，其余变量则不受影响。


