{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"AstonWang","text":"<p>AstonWang \u200b\u4e2a\u4eba\u200b\u535a\u5ba2\u200b</p> <p> <p> </p> <p> </p>        \u200b\u7f16\u7a0b\u200b\u662f\u200b\u4e00\u79cd\u200b\u6280\u827a\u200b\uff0c\u200b\u4e00\u79cd\u200b\u9700\u8981\u200b\u7528\u5fc3\u200b\u5b66\u4e60\u200b\u7684\u200b\u6280\u827a\u200b         <p></p> <ul> <li>\u200b\u4e00\u5207\u200b\u770b\u4f3c\u200b\u901d\u53bb\u200b\u7684\u200b\uff0c\u200b\u90fd\u200b\u4e0d\u66fe\u200b\u79bb\u5f00\u200b\uff0c\u200b\u4f60\u200b\u6240\u200b\u7ed9\u4e88\u200b\u7684\u200b\u7231\u200b\u4e0e\u200b\u6e29\u6696\u200b\uff0c\u200b\u8ba9\u200b\u6211\u200b\u6267\u7740\u200b\u5730\u5b88\u62a4\u200b\u7740\u200b\u8fd9\u91cc\u200b \uff01    </li> <li>All problems in computer science can be solved by another level of indirection !</li> </ul>"},{"location":"about/personal_profile/","title":"\u5173\u4e8e","text":"<p> <p> </p>"},{"location":"about/personal_profile/#_1","title":"\u4eca\u65e5\u200b\u8bd7\u8bcd","text":"<p>AstonWang</p> <p>PyGoer practitioner</p> <p>About Site</p> <p>\u200b\u672c\u7ad9\u200b\u540d\u4e3a\u200b\uff1a\u200b\u7a7a\u8c37\u5e7d\u5170\u200b\uff0c\u200b\u53d6\u81ea\u200b\u8bb8\u5dcd\u200b\u6b4c\u66f2\u200b\u300a\u200b\u7a7a\u8c37\u5e7d\u5170\u200b\u300b\uff0c\u200b\u59cb\u4e8e\u200b20190417\uff0c\u200b\u91cd\u5efa\u200b\u4e8e\u200b20231201\uff0c\u200b\u6b64\u200b\u7ad9\u70b9\u200b\u4e3a\u200b\u4e2a\u4eba\u200b\u77e5\u8bc6\u5e93\u200b\uff0c\u200b\u7ecf\u5386\u200b\u4e86\u200b\u51e0\u6b21\u200b\u66f4\u8fed\u200b\uff0c\u200b\u5e76\u200b\u51b3\u5fc3\u200b\u4ece\u200b\u91cd\u5efa\u200b\u4e4b\u200b\u65e5\u200b\u5f00\u59cb\u200b\uff0c\u200b\u575a\u6301\u200b\u957f\u671f\u200b\u4e3b\u4e49\u200b\uff0c\u200b\u8ba4\u771f\u200b\u8bb0\u5f55\u200b\uff0c\u200b\u601d\u8003\u200b\u603b\u7ed3\u200b\u3002\u200b\u4e0d\u200b\u4e3a\u200b\u522b\u7684\u200b\uff0c\u200b\u53ea\u4e3a\u200b\u5728\u200b\u8fd9\u200b\u6f2b\u957f\u200b\u800c\u200b\u53c8\u200b\u77ed\u6682\u200b\u7684\u200b\u4e00\u751f\u200b\u4e2d\u200b\uff0c\u200b\u7559\u200b\u4e00\u4e1d\u200b\u6d45\u6d45\u7684\u200b\u8bb0\u5fc6\u200b...\uff08\u200b\u5982\u679c\u200b\u9519\u8bef\u200b\uff0c\u200b\u6b22\u8fce\u200b\u6307\u6b63\u200b\uff01\uff09</p> <p>About Me</p> <ul> <li> Hey, I'm AstonWang! \u200b\u4e00\u4e2a\u200b\u5496\u5561\u200b\u91cd\u5ea6\u200b\u7231\u597d\u8005\u200b...</li> <li> \u200b\u76ee\u524d\u200b\u4e3b\u8981\u200b\u4ece\u4e8b\u200b\u540e\u200b\u7aef\u200b+\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u5de5\u7a0b\u5316\u200b\u65b9\u5411\u200b\u7684\u200b\u5de5\u4f5c\u200b...</li> </ul> <p>About Skill</p> <ul> <li> \u200b\u6301\u7eed\u200b\u7cbe\u8fdb\u200b\u670d\u52a1\u7aef\u200b\u5f00\u53d1\u200b\u6280\u80fd\u200b\uff0c\u200b\u81f4\u529b\u4e8e\u200b\u53d1\u5c55\u200b\u6210\u4e3a\u200b\u4e00\u540d\u200b\u5168\u200b\u6cbe\u200b\u7684\u200b\u827a\u4eba\u200b...  </li> <li> \u200b\u6301\u7eed\u200b\u5173\u6ce8\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b+\u200b\u4e91\u200b\u539f\u751f\u200b\u9886\u57df\u200b\u7684\u200b\u6280\u672f\u200b...  </li> </ul> <p>About \u200b\u4e00\u200b\u8a00\u200b</p> <ul> <li> \u200b\u6211\u200b\u8ba4\u6e05\u200b\u65f6\u95f4\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u53ea\u200b\u5269\u4e0b\u200b\u4e00\u5bf8\u200b\u5149\u9634\u200b\uff0c\u200b\u8fd9\u200b\u662f\u200b\u6211\u200b\u7684\u200b\u4e2a\u4eba\u4e3b\u9875\u200b\uff0c\u200b\u5230\u5904\u200b\u662f\u200b\u5c81\u6708\u200b\u75d5\u8ff9\u200b...</li> <li> \u200b\u5f88\u591a\u200b\u65f6\u5019\u200b\u6280\u672f\u200b\u4eba\u200b\u89c9\u5f97\u200b\u5b9e\u73b0\u200b\u529f\u80fd\u200b\u91cd\u8981\u200b\uff0c\u200b\u4e8b\u5b9e\u4e0a\u200b\u53ef\u200b\u6301\u7eed\u200b\u7ef4\u62a4\u200b\u624d\u200b\u662f\u200b\u6700\u200b\u91cd\u8981\u200b\u7684\u200b... </li> </ul> <p>Send Email </p>"},{"location":"blogs/solutionhub/bughub/conda_rename_env_bug/","title":"Conda\u200b\u4fee\u6539\u200b\u865a\u62df\u73af\u5883\u200b\u540d\u200b\u5bfc\u81f4\u200b\u5f02\u5e38","text":"","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/conda_rename_env_bug/#_1","title":"\u4e8b\u51fa\u6709\u56e0","text":"<p>\u200b\u7531\u4e8e\u200b\u4e0d\u540c\u200b\u7684\u200b\u5f00\u53d1\u4eba\u5458\u200b\u5bf9\u200bconda\u200b\u73af\u5883\u200b\u540d\u200b\u7684\u200b\u7684\u200b\u547d\u540d\u200b\u98ce\u683c\u200b\u4e0d\u200b\u7edf\u4e00\u200b\uff0c\u200b\u5728\u200b\u4ea4\u4ed8\u200b\u90e8\u7f72\u200b\u65f6\u200b\uff0c\u200b\u4e3a\u4e86\u200b\u98ce\u683c\u200b\u7edf\u4e00\u200b\uff0c\u200b\u4fbf\u4e8e\u7ba1\u7406\u200b\uff0c\u200b\u4e8e\u662f\u200b\u5c31\u200b\u5bf9\u200b\u5176\u4ed6\u200b\u670d\u52a1\u200b\u7684\u200b\u73af\u5883\u200b\u540d\u200b\u8fdb\u884c\u200b\u7684\u200bmv\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5bfc\u81f4\u200b\u73af\u5883\u200b\u5305\u627e\u200b\u4e0d\u5230\u200b</p>","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/conda_rename_env_bug/#bug","title":"Bug\u200b\u73b0\u573a","text":"<pre><code>(project-service-py38env) [root@2-120 project-service]# bash run_server.sh\nrun_server.sh: /data/bluewhale/software/anaconda3/envs/project-service-py38env/bin/gunicorn: /data/bluewhale/software/anaconda3/envs/pms_py38env/bin/python: \u200b\u574f\u200b\u7684\u200b\u89e3\u91ca\u5668\u200b: \u200b\u6ca1\u6709\u200b\u90a3\u4e2a\u200b\u6587\u4ef6\u200b\u6216\u200b\u76ee\u5f55\u200b\n</code></pre> <pre><code># run_server.sh\u200b\u7684\u200b\u5185\u5bb9\u200b\nhead run_server.sh\n\n#!/bin/bash\ngunicorn main:app -b 0.0.0.0:30010 -w 4 -k uvicorn.workers.UvicornH11Worker --daemon\n</code></pre>","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/conda_rename_env_bug/#_2","title":"\u8fce\u5203\u800c\u89e3","text":"<p>\u200b\u6839\u56e0\u200b\u5206\u6790\u200b\uff1a</p> <ol> <li>\u200b\u6267\u884c\u200bgunicorn\u200b\u547d\u4ee4\u200b\u65f6\u200b\uff0c\u200b\u4e3a\u4ec0\u4e48\u200b\u8fd8\u4f1a\u200b\u4f7f\u7528\u200b\u539f\u6765\u200b\u73af\u5883\u200b\u540d\u200b\u7684\u200bpython\u200b\u89e3\u91ca\u5668\u200b\uff1f</li> <li>\u200b\u4e8e\u662f\u200b\u627e\u5230\u200bgunicorn\u200b\u7684\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\u8def\u5f84\u200b\uff0c\u200b\u6253\u5f00\u200b\u770b\u200b\u4e00\u4e0b\u200b\u662f\u4e0d\u662f\u200b\u54ea\u91cc\u200b\u5bf9\u200bpython\u200b\u89e3\u91ca\u5668\u200b\u7684\u200b\u8def\u5f84\u200b\u8fdb\u884c\u200b\u7684\u200b\u786c\u200b\u7f16\u7801\u200b\uff0c\u200b\u4e8e\u662f\u200b\u6253\u5f00\u200bgunicorn\u200b\u6587\u4ef6\u200b,\u200b\u67e5\u770b\u200b</li> </ol> <pre><code>#!/data/bluewhale/software/anaconda3/envs/pms_py38env/bin/python\n# -*- coding: utf-8 -*-\nimport re\nimport sys\nfrom gunicorn.app.wsgiapp import run\nif __name__ == '__main__':\n    sys.argv[0] = re.sub(r'(-script\\.pyw|\\.exe)?$', '', sys.argv[0])\n    sys.exit(run())\n~\n</code></pre> <ol> <li>\u200b\u679c\u7136\u200b\u7b2c\u4e00\u884c\u200b\u8fdb\u884c\u200b\u7684\u200bpython\u200b\u89e3\u91ca\u5668\u200b\u8def\u5f84\u200b\u7684\u200b\u914d\u7f6e\u200b</li> <li>\u200b\u7ecf\u8fc7\u200b\u67e5\u9605\u200b\uff0c\u200b\u53d1\u73b0\u200bconda\u200b\u6ca1\u6709\u200b\u63d0\u4f9b\u200b\u8fd9\u79cd\u200b\u4fee\u6539\u200b\u6587\u4ef6\u540d\u200b\u5bf9\u200b\u73af\u5883\u200b\u540d\u200b\u8fdb\u884c\u200b\u4fee\u6539\u200b\u7684\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u73af\u5883\u200b\u91cc\u200b\u6709\u200b\u5f88\u591a\u200b\u7684\u200b\u811a\u672c\u200b\u6587\u4ef6\u200b\u90fd\u200b\u914d\u7f6e\u200b\u4e86\u200b\u518d\u200b\u6700\u521d\u200b\u521b\u5efa\u200b\u73af\u5883\u200b\u540d\u65f6\u200b\u8bbe\u7f6e\u200b\u7684\u200bpython\u200b\u89e3\u91ca\u5668\u200b\u8def\u5f84\u200b\uff0c\u200b\u4e8e\u662f\u4e4e\u200b\u60f3\u5230\u200b\u4e86\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u547d\u4ee4\u200b\uff0c--clone</li> <li>\u200b\u5f00\u59cb\u200b\u5c1d\u8bd5\u200b,\u200b\u628a\u200b\u4e4b\u524d\u200b\u901a\u8fc7\u200bmv\u200b\u547d\u4ee4\u200b\u91cd\u547d\u540d\u200b\u7684\u200b\u6587\u4ef6\u540d\u200b\u4fee\u6539\u200b\u4e3a\u200b\u539f\u6765\u200b\u7684\u200b\u540d\u5b57\u200b\uff0c\u200b\u7136\u540e\u200b\u5728\u200b\u4f7f\u7528\u200bclone\u200b\u547d\u4ee4\u200b</li> </ol> <pre><code>(pms_py38env) [root@2-120 project-service]# conda create -n project-service-py38env --clone pms_py38env\nSource:      /data/bluewhale/software/anaconda3/envs/pms_py38env\nDestination: /data/bluewhale/software/anaconda3/envs/project-service-py38env\nPackages: 20\nFiles: 3367\nPreparing transaction: done\nVerifying transaction: done\nExecuting transaction: done\n#\n# To activate this environment, use\n#\n#     $ conda activate project-service-py38env\n#\n# To deactivate an active environment, use\n#\n#     $ conda deactivate\n</code></pre> <ol> <li>\u200b\u6fc0\u6d3b\u200b\u73af\u5883\u200b\uff0c\u200b\u91cd\u65b0\u200b\u8fd0\u884c\u200b\uff0c\u200b\u53d1\u73b0\u200b\u95ee\u9898\u200b\u89e3\u51b3\u200b\uff0c\u200b\u518d\u6b21\u200b\u6253\u5f00\u200bgunicorn\u200b\u811a\u672c\u200b\u6587\u4ef6\u200b\u67e5\u770b\u200b\uff0c\u200b\u7ed3\u679c\u200b\u9a8c\u8bc1\u200b\u4e86\u200b\u7b2c\u4e8c\u6b65\u200b\u7684\u200b\u731c\u60f3\u200b\u3002</li> </ol> <p>\u200b\u603b\u7ed3\u200b\uff1a</p> <ol> <li>conda\u200b\u73af\u5883\u200b\u7684\u200b\u91cd\u547d\u540d\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u9700\u8981\u200b\u4f7f\u7528\u200bconda create -n  --clone  <li>\u200b\u975e\u5fc5\u8981\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u4e0d\u8981\u200b\u8f7b\u6613\u200b\u4fee\u6539\u200b\u73af\u5883\u200b\u540d\u200b\uff0c\u200b\u4e14\u200b\u4e0d\u8981\u200b\u60f3\u5f53\u7136\u200b\u7684\u200b\u8ba4\u4e3a\u200b\u4fee\u6539\u200b\u73af\u5883\u200b\u540d\u200b\u5c31\u662f\u200b\u91cd\u547d\u540d\u200b\u64cd\u4f5c\u200b\u3002</li> <p>2022\u200b\u5e74\u200b07\u200b\u6708\u200b08\u200b\u65e5\u200b13:04:56</p>","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/jupyter_asyncio_run_bug/","title":"Jupyter\u200b\u8fd0\u884c\u200basyncio run\u200b\u62a5\u9519","text":"","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/jupyter_asyncio_run_bug/#_1","title":"\u4e8b\u51fa\u6709\u56e0","text":"<ul> <li>\u200b\u5728\u200bjupyter\u200b\u4e2d\u200b\u8fd0\u884c\u200b\u4e0b\u200b\u4e86\u200b\u4ee3\u7801\u200b <pre><code>import asyncio\n\nasync def fake_page(url):\n    print(f\"faking:{url}\")\n    sleep_time = int(url.split('_')[-1])\n    await asyncio.sleep(sleep_time)\n    print(f\"OK\uff1a{url}\")\n\nasync def main(urls):\n    for url in urls:\n        await fake_page(url)\n\n\n%time asyncio.run(main(['url1', 'url2', 'url3', 'url4']))  # %time\u200b\u662f\u200bjupyter\u200b\u7684\u200b\u8bed\u6cd5\u200b\n</code></pre></li> </ul>","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/jupyter_asyncio_run_bug/#bug","title":"Bug\u200b\u73b0\u573a","text":"<pre><code>RuntimeError: asyncio.run() cannot be called from a running event loop\n</code></pre>","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/jupyter_asyncio_run_bug/#_2","title":"\u8fce\u5203\u800c\u89e3","text":"","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/jupyter_asyncio_run_bug/#_3","title":"\u6839\u56e0\u200b\u5206\u6790\u200b\uff1a","text":"<p>\u200b\u53c2\u8003\u200b\u4e86\u200b\u4e0b\u5217\u200b\u94fe\u63a5\u200b\u7684\u200b\u5185\u5bb9\u200b\uff1a - https://stackoverflow.com/questions/55409641/asyncio-run-cannot-be-called-from-a-running-event-loop - https://github.com/jupyter/notebook/issues/3397</p> <ul> <li>\u200b\u521d\u6b65\u200b\u7ed3\u8bba\u200b\u662f\u200bjupyter\u200b\u4f9d\u8d56\u200btornado\uff0c\u200b\u9ed8\u8ba4\u200b\u542f\u52a8\u200b\u4e86\u200bevent loop</li> </ul>","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/jupyter_asyncio_run_bug/#_4","title":"\u5b9e\u8df5\u200b\u6c42\u8bc1\u200b\uff1a","text":"<ul> <li> <p>\u200b\u5728\u200bjupyter\u200b\u4e2d\u200b\u8f93\u5165\u200b <pre><code>import asyncio\n\nasyncio.get_event_loop()\n\n# &gt;&gt;&gt;\n&lt;_UnixSelectorEventLoop running=True closed=False debug=False&gt;\n</code></pre></p> </li> <li> <p>\u200b\u5728\u200bterminal\u200b\u4e2d\u200b\u8f93\u5165\u200bipython\uff0c\u200b\u7136\u540e\u200b\u5728\u200b\u8f93\u5165\u200b\u4e0b\u5217\u200b\u5185\u5bb9\u200b <pre><code>In [1]: import asyncio\n\nIn [2]: asyncio.get_event_loop()\nOut[2]: &lt;_UnixSelectorEventLoop running=False closed=False debug=False&gt;\n</code></pre></p> </li> </ul> <p>\u200b\u7ed3\u8bba\u200b\uff1a\u200b\u786e\u5b9e\u200bjupyter\u200b\u9ed8\u8ba4\u200b\u542f\u52a8\u200b\u4e86\u200bevent loop</p>","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/jupyter_asyncio_run_bug/#_5","title":"\u89e3\u51b3\u200b\u65b9\u5f0f","text":"<ul> <li> <p>\u200b\u5728\u200bjupyter\u200b\u4e2d\u200b\u5728\u200b\u8f93\u5165\u200b\u5e76\u200b\u8fd0\u884c\u200b\u4e0b\u5217\u200b\u5185\u5bb9\u200b <pre><code>!pip install nest_asyncio  # \u200b\u5b89\u88c5\u200b\n\nimport nest_asyncio  \nnest_asyncio.apply()\n</code></pre></p> </li> <li> <p>\u200b\u518d\u200b\u8fd0\u884c\u200b\u5f00\u5934\u200b\u90a3\u6bb5\u200b\u7a0b\u5e8f\u200b\uff0c\u200b\u62a5\u9519\u200b\u89e3\u51b3\u200b</p> </li> </ul>","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/jupyter_matplotlib_font_bug/","title":"Jupyter matplotlib\u200b\u753b\u56fe\u200b\u4e2d\u6587\u5b57\u4f53\u200b\u7f3a\u5931","text":"<p>\u200b\u7cfb\u7edf\u200b\uff1aMacOS 2022\u200b\u5e74\u200b09\u200b\u6708\u200b26\u200b\u65e5\u200b22:48:08</p>","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/jupyter_matplotlib_font_bug/#_1","title":"\u4e8b\u51fa\u6709\u56e0","text":"<ul> <li>\u200b\u5728\u200bjupyterlab\u200b\u4e2d\u200b\u4f7f\u7528\u200bmatplotlib\u200b\u753b\u56fe\u200b\uff0c\u200b\u56fe\u200b\u7684\u200b\u5750\u6807\u8f74\u200b\u4e2d\u6587\u5b57\u4f53\u200b\u4e0d\u200b\u663e\u793a\u200b\uff0c\u200b\u4e14\u200bjupyter cell \u200b\u629b\u51fa\u200b \u200b\u7f3a\u5931\u200b\u5f53\u524d\u200b\u5b57\u4f53\u200b</li> </ul>","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/jupyter_matplotlib_font_bug/#bug","title":"Bug\u200b\u73b0\u573a","text":"","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/jupyter_matplotlib_font_bug/#_2","title":"\u8fce\u5203\u800c\u89e3","text":"","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/jupyter_matplotlib_font_bug/#_3","title":"\u6839\u56e0\u200b\u5206\u6790","text":"<ul> <li>\u200b\u6839\u636e\u200b\u9519\u8bef\u200b\u5806\u6808\u200b\u4fe1\u606f\u200b\u53ef\u200b\u770b\u51fa\u200b\uff0cmatplotlib\u200b\u9ed8\u8ba4\u200b\u4e0d\u200b\u81ea\u5e26\u200b\u4e2d\u6587\u5b57\u4f53\u200b\uff0c</li> <li>\u200b\u9700\u8981\u200b\u5148\u200b\u4e0b\u8f7d\u200b\u4e2d\u6587\u5b57\u4f53\u200b\uff0c\u200b\u653e\u5230\u200b\u5bf9\u5e94\u200b\u73af\u5883\u200b\u5305\u200b\u7684\u200b\u8def\u5f84\u200b\u4e0b\u200b</li> </ul>","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/jupyter_matplotlib_font_bug/#_4","title":"\u5b9e\u8df5\u200b\u6c42\u8bc1","text":"<ul> <li> <p>\u200b\u5728\u200b\u865a\u62df\u73af\u5883\u200b\u4e2d\u200b\u8fdb\u5165\u200bmatplotlib\u200b\u5305\u200b\u4e0b\u200b\u67e5\u770b\u200b <pre><code>(jupyter_py38env) \u279c  fonts cd ttf\n(jupyter_py38env) \u279c  ttf pwd\n/usr/local/Caskroom/miniforge/base/envs/jupyter_py38env/lib/python3.8/site-packages/matplotlib/mpl-data/fonts/ttf\n(jupyter_py38env) \u279c  ttf ls\nDejaVuSans-Bold.ttf            LICENSE_DEJAVU                 STIXSizOneSymReg.ttf\nDejaVuSans-BoldOblique.ttf     LICENSE_STIX                   STIXSizThreeSymBol.ttf\nDejaVuSans-Oblique.ttf         STIXGeneral.ttf                STIXSizThreeSymReg.ttf\nDejaVuSans.ttf                 STIXGeneralBol.ttf             STIXSizTwoSymBol.ttf\nDejaVuSansDisplay.ttf          STIXGeneralBolIta.ttf          STIXSizTwoSymReg.ttf\nDejaVuSansMono-Bold.ttf        STIXGeneralItalic.ttf          cmb10.ttf\nDejaVuSansMono-BoldOblique.ttf STIXNonUni.ttf                 cmex10.ttf\nDejaVuSansMono-Oblique.ttf     STIXNonUniBol.ttf              cmmi10.ttf\nDejaVuSansMono.ttf             STIXNonUniBolIta.ttf           cmr10.ttf\nDejaVuSerif-Bold.ttf           STIXNonUniIta.ttf              cmss10.ttf\nDejaVuSerif-BoldItalic.ttf     STIXSizFiveSymReg.ttf          cmsy10.ttf\nDejaVuSerif-Italic.ttf         STIXSizFourSymBol.ttf          cmtt10.ttf\nDejaVuSerif.ttf                STIXSizFourSymReg.ttf\nDejaVuSerifDisplay.ttf         STIXSizOneSymBol.ttf\n(jupyter_py38env) \u279c  ttf\n</code></pre></p> </li> <li> <p>\u200b\u786e\u5b9e\u200b\u6ca1\u6709\u200b\u627e\u5230\u200b\u4e2d\u6587\u5b57\u4f53\u200b</p> </li> </ul>","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/jupyter_matplotlib_font_bug/#_5","title":"\u89e3\u51b3\u200b\u65b9\u5f0f","text":"<ol> <li> <p>\u200b\u627e\u5230\u200bMac\u200b\u4e2d\u200bPython\u200b\u4f7f\u7528\u200b\u7684\u200b\u5b57\u4f53\u5e93\u200b\u7684\u200b\u4f4d\u7f6e\u200b <pre><code>In [1]: import matplotlib\n\n# \u200b\u67e5\u627e\u200b\u5b57\u4f53\u200b\u8def\u5f84\u200b\nIn [2]: print(matplotlib.matplotlib_fname())\n/usr/local/Caskroom/miniforge/base/envs/jupyter_py38env/lib/python3.8/site-packages/matplotlib/mpl-data/matplotlibrc\n\n# \u200b\u67e5\u770b\u200b\u5b57\u4f53\u200b\u7f13\u5b58\u200b\u8def\u5f84\u200b\nIn [3]: print(matplotlib.get_cachedir())\n/Users/roninsswang/.matplotlib\n</code></pre></p> </li> <li> <p>\u200b\u4e0b\u8f7d\u200b\u5b57\u4f53\u200b</p> </li> <li>\u200b\u5e38\u89c1\u200b\u4e2d\u82f1\u6587\u200b\u5b57\u4f53\u200b\u5bf9\u7167\u200b\u540d\u79f0\u200b</li> </ol> <p></p> <ul> <li>\u200b\u4e0b\u8f7d\u200b\u9700\u8981\u200b\u7684\u200b\u5b57\u4f53\u200b\uff0c\u200b\u6b64\u5904\u200b\u4e0b\u8f7d\u200bSimHei</li> <li>\u200b\u4e0b\u8f7d\u200b\u94fe\u63a5\u200b\uff1ahttp://d.xiazaiziti.com/en_fonts/fonts/s/SimHei.ttf</li> <li> <p>\u200b\u5c06\u200b\u4e0b\u8f7d\u200b\u7684\u200b\u5b57\u4f53\u200b\u79fb\u52a8\u200b\u5230\u200bmatplotlib\u200b\u7684\u200b\u5b57\u4f53\u5e93\u200b\u7684\u200b\u4f4d\u7f6e\u200b <pre><code>(jupyter_py38env) \u279c  ttf pwd\n/usr/local/Caskroom/miniforge/base/envs/jupyter_py38env/lib/python3.8/site-packages/matplotlib/mpl-data/fonts/ttf\n(jupyter_py38env) \u279c  ttf ls\nDejaVuSans-Bold.ttf            LICENSE_DEJAVU                 STIXSizOneSymReg.ttf\nDejaVuSans-BoldOblique.ttf     LICENSE_STIX                   STIXSizThreeSymBol.ttf\nDejaVuSans-Oblique.ttf         STIXGeneral.ttf                STIXSizThreeSymReg.ttf\nDejaVuSans.ttf                 STIXGeneralBol.ttf             STIXSizTwoSymBol.ttf\nDejaVuSansDisplay.ttf          STIXGeneralBolIta.ttf          STIXSizTwoSymReg.ttf\nDejaVuSansMono-Bold.ttf        STIXGeneralItalic.ttf          SimHei.ttf\nDejaVuSansMono-BoldOblique.ttf STIXNonUni.ttf                 cmb10.ttf\nDejaVuSansMono-Oblique.ttf     STIXNonUniBol.ttf              cmex10.ttf\nDejaVuSansMono.ttf             STIXNonUniBolIta.ttf           cmmi10.ttf\nDejaVuSerif-Bold.ttf           STIXNonUniIta.ttf              cmr10.ttf\nDejaVuSerif-BoldItalic.ttf     STIXSizFiveSymReg.ttf          cmss10.ttf\nDejaVuSerif-Italic.ttf         STIXSizFourSymBol.ttf          cmsy10.ttf\nDejaVuSerif.ttf                STIXSizFourSymReg.ttf          cmtt10.ttf\nDejaVuSerifDisplay.ttf         STIXSizOneSymBol.ttf\n(jupyter_py38env) \u279c  ttf\n</code></pre></p> </li> <li> <p>\u200b\u4fee\u6539\u200b\u914d\u7f6e\u6587\u4ef6\u200bmatplotlibrc</p> </li> <li> <p>\u200b\u8fdb\u5165\u200b\u4e0b\u5217\u200b\u8def\u5f84\u200b\u4e0b\u200b\uff1a <pre><code>(jupyter_py38env) \u279c  mpl-data pwd\n/usr/local/Caskroom/miniforge/base/envs/jupyter_py38env/lib/python3.8/site-packages/matplotlib/mpl-data\n</code></pre></p> </li> <li> <p>\u200b\u7f16\u8f91\u200b\u3001\u200b\u4fdd\u5b58\u200b\u9000\u51fa\u200b</p> </li> </ul> <p></p> <ol> <li> <p>\u200b\u6e05\u9664\u200b\u7f13\u5b58\u200b <pre><code>rm -rf /Users/roninsswang/.matplotlib\n</code></pre></p> </li> <li> <p>\u200b\u91cd\u542f\u200bjupyterlab \uff0c\u200b\u518d\u6b64\u200b\u8fd0\u884c\u200b\uff0cBug\u200b\u89e3\u9664\u200b\u3002</p> </li> </ol>","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/jupyterhub_deploy_bug/","title":"Jupyterhub\u200b\u79bb\u7ebf\u200b\u90e8\u7f72\u200b\u8e29\u200b\u5751\u200b\u603b\u7ed3","text":"","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/jupyterhub_deploy_bug/#_1","title":"\u4e8b\u51fa\u6709\u56e0","text":"<p>\u200b\u5ba2\u6237\u200b\u5185\u200b\u7f51\u200b\u670d\u52a1\u5668\u200b\u90e8\u7f72\u200b\uff0c\u200b\u53ea\u6709\u200b\u7279\u5b9a\u200b\u7aef\u53e3\u200b8888\uff0c\u200b\u53ea\u6709\u200b\u7279\u5b9a\u200bpip\u200b\u5b89\u88c5\u200b\u6e90\u200b</p>","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/jupyterhub_deploy_bug/#_2","title":"\u8fce\u5203\u800c\u89e3\u200b\uff1a","text":"<ol> <li>\u200b\u5b89\u88c5\u200bpython</li> <li>\u200b\u521b\u5efa\u200b\u865a\u62df\u73af\u5883\u200bvirtualenv,\u200b\u6700\u597d\u200b\u5c06\u200b\u5b89\u88c5\u200bvirtualenv\u200b\u7684\u200b\u6587\u4ef6\u5939\u200b\u7684\u200b\u6743\u9650\u200b\u8c03\u6574\u200b711\u200b\u4ee5\u4e0a\u200b\uff0c\u200b\u5426\u5219\u200b\u591a\u7528\u6237\u200b\u4f1a\u200b\u7528\u200b\u6743\u9650\u200b\u95ee\u9898\u200b\uff08\u200b\u6b64\u5904\u200b\u8e29\u200b\u5751\u200b\u8f83\u957f\u200b\uff0c\u200b\u9664\u4e86\u200b\u91cd\u65b0\u90e8\u7f72\u200b\u4ee5\u5916\u200b\uff0c\u200b\u4fee\u6539\u200b\u6587\u4ef6\u5939\u200b\u7684\u200b\u5bf9\u5e94\u200b\u53ef\u200b\u6267\u884c\u200b\u6743\u9650\u200b\u5e94\u8be5\u200b\u662f\u200b\u5de5\u4f5c\u91cf\u200b\u6700\u5c0f\u200b\u7684\u200b\u505a\u6cd5\u200b\u3002\uff09</li> <li>\u200b\u6fc0\u6d3b\u200b\u865a\u62df\u73af\u5883\u200b\uff0csource /\u200b\u6216\u200b\u4f7f\u7528\u200bworkon</li> <li>\u200b\u5b89\u88c5\u200bpip\u200b\u4f9d\u8d56\u200b\u5305\u200b</li> <li>\u200b\u4e0b\u8f7d\u200bnode\u200b\u6e90\u7801\u200b\uff0c\u200b\u8fdb\u884c\u200b\u79bb\u7ebf\u200b\u5b89\u88c5\u200b</li> <li>\u200b\u4e0b\u8f7d\u200bconfigurable-http-proxy\uff0c\u200b\u6700\u4f73\u200b\u5b9e\u8df5\u200b\u662f\u200b\uff1a\u200b\u5728\u200b\u6709\u200b\u7f51\u200b\u7684\u200b\u73af\u5883\u200b\u4e2d\u200b\uff0c\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200b\u7a7a\u76ee\u5f55\u200b\uff0c\u200b\u5728\u200b\u6b64\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u6267\u884c\u200b\uff1anpm install configurable-http-proxy ,\u200b\u5b89\u88c5\u200b\u5b8c\u6210\u200b\u4ee5\u540e\u200b\uff0c\u200b\u5c06\u200b\u8be5\u200b\u6587\u4ef6\u5939\u200b\u7684\u200bnode_modules\u200b\u7684\u200b\u5185\u5bb9\u200b\u5168\u90e8\u200b\u79fb\u52a8\u200b\u670d\u52a1\u200b\u4e2d\u200b\u7684\u200bnode/lib/node_module\u200b\u4e0b\u200b\uff0c\u200b\u5373\u53ef\u200b\uff0c\u200b\u6b64\u5904\u200b\u8e29\u200b\u5751\u200b\u5b9e\u8df5\u200b\u8f83\u957f\u200b</li> <li>\u200b\u751f\u6210\u200b\u914d\u7f6e\u200b\u5e76\u200b\u4fee\u6539\u200b\u914d\u7f6e\u200b</li> </ol> <pre><code>c.JupyterHub.base_url = '/jupyterhub'\nc.JupyterHub.ip = \"10.19.10.2\"\nc.Spawner.default_url = '/lab'\nc.PAMAuthenticator.open_sessions = False\nc.LocalAuthenticator.create_system_users = True\nc.Authenticator.admin_users = {'zhongtai'}  # #\u200b\u7ba1\u7406\u5458\u200b\u7528\u6237\u200b\nc.JupyterHub.admin_access = True\nc.JupyterHub.port = 8888\nc.Spawner.cmd = ['jupyterhub-singleuser']\n\nc.PAMAuthenticator.encoding = 'utf8'\nc.Authenticator.whitelist = {'hcjupyter','zhongtai'}  # \u200b\u767d\u540d\u5355\u200b\nc.JupyterHub.statsd_prefix = 'jupyterhub'\n#c.LocalProcessSpawner.shell_cmd = [\"bash\", \"-l\", \"-c\"]\nc.JupyterHub.proxy_cmd = ['/usr/local/node/bin/configurable-http-proxy',]\nc.Authenticator.delete_invalid_users = True\n\n\n/opt/nodejs/bin/configurable-http-proxy\n</code></pre> <ol> <li>\u200b\u542f\u52a8\u200b\u547d\u4ee4\u200b</li> </ol> <pre><code># \u200b\u5728\u200b\u865a\u62df\u73af\u5883\u200b\u4e2d\u200b\u6267\u884c\u200b\n# \u200b\u524d\u53f0\u200b\u542f\u52a8\u200b\njupyterhub -f /etc/jupyterhub/config.py\n\n# \u200b\u540e\u53f0\u200b\u542f\u52a8\u200b\nnohup jupyterhub -f /etc/jupyterhub/config.py --no-ssl &amp; \n</code></pre>","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/rsa_encryption_bug/","title":"\u591a\u200b\u8bed\u8a00\u200b\u4e4b\u95f4\u200b\u7684\u200bRSA\u200b\u52a0\u89e3\u5bc6\u200b\u95ee\u9898","text":"","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/rsa_encryption_bug/#_1","title":"\u4e8b\u51fa\u6709\u56e0","text":"<p>\u200b\u5728\u200b\u5b8c\u6210\u200b\u521b\u5efa\u200b\u6570\u636e\u6e90\u200b\u7684\u200b\u9700\u6c42\u200b\u65f6\u200b\uff0c\u200b\u9700\u8981\u200b\u5bf9\u200b\u6570\u636e\u6e90\u200b\u7684\u200b\u7528\u6237\u200b\u5bc6\u7801\u200b\u7b49\u200b\u76f8\u5173\u200b\u654f\u611f\u200b\u4fe1\u606f\u200b\u8fdb\u884c\u200b\u52a0\u5bc6\u200b\u4f20\u9012\u200b\uff0cVue\u200b\u524d\u7aef\u200b\u52a0\u5bc6\u200b\uff0cJava\u200b\u540e\u7aef\u200b\u548c\u200bPython\u200b\u540e\u200b\u7aef\u200b\u89e3\u5bc6\u200b\u3002\u200b\u7ecf\u8fc7\u200b\u65b9\u6848\u200b\u8c03\u7814\u200b\u540e\u200b\uff0c\u200b\u6700\u7ec8\u200b\u786e\u5b9a\u200b\u91c7\u7528\u200bRSA\u200b\u52a0\u89e3\u5bc6\u200b\u7684\u200b\u65b9\u6848\u200b\u3002  </p>","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/rsa_encryption_bug/#bug","title":"Bug\u200b\u73b0\u573a","text":"<p>\u200b\u7531\u200bJava\u200b\u540e\u200b\u7aef\u200b\u901a\u8fc7\u200b\u5de5\u5177\u200b\u751f\u6210\u200b\u516c\u79c1\u200b\u94a5\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u516c\u94a5\u200b\u7ed9\u200b\u5230\u200b\u524d\u7aef\u200b\uff0c\u200b\u524d\u7aef\u200b\u5728\u200b\u521b\u5efa\u200b\u6570\u636e\u6e90\u200b\u5229\u7528\u200b\u516c\u94a5\u200b\u5bf9\u200b\u7528\u6237\u200b\u8f93\u5165\u200b\u7684\u200b\u654f\u611f\u200b\u4fe1\u606f\u200b\u8fdb\u884c\u200b\u52a0\u5bc6\u200b\uff0cJava\u200b\u670d\u52a1\u200b\u63a5\u6536\u200b\u8bf7\u6c42\u200b\u8fdb\u884c\u200b\u6821\u9a8c\u200b\uff0c\u200b\u5e76\u200b\u4fdd\u5b58\u200b\u3002Python\u200b\u670d\u52a1\u200b\u9700\u8981\u200b\u5728\u200b\u4f7f\u7528\u200b\u6570\u636e\u6e90\u200b\u65f6\u200b\u8fdb\u884c\u200b\u654f\u611f\u200b\u4fe1\u606f\u200b\u89e3\u5bc6\u200b\uff0c\u200b\u6b64\u65f6\u200b\u9047\u5230\u200b\u7684\u200b\u95ee\u9898\u200b\u662f\u200b\uff0c\u200b\u7ecf\u200bjava\u200b\u670d\u52a1\u200b\u89e3\u5bc6\u200b\u6821\u9a8c\u200b\u901a\u8fc7\u200b\uff0c\u200b\u800c\u200bPython\u200b\u5219\u200b\u65e0\u6cd5\u200b\u8fdb\u884c\u200b\u89e3\u5bc6\u200b\u3002</p>","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/rsa_encryption_bug/#_2","title":"\u8fce\u5203\u800c\u89e3","text":"<p>\u200b\u6839\u56e0\u200b\u5206\u6790\u200b\uff1a</p> <p>\u200b\u7ecf\u8fc7\u200b\u5bf9\u200bJava\u200b\u670d\u52a1\u200b\u548c\u200bPython\u200b\u670d\u52a1\u200b\u7684\u200b\u52a0\u200bj\u200b\u89e3\u5bc6\u200b\u5b9e\u73b0\u200b\u8fdb\u884c\u200b\u6df1\u5165\u7814\u7a76\u200b\uff0c\u200b\u53d1\u73b0\u200bJava\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u7684\u200bPKCS8,\u200b\u800c\u200bPython\u200b\u4e2d\u200b\u53ea\u6709\u200bPKCS1\uff0c\u200b\u56e0\u4e3a\u200b\u6b64\u200b\u534f\u8bae\u200b\u4e0d\u200b\u5339\u914d\u200b\uff0c\u200b\u5bfc\u81f4\u200b\u65e0\u6cd5\u200b\u89e3\u5bc6\u200b\u3002</p> <p>PKCS #1\u200b\u4e3a\u200bOpenSSH\u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b\u7684\u200b\u52a0\u5bc6\u200b\u6807\u51c6\u200b [^2]:PKCS #8\u200b\u4e3a\u200bJava\u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b\u7684\u200b\u52a0\u5bc6\u200b\u6807\u51c6\u200b</p> <p>\u200b\u65b9\u6848\u200b1\u200b\u5c1d\u8bd5\u200b\uff1a\u200b\u8bd5\u56fe\u200b\u5728\u200bpython\u200b\u7684\u200b\u5de5\u5177\u5305\u200b\u4e2d\u200b\u627e\u5230\u200b\u5173\u4e8e\u200bPKCS8\u200b\u7684\u200b\u5b9e\u73b0\u200b\uff0c\u200b\u672a\u679c\u200b\u3002</p> <p>\u200b\u65b9\u6848\u200b2\u200b\u5c1d\u8bd5\u200b\uff1a\u200b\u8bd5\u56fe\u200b\u5728\u200bJava\u200b\u7684\u200b\u5de5\u5177\u5305\u200b\u4e2d\u200b\u627e\u5230\u200b\u5173\u4e8e\u200bPKCS1\u200b\u7684\u200b\u5b9e\u73b0\u200b\uff0c\u200b\u672a\u679c\u200b\u3002</p> <p>\u200b\u65b9\u6848\u200b3\u200b\u5c1d\u8bd5\u200b\uff1a\u200b\u7ecf\u8fc7\u200b\u4e00\u756a\u200b\u641c\u7d22\u200b\uff0c\u200b\u627e\u5230\u200b\u4e00\u79cd\u200b\u601d\u8def\u200b\uff0c\u200b\u5c06\u200bPKCS8\u200b\u751f\u6210\u200b\u7684\u200b\u79c1\u94a5\u200b\u8f6c\u6362\u6210\u200bPKCS1\u200b\u7684\u200b\u79c1\u94a5\u200b\uff0c\u200b\u518d\u200b\u8fdb\u884c\u200b\u5c1d\u8bd5\u200b\uff0c\u200b\u6210\u529f\u200b\u3002</p> <p>\u200b\u5b8c\u6210\u200b\u6d41\u7a0b\u200b\u603b\u7ed3\u200b\uff1a</p> <ul> <li>\u200b\u4f7f\u7528\u200bopenssl\u200b\u751f\u6210\u200b\u79d8\u94a5\u200b</li> </ul> <pre><code>openssl genrsa -out private.pem 1024\n</code></pre> <ul> <li>\u200b\u67e5\u770b\u200b\u79c1\u94a5\u200b</li> </ul> <pre><code>-----BEGIN RSA PRIVATE KEY-----\nMIICWwIBAAKBgQDAQWZDPB5q3B0hKNO8Schw4ihwrJAITWHMMImjSKcRUSbAaKsM\n3kLhI8Sx7mPHVW21W6X4MOWyPLAlAOfX3DWNSHBThsJKOEeIlNmZ68MjCE6hWx+W\nfpUtPWmj8CBNUuZrHmAip4/2TTMHEfJPPzRA5FBmzjH7cn/5w+QlZjeINwIDAQAB\nAoGAR4ILv0ZFKgnk68h7uLTY0OPNltsYV34wufnzt7/2JALDHx3PQWIKDiN3rZa1\nlha4T5RfDwlg5gKcoabMlQVbBSPtvr2Rw0v9z8Ib7fsPqDJWUAkFL24DijpVEHiV\n*******************\nw7ZTo+aFijPS3ngRL6ksmIM+gbMwFQBBgnlKgmSrsA7wjpql9A+LLLyLoxAg+hFf\n5HgxInkJAkEAyP4R3tT2i6s/ZT01RPhNYJaHlaRsHAluPlyRDKCf/TLnDTHfB141\nkflUi/kcOMrSnwBYCDn9zh0qpf4O26iHPwJAHrOxcvbILmIhPHQucxQ0vf+S+dhs\n43K/WlkQ85BdgCTR8GTEgmQQ7TnY1a57k10jacbFKRjb19aiwQwrSbXRyQJAIVro\npE47TBpzPt3VhUifrrPMdG0A8/YssXSzLaFKa76S0YHBPXvI8Byshz4kDNi7818f\nPN5C3H3CoiFzXciuCQJAbLm5SfxCony3z5jkkQRM8Agl7sPCEt095zVJX+ln7apv\nt9Ci4v8kwGLz8un7PmLOvmMh7GzSh6qx7PinpI1WRw==\n-----END RSA PRIVATE KEY-----\n</code></pre> <ul> <li>\u200b\u751f\u6210\u200b\u67e5\u770b\u200b\u516c\u94a5\u200b</li> </ul> <pre><code>openssl rsa -in private.pem -out public.pem -pubout\n\n-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDAQWZDPB5q3B0hKNO8Schw4ihw\nrJAITWHMMImjSKcRUSbAaKsM3kLhI8Sx7mPHVW21W6X4MOWyPLAlAOfX3DWNSHBT\n*******************\nzjH7cn/5w+QlZjeINwIDAQAB\n-----END PUBLIC KEY-----\n</code></pre> <ul> <li>\u200b\u5c06\u200bPKCS1\u200b\u7684\u200b\u79c1\u94a5\u200b\u8f6c\u6362\u200b\u4e3a\u200bPKCS8</li> </ul> <pre><code>openssl pkcs8 -topk8 -inform PEM -in private.pem -outform pem -nocrypt -out pkcs8.pem\n</code></pre> <ul> <li>\u200b\u914d\u7f6e\u200b\u5230\u200b\u4ee3\u7801\u200b\u4e2d\u200b\uff0c\u200b\u5373\u53ef\u200b</li> </ul> <pre><code>-----BEGIN PRIVATE KEY-----\nMIICdQIBADANBgkqhkiG9w0BAQEFAASCAl8wggJbAgEAAoGBAMBBZkM8HmrcHSEo\n07xJyHDiKHCskAhNYcwwiaNIpxFRJsBoqwzeQuEjxLHuY8dVbbVbpfgw5bI8sCUA\n59fcNY1IcFOGwko4R4iU2ZnrwyMITqFbH5Z+lS09aaPwIE1S5mseYCKnj/ZNMwcR\n8k8/NEDkUGbOMftyf/nD5CVmN4g3AgMBAAECgYBHggu/RkUqCeTryHu4tNjQ482W\n2xhXfjC5+fO3v/YkAsMfHc9BYgoOI3etlrWWFrhPlF8PCWDmApyhpsyVBVsFI+2+\nvZHDS/3Pwhvt+w+oMlZQCQUvbgOKOlUQeJXezM9Ax6VmBKjM3RqctZ6IPphpO2KX\n2wprrUzwBhQkCa7MgQJBAPTfMtWLBI3DvAnDtlOj5oWKM9LeeBEvqSyYgz6BszAV\nAEGCeUqCZKuwDvCOmqX0D4ssvIujECD6EV/keDEieQkCQQDI/hHe1PaLqz9lPTVE\n+E1gloeVpGwcCW4+XJEMoJ/9MucNMd8HXjWR+VSL+Rw4ytKfAFgIOf3OHSql/g7b\n\n*************\n\nrnuTXSNpxsUpGNvX1qLBDCtJtdHJAkAhWuikTjtMGnM+3dWFSJ+us8x0bQDz9iyx\ndLMtoUprvpLRgcE9e8jwHKyHPiQM2LvzXx883kLcfcKiIXNdyK4JAkBsublJ/EKi\nfLfPmOSRBEzwCCXuw8IS3T3nNUlf6Wftqm+30KLi/yTAYvPy6fs+Ys6+YyHsbNKH\nqrHs+KekjVZH\n-----END PRIVATE KEY-----\n</code></pre>","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/rsa_encryption_bug/#_3","title":"\u6269\u5c55","text":"","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/rsa_encryption_bug/#python","title":"Python\u200b\u4ee3\u7801\u200b\u7247\u6bb5","text":"<pre><code>import base64\n# pip install pycryptodome\nfrom Crypto.Cipher import PKCS1_v1_5\nfrom Crypto.PublicKey import RSA\n\nPUBLIC_KEY = \"MRFM4nWu25GsG+gLwkqClZk1DUva\\nKfkKK73ZQ8mcLI3Pbx8zaX+1P38S7KUIOK8QI9gzsIZ0RMamOmrwl4ECAwEAAQ==\"\nPRIVATE_KEY = \"MIIBOQIBAA8mcLI3Pbx8z\\naX+1P38S7KUIOK8QI9gzsIZ0RMamOmrwl4ECAwEAAQJAdZzQARRCEZ1P9GkIVbVa\\naYWcXSe53Paet+YeteIN3xJELq4qYYuYAGlF2HmP9wpKZHXHdmlGEs8fi+pUMEGP\\n8QIhAOYVlA5Jihog5jSEb5S2Id7Z7LjrusLs67MtjjQzj3ddAiEAm1QpjN/QzB4l\\nRxIHG2BlzwmU/vSJYGH8ePkRMuC8knUCIHF+43HIxN7uq5/sVD4/OaX8SdFONupA\\nhGP2bNdDN9nhAiATKYXauD3VAJ8Orn2r9e95ZDA6Z8aO2mfAMNHbWfhJhQIgCtFH\\nzTtqqn/mgfftb/9g3vYyBRAz90vlKAaHgd9/U/k=\"\n\n\ndef decrypt(data: str, private_key: str) -&gt; str:\n    convert_data = base64.b64decode(bytes(data, encoding=\"utf8\"))\n    rsa_key = RSA.importKey(base64.b64decode(private_key))\n    cipher = PKCS1_v1_5.new(rsa_key)\n    return str(cipher.decrypt(convert_data, \"DecryptError\"), encoding='utf-8')\n\n\ndef encrypt(data: str, public_key: str) -&gt; str:\n    rsa_key = RSA.importKey(base64.b64decode(public_key))\n    cipher = PKCS1_v1_5.new(rsa_key)\n    result_data = cipher.encrypt(bytes(data, encoding=\"utf8\"))\n    return str(base64.b64encode(result_data), encoding='utf-8')\n\n\nif __name__ == '__main__':\n    encrypt_result = encrypt('123456', PUBLIC_KEY)\n    print(encrypt_result)\n    # encrypt_result = 'RZRbgTEEN9hXVdRab3wbCycIwWqBcGjRk9V2V0nDhKZwjgQ4pWHOu6A=='\n    decrypt_data = decrypt(encrypt_result, PRIVATE_KEY)\n    print(decrypt_data)\n</code></pre>","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/rsa_encryption_bug/#java","title":"Java\u200b\u4ee3\u7801\u200b\u7247\u6bb5","text":"","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/rsa_encryption_bug/#rsa","title":"RSA\u200b\u7684\u200b\u79d8\u94a5\u200b\u7c7b\u578b\u200b\u6c47\u603b","text":"PKCS \u200b\u7248\u672c\u200b \u200b\u540d\u79f0\u200b \u200b\u7b80\u4ecb\u200b PKCS #1 [^1] 2.1 RSA\u200b\u5bc6\u7801\u200b\u7f16\u8bd1\u200b\u6807\u51c6\u200b\uff08RSA Cryptography Standard\uff09 \u200b\u5b9a\u4e49\u200b\u4e86\u200bRSA\u200b\u7684\u200b\u6570\u7406\u200b\u57fa\u7840\u200b\u3001\u200b\u516c\u200b/\u200b\u79c1\u94a5\u200b\u683c\u5f0f\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u52a0\u200b/\u200b\u89e3\u5bc6\u200b\u3001\u200b\u7b7e\u200b/\u200b\u9a8c\u7ae0\u200b\u7684\u200b\u6d41\u7a0b\u200b\u30021.5\u200b\u7248\u672c\u200b\u66fe\u7ecf\u200b\u906d\u5230\u200b\u653b\u51fb\u200b\u3002 PKCS #2 - \u200b\u64a4\u9500\u200b \u200b\u539f\u672c\u200b\u662f\u200b\u7528\u4ee5\u200b\u89c4\u8303\u200bRSA\u200b\u52a0\u5bc6\u200b\u6458\u8981\u200b\u7684\u200b\u8f6c\u6362\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u73b0\u5df2\u200b\u88ab\u200b\u7eb3\u5165\u200bPKCS#1\u200b\u4e4b\u4e2d\u200b\u3002 PKCS #3 1.4 DH\u200b\u5bc6\u94a5\u200b\u534f\u8bae\u200b\u6807\u51c6\u200b\uff08Diffie-Hellman key agreement Standard\uff09 \u200b\u89c4\u8303\u200b\u4ee5\u200bDH\u200b\u5bc6\u94a5\u200b\u534f\u8bae\u200b\u4e3a\u200b\u57fa\u7840\u200b\u7684\u200b\u5bc6\u94a5\u200b\u534f\u8bae\u200b\u6807\u51c6\u200b\u3002\u200b\u5176\u200b\u529f\u80fd\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8ba9\u200b\u4e24\u65b9\u200b\u901a\u8fc7\u200b\u91d1\u8bae\u200b\u534f\u8bae\u200b\uff0c\u200b\u62df\u5b9a\u200b\u4e00\u628a\u200b\u4f1a\u8bae\u200b\u5bc6\u94a5\u200b(Session key)\u3002 PKCS #4 - \u200b\u64a4\u9500\u200b \u200b\u539f\u672c\u200b\u7528\u4ee5\u200b\u89c4\u8303\u200b\u8f6c\u6362\u200bRSA\u200b\u5bc6\u94a5\u200b\u7684\u200b\u6d41\u7a0b\u200b\u3002\u200b\u5df2\u200b\u88ab\u200b\u7eb3\u5165\u200bPKCS#1\u200b\u4e4b\u4e2d\u200b\u3002 PKCS #5 2.0 \u200b\u5bc6\u7801\u200b\u57fa\u690d\u200b\u52a0\u5bc6\u200b\u6807\u51c6\u200b\uff08Password-based Encryption Standard\uff09 \u200b\u53c2\u89c1\u200bRFC 2898\u200b\u4e0e\u200bPBKDF2\u3002 PKCS #6 1.5 \u200b\u8bc1\u4e66\u200b\u6269\u5c55\u200b\u8bed\u6cd5\u200b\u6807\u51c6\u200b\uff08Extended-Certificate Syntax Standard\uff09 \u200b\u5c06\u200b\u539f\u672c\u200bX.509\u200b\u7684\u200b\u8bc1\u4e66\u200b\u683c\u5f0f\u200b\u6807\u51c6\u200b\u52a0\u4ee5\u200b\u6269\u5145\u200b\u3002 PKCS #7 1.5 \u200b\u5bc6\u7801\u200b\u6d88\u606f\u200b\u8bed\u6cd5\u200b\u6807\u51c6\u200b\uff08Cryptographic Message Syntax Standard\uff09 \u200b\u53c2\u89c1\u200bRFC 2315\u3002\u200b\u89c4\u8303\u200b\u4e86\u200b\u4ee5\u200b\u516c\u5f00\u5bc6\u94a5\u200b\u57fa\u7840\u8bbe\u65bd\u200b\uff08PKI\uff09\u200b\u6240\u200b\u4ea7\u751f\u200b\u4e4b\u200b\u7b7e\u540d\u200b/\u200b\u5bc6\u6587\u200b\u4e4b\u200b\u683c\u5f0f\u200b\u3002\u200b\u5176\u200b\u76ee\u7684\u200b\u4e00\u6837\u200b\u662f\u200b\u4e3a\u4e86\u200b\u62d3\u5c55\u200b\u6570\u5b57\u8bc1\u4e66\u200b\u7684\u200b\u5e94\u7528\u200b\u3002\u200b\u5176\u4e2d\u200b\uff0c\u200b\u5305\u542b\u200b\u4e86\u200bS/MIME\u200b\u4e0e\u200bCMS\u3002 PKCS #8 [^2] 1.2 \u200b\u79c1\u94a5\u200b\u6d88\u606f\u200b\u8868\u793a\u200b\u6807\u51c6\u200b\uff08Private-Key Information Syntax Standard\uff09. Apache\u200b\u8bfb\u53d6\u200b\u8bc1\u4e66\u200b\u79c1\u94a5\u200b\u7684\u200b\u6807\u51c6\u200b\u3002 PKCS #9 2.0 \u200b\u9009\u62e9\u200b\u5c5e\u6027\u200b\u683c\u5f0f\u200b\uff08Selected Attribute Types\uff09 \u200b\u5b9a\u4e49\u200bPKCS#6\u30017\u30018\u300110\u200b\u7684\u200b\u9009\u62e9\u200b\u5c5e\u6027\u200b\u683c\u5f0f\u200b\u3002 PKCS #10 1.7 \u200b\u8bc1\u4e66\u200b\u7533\u8bf7\u200b\u6807\u51c6\u200b\uff08Certification Request Standard\uff09 \u200b\u53c2\u89c1\u200bRFC 2986\u3002 \u200b\u89c4\u8303\u200b\u4e86\u200b\u5411\u200b\u8bc1\u4e66\u200b\u4e2d\u5fc3\u200b\u7533\u8bf7\u200b\u8bc1\u4e66\u200b\u4e4b\u200bCSR\uff08certificate signing request\uff09\u200b\u7684\u200b\u683c\u5f0f\u200b\u3002 PKCS #11 2.20 \u200b\u5bc6\u7801\u200b\u8bbe\u5907\u200b\u6807\u51c6\u63a5\u53e3\u200b\uff08Cryptographic Token Interface (Cryptoki)\uff09 \u200b\u5b9a\u4e49\u200b\u4e86\u200b\u5bc6\u7801\u200b\u8bbe\u5907\u200b\u7684\u200b\u5e94\u7528\u200b\u7a0b\u5e8f\u63a5\u53e3\u200b\uff08API\uff09\u200b\u4e4b\u200b\u89c4\u683c\u200b\u3002 PKCS #12 1.0 \u200b\u4e2a\u4eba\u200b\u6d88\u606f\u200b\u4ea4\u6362\u200b\u6807\u51c6\u200b\uff08Personal Information Exchange Syntax Standard\uff09 \u200b\u5b9a\u4e49\u200b\u4e86\u200b\u5305\u542b\u200b\u79c1\u94a5\u200b\u4e0e\u200b\u516c\u94a5\u200b\u8bc1\u4e66\u200b\uff08public key certificate\uff09\u200b\u7684\u200b\u6587\u4ef6\u683c\u5f0f\u200b\u3002\u200b\u79c1\u94a5\u200b\u91c7\u200b\u5bc6\u7801\u200b(password)\u200b\u4fdd\u62a4\u200b\u3002\u200b\u5e38\u89c1\u200b\u7684\u200bPFX\u200b\u5c31\u200b\u5c65\u884c\u200b\u4e86\u200bPKCS#12\u3002 PKCS #13 \u2013 \u200b\u692d\u5706\u200b\u66f2\u7ebf\u200b\u5bc6\u7801\u5b66\u200b\u6807\u51c6\u200b\uff08Elliptic curve cryptography Standard\uff09 \u200b\u5236\u5b9a\u200b\u4e2d\u200b\u3002\u200b\u89c4\u8303\u200b\u4ee5\u200b\u692d\u5706\u200b\u66f2\u7ebf\u200b\u5bc6\u7801\u5b66\u200b\u4e3a\u200b\u57fa\u7840\u200b\u6240\u200b\u53d1\u5c55\u200b\u4e4b\u200b\u5bc6\u7801\u200b\u6280\u672f\u200b\u5e94\u7528\u200b\u3002\u200b\u692d\u5706\u200b\u66f2\u7ebf\u200b\u5bc6\u7801\u5b66\u200b\u662f\u200b\u65b0\u200b\u7684\u200b\u5bc6\u7801\u5b66\u200b\u6280\u672f\u200b\uff0c\u200b\u5176\u200b\u5f3a\u5ea6\u200b\u4e0e\u200b\u6548\u7387\u200b\u7686\u200b\u6bd4\u200b\u73b0\u884c\u200b\u4ee5\u200b\u6307\u6570\u200b\u8fd0\u7b97\u200b\u4e3a\u200b\u57fa\u7840\u200b\u4e4b\u200b\u5bc6\u7801\u5b66\u200b\u7b97\u6cd5\u200b\u6765\u200b\u7684\u200b\u4f18\u79c0\u200b\u3002\u200b\u7136\u800c\u200b\uff0c\u200b\u8be5\u200b\u7b97\u6cd5\u200b\u7684\u200b\u5e94\u7528\u200b\u5c1a\u200b\u4e0d\u200b\u666e\u53ca\u200b\u3002 PKCS #14 \u2013 \u200b\u62df\u200b\u968f\u673a\u6570\u200b\u4ea7\u751f\u5668\u200b\u6807\u51c6\u200b\uff08Pseudo-random Number Generation\uff09 \u200b\u5236\u5b9a\u200b\u4e2d\u200b\u3002\u200b\u89c4\u8303\u200b\u62df\u200b\u968f\u673a\u6570\u200b\u4ea7\u751f\u5668\u200b\u7684\u200b\u4f7f\u7528\u200b\u4e0e\u200b\u8bbe\u8ba1\u200b\u3002 PKCS #15 1.1 \u200b\u5bc6\u7801\u200b\u8bbe\u5907\u200b\u6d88\u606f\u200b\u683c\u5f0f\u200b\u6807\u51c6\u200b\uff08Cryptographic Token Information Format Standard\uff09 \u200b\u5b9a\u4e49\u200b\u4e86\u200b\u5bc6\u7801","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/rsa_encryption_bug/#rsa_1","title":"RSA\u200b\u7684\u200b\u683c\u5f0f\u200b\u8f6c\u6362","text":"<pre><code># \u200b\u751f\u6210\u200bPKCS1\u200b\u79c1\u94a5\u200b\nopenssl genrsa -out private.pem 1024\n\n# PKCS1\u200b\u79c1\u94a5\u200b\u8f6c\u6362\u200b\u4e3a\u200bPKCS8\nopenssl pkcs8 -topk8 -inform PEM -in private.pem -outform pem -nocrypt -out pkcs8.pem\n\n# PKCS8\u200b\u79c1\u94a5\u200b\u8f6c\u6362\u200b\u4e3a\u200bPKCS1\nopenssl rsa -in pkcs8.pem -out pkcs1.pem\n\n# \u200b\u4ece\u200bPKCS1\u200b\u79c1\u94a5\u200b\u4e2d\u200b\u751f\u6210\u200bPKCS8\u200b\u516c\u94a5\u200b\nopenssl rsa -in private.pem -pubout -out public.pem\n\n# \u200b\u4ece\u200bPKCS8\u200b\u79c1\u94a5\u200b\u4e2d\u200b\u751f\u6210\u200bPKCS8\u200b\u516c\u94a5\u200b\nopenssl rsa -in pkcs8.pem -pubout -out public_pkcs8.pem\n\n# \u200b\u4ece\u200bPKCS8\u200b\u516c\u94a5\u200b\u8f6c\u6362\u200bPKCS1\u200b\u516c\u94a5\u200b\nopenssl rsa -pubin -in public_pkcs8.pem -RSAPublicKey_out\n\n# \u200b\u4ece\u200bPKCS1\u200b\u516c\u94a5\u200b\u8f6c\u6362\u200bPKCS8\u200b\u516c\u94a5\u200b\nopenssl rsa -RSAPublicKey_in -in pub_pkcs1.pem -pubout\n</code></pre> <p>\u200b\u53c2\u8003\u200b\u94fe\u63a5\u200b\uff1ahttps://daniao.ws/rsa-java-to-python.html</p>","tags":["Bug"]},{"location":"blogs/solutionhub/bughub/window_install_pip_bug/","title":"window\u200b\u73af\u5883\u200b\u4e2d\u200bpip\u200b\u5b89\u88c5\u200b\u62a5\u9519","text":"<ul> <li> <p>\u200b\u9519\u8bef\u200b\u65e5\u5fd7\u200b <pre><code>(blogenv) \u03bb pip install mkdocs -i https://pypi.mirrors.ustc.edu.cn/simple/ --trusted-host pypi.douban.com       \nLooking in indexes: https://pypi.mirrors.ustc.edu.cn/simple/                                                    \nWARNING: Retrying (Retry(total=4, connect=None, read=None, redirect=None, status=None)) after connection broken \nby 'SSLError(SSLEOFError(8, 'EOF occurred in violation of protocol (_ssl.c:1131)'))': /simple/mkdocs/           \nWARNING: Retrying (Retry(total=3, connect=None, read=None, redirect=None, status=None)) after connection broken \nby 'SSLError(SSLEOFError(8, 'EOF occurred in violation of protocol (_ssl.c:1131)'))': /simple/mkdocs/           \nWARNING: Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken \nby 'SSLError(SSLEOFError(8, 'EOF occurred in violation of protocol (_ssl.c:1131)'))': /simple/mkdocs/           \nWARNING: Retrying (Retry(total=1, connect=None, read=None, redirect=None, status=None)) after connection broken \nby 'SSLError(SSLEOFError(8, 'EOF occurred in violation of protocol (_ssl.c:1131)'))': /simple/mkdocs/           \nWARNING: Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken \nby 'SSLError(SSLEOFError(8, 'EOF occurred in violation of protocol (_ssl.c:1131)'))': /simple/mkdocs/           \nCould not fetch URL https://pypi.mirrors.ustc.edu.cn/simple/mkdocs/: There was a problem confirming the ssl cert\nificate: HTTPSConnectionPool(host='pypi.mirrors.ustc.edu.cn', port=443): Max retries exceeded with url: /simple/\nmkdocs/ (Caused by SSLError(SSLEOFError(8, 'EOF occurred in violation of protocol (_ssl.c:1131)'))) - skipping  \nERROR: Could not find a version that satisfies the requirement mkdocs                                           \nERROR: No matching distribution found for mkdocs                                                                \nCould not fetch URL https://pypi.mirrors.ustc.edu.cn/simple/pip/: There was a problem confirming the ssl certifi\ncate: HTTPSConnectionPool(host='pypi.mirrors.ustc.edu.cn', port=443): Max retries exceeded with url: /simple/pip\n/ (Caused by SSLError(SSLEOFError(8, 'EOF occurred in violation of protocol (_ssl.c:1131)'))) - skipping        \n</code></pre></p> </li> <li> <p>\u200b\u89e3\u51b3\u200b\u65b9\u5f0f\u200b <pre><code>pip install mkdocs -i http://pypi.douban.com/simple --trusted-host pypi.douban.com\n</code></pre></p> </li> </ul>","tags":["Bug"]},{"location":"blogs/solutionhub/opshub/centos_yum_source_delete_solution/","title":"Centos\u200b\u7684\u200byum\u200b\u6e90\u200b\u8bef\u5220\u200b\u89e3\u51b3\u200b\u65b9\u6cd5","text":"","tags":["\u8fd0\u7ef4\u624b\u8bb0"]},{"location":"blogs/solutionhub/opshub/centos_yum_source_delete_solution/#_1","title":"\u4e8b\u51fa\u6709\u56e0","text":"<ul> <li>\u200b\u66f4\u6362\u200byum\u200b\u6e90\u200b\uff0c\u200b\u624b\u8bef\u200byum\u200b\u6e90\u200b\u8bef\u5220\u200b</li> </ul>","tags":["\u8fd0\u7ef4\u624b\u8bb0"]},{"location":"blogs/solutionhub/opshub/centos_yum_source_delete_solution/#bug","title":"Bug\u200b\u73b0\u573a","text":"<pre><code>(base) [root@automlgpu4 bin]# yum \n-bash: /usr/bin/yum: No such file or directory\n</code></pre>","tags":["\u8fd0\u7ef4\u624b\u8bb0"]},{"location":"blogs/solutionhub/opshub/centos_yum_source_delete_solution/#_2","title":"\u8fce\u5203\u800c\u89e3","text":"<pre><code># step1: \u200b\u67e5\u770b\u200bcentos\u200b\u7248\u672c\u4fe1\u606f\u200b\n$ rpm -q centos-release\n[output]: centos-release-7-9.2009.1.el7.centos.x86_64\n\n# step2 \u200b\u627e\u5230\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6e90\u200b\u4fe1\u606f\u200b\uff0c\u200b\u94fe\u63a5\u200b\u5982\u4e0b\u200b\uff1a\nhttp://mirrors.163.com/\n\n# step3:\u200b\u6267\u884c\u200b\u4e0b\u9762\u200b\u547d\u4ee4\u200b\nrpm -ivh --nodeps http://mirrors.163.com/centos/7.9.2009/os/x86_64/Packages/yum-metadata-parser-1.1.4-10.el7.x86_64.rpm\nrpm -ivh --nodeps http://mirrors.163.com/centos/7.9.2009/os/x86_64/Packages/yum-plugin-fastestmirror-1.1.31-54.el7_8.noarch.rpm\nrpm -ivh --nodeps http://mirrors.163.com/centos/7.9.2009/os/x86_64/Packages/yum-3.4.3-168.el7.centos.noarch.rpm\n\n# step4\ncd /etc/yum.repo.d/\nwget http://mirrors.163.com/.help/CentOS7-Base-163.repo\nyum repolist\nyum clean all\nyum makecache\n</code></pre> <p>\u200b\u8bb0\u5f55\u65f6\u95f4\u200b\uff1a2021\u200b\u5e74\u200b6\u200b\u6708\u200b29\u200b\u65e5\u200b17:23:22</p>","tags":["\u8fd0\u7ef4\u624b\u8bb0"]},{"location":"blogs/solutionhub/opshub/mac_brew_service_error_solution/","title":"Mac\u200b\u4f7f\u7528\u200bbrew services\u200b\u62a5\u9519","text":"<p>Mac \u200b\u4f7f\u7528\u200b brew services list \u200b\u62a5\u9519\u200b</p> <ul> <li>\u200b\u62a5\u9519\u200b\u539f\u56e0\u200b</li> </ul> <pre><code>(base) \u279c  ~ brew services start tomcat@8\nError: uninitialized constant Homebrew::Service::System\n/usr/local/Homebrew/Library/Taps/homebrew/homebrew-services/cmd/services.rb:61:in `services'\n/usr/local/Homebrew/Library/Homebrew/brew.rb:94:in `&lt;main&gt;'\n</code></pre> <ul> <li>\u200b\u95ee\u9898\u200b\u5206\u6790\u200b</li> <li>\u200b\u7531\u4e8e\u200b\u5347\u7ea7\u200b\u4e86\u200bmac \u200b\u7cfb\u7edf\u200b\uff0c\u200b\u5bfc\u81f4\u200bmac \u200b\u7684\u200bbrew \u200b\u90e8\u5206\u200b\u529f\u80fd\u200b\u65e0\u6cd5\u200b\u6b63\u5e38\u200b\u4f7f\u7528\u200b</li> <li>\u200b\u89e3\u51b3\u200b\u65b9\u6cd5\u200b</li> </ul> <pre><code>cd /usr/local/Homebrew/Library/Taps/homebrew/\nrm -rf homebrew-services\nbrew tap homebrew/services\n</code></pre> <ul> <li>\u200b\u6267\u884c\u200b\u65e5\u5fd7\u200b</li> </ul> <pre><code>(base) \u279c  ~ brew services list\nError: uninitialized constant Homebrew::Service::System\n/usr/local/Homebrew/Library/Taps/homebrew/homebrew-services/cmd/services.rb:61:in `services'\n/usr/local/Homebrew/Library/Homebrew/brew.rb:94:in `&lt;main&gt;'\n(base) \u279c  ~ cd /usr/local/Homebrew/Library/Taps\n(base) \u279c  Taps git:(master) ls\nbigwig-club buo         homebrew\n(base) \u279c  Taps git:(master) cd homebrew/\n(base) \u279c  homebrew git:(master) ls\nhomebrew-cask     homebrew-core     homebrew-services\n(base) \u279c  homebrew git:(master) rm -rf homebrew-services\n(base) \u279c  homebrew git:(master) brew tap homebrew/services\n==&gt; Tapping homebrew/services\nCloning into '/usr/local/Homebrew/Library/Taps/homebrew/homebrew-services'...\nremote: Enumerating objects: 2430, done.\nremote: Counting objects: 100% (2430/2430), done.\nremote: Compressing objects: 100% (1151/1151), done.\nremote: Total 2430 (delta 1127), reused 2339 (delta 1091), pack-reused 0\nReceiving objects: 100% (2430/2430), 665.90 KiB | 716.00 KiB/s, done.\nResolving deltas: 100% (1127/1127), done.\nTapped 1 command (45 files, 834KB).\n(base) \u279c  homebrew git:(master) brew services list\nName       Status User File\nkafka      none\nredis      none\nsupervisor none\ntomcat@8   none\nzookeeper  none\n(base) \u279c  homebrew git:(master) brew services start tomcat@8\n==&gt; Successfully started `tomcat@8` (label: homebrew.mxcl.tomcat@8)\n(base) \u279c  homebrew git:(master) brew services list\nName       Status  User        File\nkafka      none\nredis      none\nsupervisor none\ntomcat@8   started roninsswang ~/Library/LaunchAgents/homebrew.mxcl.tomcat@8.plist\nzookeeper  none\n</code></pre>","tags":["\u8fd0\u7ef4\u624b\u8bb0"]},{"location":"blogs/solutionhub/opshub/server_disk_full_solution/","title":"\u670d\u52a1\u5668\u200b\u78c1\u76d8\u7a7a\u95f4\u200b\u6ee1\u200b\u7684\u200b\u89e3\u51b3\u529e\u6cd5","text":"<ul> <li>1.\u200b\u8f93\u5165\u200b\u547d\u4ee4\u200b\u67e5\u770b\u200b\u78c1\u76d8\u200b\u4fe1\u606f\u200b</li> </ul> <pre><code>df \u2013h \n</code></pre> <ul> <li>2.\u200b\u8fdb\u5165\u200b\u5927\u5bb9\u91cf\u200b\u6587\u4ef6\u5939\u200b\u4e0b\u200b\uff0c\u200b\u4f7f\u7528\u200b\u547d\u4ee4\u200b\u67e5\u770b\u200b\u5177\u4f53\u200b\u6587\u4ef6\u5927\u5c0f\u200b</li> </ul> <pre><code>sudo du -sh * \n</code></pre> <ul> <li>3.\u200b\u5220\u9664\u200b\u5927\u200b\u6587\u4ef6\u200b</li> </ul> <pre><code>sudo rm -f \u200b\u6587\u4ef6\u540d\u200b   # \u200b\u4e00\u822c\u200b\u662f\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b\n</code></pre> <ul> <li>4.\u200b\u5220\u9664\u200b\u6587\u4ef6\u200b\u4ee5\u540e\u200b\uff0c\u200b\u5e76\u672a\u200b\u53d1\u73b0\u200b\u78c1\u76d8\u200b\u7684\u200b\u7a7a\u4f59\u200b\u7a7a\u95f4\u200b\u589e\u5927\u200b\uff0c\u200b\u8fd8\u200b\u9700\u8981\u200b\u6740\u6389\u200b\u6539\u200b\u5220\u9664\u200b\u547d\u4ee4\u200b\u7684\u200b\u8fdb\u7a0b\u200b</li> </ul> <pre><code>sudo lsof / | grep deleted\n\nkill -9 \u200b\u8fdb\u7a0b\u200b\u53f7\u200b\n</code></pre> <ul> <li>5.\u200b\u91cd\u542f\u200b\u5bf9\u5e94\u200b\u9879\u76ee\u200b\u670d\u52a1\u200b</li> </ul>","tags":["\u8fd0\u7ef4\u624b\u8bb0"]},{"location":"blogs/solutionhub/opshub/win10_git_chinese_solution/","title":"win10\u200b\u7684\u200bcmd\u200b\u4e2d\u200b\u64cd\u4f5c\u200bgit\u200b\u4e2d\u6587\u200b\u4e71\u7801\u200b\u89e3\u51b3\u200b\u65b9\u6cd5","text":"<p>\u200b\u5728\u200bwin10\u200b\u7684\u200bcmd\u200b\u7ec8\u7aef\u200b\u4e2d\u200b\u4f7f\u7528\u200bgit\u200b\u65f6\u200b\uff0c\u200b\u51fa\u73b0\u200b\u4e2d\u6587\u200b\u4e71\u7801\u200b\u95ee\u9898\u200b\u7684\u200b\u89e3\u51b3\u200b\u65b9\u6cd5\u200b</p> <ul> <li>\u200b\u5728\u200b\u7ec8\u7aef\u200b\u4e2d\u200b\u8f93\u5165\u200b\u4e0b\u5217\u200b\u6307\u4ee4\u200b</li> </ul> <pre><code>git config --global core.quotepath false \ngit config --global gui.encoding utf-8\ngit config --global i18n.commit.encoding utf-8 \ngit config --global i18n.logoutputencoding utf-8 \n</code></pre> <ul> <li>\u200b\u5728\u200b\u7cfb\u7edf\u200b\u73af\u5883\u53d8\u91cf\u200b\u4e2d\u200b\u65b0\u589e\u200b\u73af\u5883\u53d8\u91cf\u200b</li> </ul> <pre><code># LESSCHARSET=utf-8\n\u200b\u53d8\u91cf\u540d\u200b\uff1aLESSCHARSET\n\u200b\u503c\u200b\uff1autf-8\n</code></pre> <ul> <li>\u200b\u91cd\u542f\u200bcmd\uff0c\u200b\u6216\u8005\u200b\u5173\u95ed\u200b\u65b0\u5f00\u200b\u4e00\u4e2a\u200bcmd\u200b\u7ec8\u7aef\u200b</li> </ul>","tags":["\u8fd0\u7ef4\u624b\u8bb0"]},{"location":"codecore/design_patterns/design_patterns_categories/","title":"\u8bbe\u8ba1\u6a21\u5f0f\u200b\u5206\u7c7b","text":"","tags":["\u8bbe\u8ba1\u6a21\u5f0f"]},{"location":"codecore/design_patterns/design_patterns_categories/#_1","title":"\u5206\u7c7b\u200b\uff1a","text":"<ul> <li>\u200b\u521b\u5efa\u200b\u578b\u200b\u6a21\u5f0f\u200b\uff08\u200b\u5bf9\u8c61\u200b\u7684\u200b\u521b\u5efa\u200b\u65b9\u5f0f\u200b\uff09</li> <li>\u200b\u7ed3\u6784\u578b\u200b\u6a21\u5f0f\u200b\uff08\u200b\u8f6f\u4ef6\u5e94\u7528\u200b\u7a0b\u5e8f\u200b\u4e2d\u7c7b\u200b\u548c\u200b\u5bf9\u8c61\u200b\u7684\u200b\u6784\u9020\u200b\u65b9\u5f0f\u200b\uff09</li> <li>\u200b\u884c\u4e3a\u200b\u578b\u200b\u6a21\u5f0f\u200b\uff08\u200b\u5bf9\u8c61\u200b\u4e4b\u95f4\u200b\u7684\u200b\u4ea4\u4e92\u65b9\u5f0f\u200b\uff09</li> </ul>","tags":["\u8bbe\u8ba1\u6a21\u5f0f"]},{"location":"codecore/design_patterns/design_patterns_categories/#_2","title":"\u5206\u7c7b\u200b\u8bf4\u660e","text":"","tags":["\u8bbe\u8ba1\u6a21\u5f0f"]},{"location":"codecore/design_patterns/design_patterns_categories/#_3","title":"\u521b\u5efa\u200b\u578b\u200b\u6a21\u5f0f","text":"","tags":["\u8bbe\u8ba1\u6a21\u5f0f"]},{"location":"codecore/design_patterns/design_patterns_categories/#_4","title":"\u7279\u70b9","text":"<ul> <li>\u200b\u5b83\u4eec\u200b\u8fd0\u884c\u673a\u5236\u200b\u57fa\u4e8e\u200b\u5bf9\u8c61\u200b\u7684\u200b\u521b\u5efa\u200b\u65b9\u5f0f\u200b</li> <li>\u200b\u5b83\u4eec\u200b\u5c06\u200b\u5bf9\u8c61\u200b\u7684\u200b\u521b\u5efa\u200b\u7684\u200b\u7ec6\u8282\u200b\u9694\u79bb\u200b\u5f00\u6765\u200b</li> <li>\u200b\u4ee3\u7801\u200b\u4e0e\u200b\u6240\u200b\u521b\u5efa\u200b\u7684\u200b\u5bf9\u8c61\u200b\u7684\u200b\u7c7b\u578b\u200b\u65e0\u5173\u200b</li> </ul>","tags":["\u8bbe\u8ba1\u6a21\u5f0f"]},{"location":"codecore/design_patterns/design_patterns_categories/#_5","title":"\u5b9e\u4f8b\u200b\uff1a","text":"<ul> <li>\u200b\u5de5\u5382\u200b\u6a21\u5f0f\u200b \uff08Factory Pattern\uff09</li> <li>\u200b\u62bd\u8c61\u200b\u5de5\u5382\u200b\u6a21\u5f0f\u200b \uff08Abstract Factory Pattern\uff09</li> <li>\u200b\u5355\u4f8b\u200b\u6a21\u5f0f\u200b \uff08Singleton Pattern\uff09</li> <li>\u200b\u5efa\u9020\u200b\u8005\u200b\u6a21\u5f0f\u200b \uff08Builder Pattern\uff09</li> <li>\u200b\u539f\u578b\u200b\u6a21\u5f0f\u200b \uff08Prototype Pattern\uff09</li> </ul>","tags":["\u8bbe\u8ba1\u6a21\u5f0f"]},{"location":"codecore/design_patterns/design_patterns_categories/#_6","title":"\u7ed3\u6784\u578b\u200b\u6a21\u5f0f","text":"","tags":["\u8bbe\u8ba1\u6a21\u5f0f"]},{"location":"codecore/design_patterns/design_patterns_categories/#_7","title":"\u7279\u70b9","text":"<ul> <li>\u200b\u5b83\u4eec\u200b\u81f4\u529b\u4e8e\u200b\u8bbe\u8ba1\u200b\u51fa\u200b\u80fd\u591f\u200b\u901a\u8fc7\u200b\u7ec4\u5408\u200b\u83b7\u5f97\u200b\u66f4\u200b\u5f3a\u5927\u200b\u529f\u80fd\u200b\u7684\u200b\u5bf9\u8c61\u200b\u548c\u200b\u7c7b\u200b\u7684\u200b\u7ed3\u6784\u200b</li> <li>\u200b\u91cd\u70b9\u200b\u662f\u200b\u7b80\u5316\u200b\u7ed3\u6784\u200b\u5e76\u200b\u8bc6\u522b\u200b\u7c7b\u200b\u548c\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5173\u7cfb\u200b</li> <li>\u200b\u5b83\u4eec\u200b\u4e3b\u8981\u200b\u5173\u6ce8\u200b\u7c7b\u200b\u548c\u200b\u7ee7\u627f\u200b\u7684\u200b\u7ec4\u5408\u200b</li> </ul>","tags":["\u8bbe\u8ba1\u6a21\u5f0f"]},{"location":"codecore/design_patterns/design_patterns_categories/#_8","title":"\u5b9e\u4f8b\u200b\uff1a","text":"<ul> <li>\u200b\u9002\u914d\u5668\u200b\u6a21\u5f0f\u200b \uff08Adapter Pattern\uff09</li> <li>\u200b\u6865\u63a5\u200b\u6a21\u5f0f\u200b \uff08Bridge Pattern\uff09</li> <li>\u200b\u8fc7\u6ee4\u5668\u200b\u6a21\u5f0f\u200b \uff08Filter\u3001Criteria Pattern\uff09</li> <li>\u200b\u7ec4\u5408\u200b\u6a21\u5f0f\u200b \uff08Composite Pattern\uff09</li> <li>\u200b\u88c5\u9970\u200b\u5668\u200b\u6a21\u5f0f\u200b \uff08Decorator Pattern\uff09</li> <li>\u200b\u5916\u89c2\u200b\u6a21\u5f0f\u200b \uff08Facade Pattern\uff09</li> <li>\u200b\u4eab\u5143\u200b\u6a21\u5f0f\u200b \uff08Flyweight Pattern\uff09</li> <li>\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b \uff08Proxy Pattern\uff09</li> </ul>","tags":["\u8bbe\u8ba1\u6a21\u5f0f"]},{"location":"codecore/design_patterns/design_patterns_categories/#_9","title":"\u884c\u4e3a\u200b\u578b\u200b\u6a21\u5f0f","text":"","tags":["\u8bbe\u8ba1\u6a21\u5f0f"]},{"location":"codecore/design_patterns/design_patterns_categories/#_10","title":"\u7279\u70b9","text":"<ul> <li>\u200b\u5b83\u4eec\u200b\u5173\u6ce8\u200b\u5bf9\u8c61\u200b\u4e4b\u95f4\u200b\u7684\u200b\u4ea4\u4e92\u200b\u4ee5\u53ca\u200b\u5bf9\u8c61\u200b\u7684\u200b\u54cd\u5e94\u200b\u6027\u200b</li> <li>\u200b\u5bf9\u8c61\u200b\u5e94\u8be5\u200b\u80fd\u591f\u200b\u4ea4\u4e92\u200b\uff0c\u200b\u540c\u65f6\u200b\u4ecd\u7136\u200b\u4fdd\u6301\u200b\u677e\u6563\u200b\u8026\u5408\u200b</li> </ul>","tags":["\u8bbe\u8ba1\u6a21\u5f0f"]},{"location":"codecore/design_patterns/design_patterns_categories/#_11","title":"\u5b9e\u4f8b\u200b\uff1a","text":"<ul> <li>\u200b\u8d23\u4efb\u200b\u94fe\u200b\u6a21\u5f0f\u200b \uff08Chain of Responsibility Pattern\uff09</li> <li>\u200b\u547d\u4ee4\u200b\u6a21\u5f0f\u200b \uff08Command Pattern\uff09</li> <li>\u200b\u89e3\u91ca\u5668\u200b\u6a21\u5f0f\u200b \uff08Interpreter Pattern\uff09</li> <li>\u200b\u8fed\u4ee3\u200b\u5668\u200b\u6a21\u5f0f\u200b \uff08Iterator Pattern\uff09</li> <li>\u200b\u4e2d\u4ecb\u200b\u8005\u200b\u6a21\u5f0f\u200b \uff08Mediator Pattern\uff09</li> <li>\u200b\u5907\u5fd8\u5f55\u200b\u6a21\u5f0f\u200b \uff08Memento Pattern\uff09</li> <li>\u200b\u89c2\u5bdf\u8005\u200b\u6a21\u5f0f\u200b \uff08Observer Pattern\uff09</li> <li>\u200b\u72b6\u6001\u200b\u6a21\u5f0f\u200b \uff08State Pattern\uff09</li> <li>\u200b\u7a7a\u200b\u5bf9\u8c61\u200b\u6a21\u5f0f\u200b \uff08Null Object Pattern\uff09</li> <li>\u200b\u7b56\u7565\u200b\u6a21\u5f0f\u200b \uff08Strategy Pattern\uff09</li> <li>\u200b\u6a21\u677f\u200b\u6a21\u5f0f\u200b \uff08Template Pattern\uff09</li> <li>\u200b\u8bbf\u95ee\u8005\u200b\u6a21\u5f0f\u200b \uff08Visitor Pattern\uff09</li> </ul>","tags":["\u8bbe\u8ba1\u6a21\u5f0f"]},{"location":"codecore/design_patterns/design_patterns_categories/#j2ee","title":"J2EE\u200b\u6a21\u5f0f\u200b\uff08\u200b\u6269\u5c55\u200b\uff09","text":"","tags":["\u8bbe\u8ba1\u6a21\u5f0f"]},{"location":"codecore/design_patterns/design_patterns_categories/#_12","title":"\u7279\u70b9","text":"<ul> <li>\u200b\u8fd9\u4e9b\u200b\u8bbe\u8ba1\u6a21\u5f0f\u200b\u7279\u522b\u200b\u5173\u6ce8\u200b\u8868\u793a\u5c42\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u6a21\u5f0f\u200b\u662f\u200b\u7531\u200bSun Java Center\u200b\u9274\u5b9a\u200b\u7684\u200b</li> </ul>","tags":["\u8bbe\u8ba1\u6a21\u5f0f"]},{"location":"codecore/design_patterns/design_patterns_categories/#_13","title":"\u5b9e\u4f8b\u200b\uff1a","text":"<ul> <li>MVC\u200b\u6a21\u5f0f\u200b \uff08MVC Pattern\uff09</li> <li>\u200b\u4e1a\u52a1\u200b\u4ee3\u8868\u200b\u6a21\u5f0f\u200b \uff08Business Delegate Pattern\uff09</li> <li>\u200b\u7ec4\u5408\u200b\u5b9e\u4f53\u200b\u6a21\u5f0f\u200b \uff08Composite Entity Pattern\uff09</li> <li>\u200b\u6570\u636e\u200b\u8bbf\u95ee\u200b\u5bf9\u8c61\u200b\u6a21\u5f0f\u200b \uff08Data Access Object Pattern\uff09</li> <li>\u200b\u524d\u7aef\u200b\u63a7\u5236\u5668\u200b\u6a21\u5f0f\u200b \uff08Front Controller Pattern\uff09</li> <li>\u200b\u62e6\u622a\u200b\u8fc7\u6ee4\u5668\u200b\u6a21\u5f0f\u200b \uff08Intercepting Filter Pattern\uff09</li> <li>\u200b\u670d\u52a1\u200b\u5b9a\u4f4d\u5668\u200b\u6a21\u5f0f\u200b \uff08Service Locator Pattern\uff09</li> <li>\u200b\u4f20\u8f93\u200b\u5bf9\u8c61\u200b\u6a21\u5f0f\u200b \uff08Transfer Object Pattern\uff09</li> </ul>","tags":["\u8bbe\u8ba1\u6a21\u5f0f"]},{"location":"codecore/design_patterns/object_oriented_principles/","title":"\u9762\u5411\u5bf9\u8c61\u200b\u7684\u200b\u4e94\u5927\u200b\u57fa\u672c\u200b\u539f\u5219","text":"","tags":["\u8bbe\u8ba1\u6a21\u5f0f"]},{"location":"codecore/design_patterns/object_oriented_principles/#1-srp","title":"1. \u200b\u5355\u4e00\u200b\u804c\u8d23\u200b\u539f\u5219\u200b\uff08SRP\uff09","text":"<p>\u200b\u5176\u200b\u6838\u5fc3\u601d\u60f3\u200b\u4e3a\u200b\uff1a\u200b\u4e00\u4e2a\u200b\u7c7b\u200b\uff0c\u200b\u6700\u597d\u200b\u53ea\u200b\u505a\u200b\u4e00\u4ef6\u200b\u4e8b\u200b\uff0c\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u5f15\u8d77\u200b\u5b83\u200b\u7684\u200b\u53d8\u5316\u200b\u3002 \u200b\u4e00\u4e2a\u200b\u7c7b\u200b\uff0c\u200b\u6700\u597d\u200b\u6709\u4e14\u200b\u4ec5\u200b\u6709\u200b\u4e00\u4e2a\u200b\u5f15\u8d77\u200b\u5b83\u200b\u53d8\u5316\u200b\u7684\u200b\u539f\u56e0\u200b\u3002 \u200b\u4e3e\u4e2a\u200b\u6817\u5b50\u200b\uff0c\u200b\u804c\u5458\u200b\u7c7b\u91cc\u200b\u5305\u62ec\u200b\u4e86\u200b\u666e\u901a\u5458\u5de5\u200b\u3001\u200b\u7ecf\u7406\u200b\u3001\u200b\u8001\u677f\u200b\uff0c\u200b\u90a3\u7c7b\u200b\u4e2d\u200b\u52bf\u5fc5\u200b\u9700\u8981\u200b\u7528\u200bif else\u200b\u6765\u200b\u533a\u5206\u200b\u5224\u65ad\u200b\uff0c\u200b\u800c\u4e14\u200b\u65e0\u8bba\u662f\u200b\u8fd9\u200b\u4e09\u79cd\u200b\u804c\u5458\u200b\u7684\u200b\u9700\u6c42\u200b\u53d1\u751f\u53d8\u5316\u200b\uff0c\u200b\u90fd\u200b\u4f1a\u200b\u5f71\u54cd\u200b\u5230\u200b\u6574\u4e2a\u200b\u804c\u5458\u200b\u7c7b\u200b\u3002 \u200b\u6309\u7167\u200b\u201c\u200b\u5355\u4e00\u200b\u804c\u8d23\u200b\u539f\u5219\u200b\u201d\uff0c\u200b\u5c06\u200b\u666e\u901a\u5458\u5de5\u200b\u3001\u200b\u7ecf\u7406\u200b\u3001\u200b\u8001\u677f\u200b\u5206\u522b\u200b\u5efa\u200b\u4e00\u4e2a\u200b\u7c7b\u200b\uff0c\u200b\u65e2\u200b\u4e0d\u7528\u200bif else\u200b\u52a0\u4ee5\u200b\u533a\u5206\u200b\uff0c\u200b\u4e5f\u200b\u4e0d\u4f1a\u200b\u5728\u200b\u4fee\u6539\u200b\u67d0\u4e2a\u200b\u804c\u5458\u200b\u7c7b\u522b\u200b\u7684\u200b\u65f6\u5019\u200b\u5f71\u54cd\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u3002</p>","tags":["\u8bbe\u8ba1\u6a21\u5f0f"]},{"location":"codecore/design_patterns/object_oriented_principles/#2-ocp","title":"2. \u200b\u5f00\u653e\u200b\u5c01\u95ed\u200b\u539f\u5219\u200b\uff08OCP\uff09","text":"<p>\u200b\u5176\u200b\u6838\u5fc3\u601d\u60f3\u200b\u662f\u200b\uff1a\u200b\u8f6f\u4ef6\u200b\u5b9e\u4f53\u200b\u5e94\u8be5\u200b\u662f\u200b\u53ef\u200b\u6269\u5c55\u200b\u7684\u200b\uff0c\u200b\u800c\u200b\u4e0d\u53ef\u200b\u4fee\u6539\u200b\u7684\u200b\u3002 \u200b\u4e00\u4e2a\u200b\u7c7b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6269\u5c55\u200b\uff08\u200b\u6dfb\u52a0\u200b\u5c5e\u6027\u200b\u548c\u200b\u529f\u80fd\u200b\uff09\uff0c\u200b\u4f46\u662f\u200b\u4e0d\u8981\u200b\u4fee\u6539\u200b\u5df2\u7ecf\u200b\u5199\u200b\u597d\u200b\u7684\u200b\u5c5e\u6027\u200b\u548c\u200b\u65b9\u6cd5\u200b\u3002 \u200b\u5b9e\u73b0\u200b\u5f00\u200b\u5f00\u653e\u200b\u5c01\u95ed\u200b\u539f\u5219\u200b\u7684\u200b\u6838\u5fc3\u601d\u60f3\u200b\u5c31\u662f\u200b\u5bf9\u200b\u62bd\u8c61\u200b\u7f16\u7a0b\u200b\uff0c\u200b\u800c\u200b\u4e0d\u200b\u5bf9\u200b\u5177\u4f53\u200b\u7f16\u7a0b\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u62bd\u8c61\u200b\u76f8\u5bf9\u200b\u7a33\u5b9a\u200b\u3002 \u200b\u6253\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u6bd4\u65b9\u200b\uff0cX\u200b\u7684\u200b\u5927\u8205\u200b\u4e8c\u8205\u200b\u90fd\u200b\u662f\u200b\u4ed6\u200b\u8205\u200b\uff0c\u200b\u662f\u200b\u6709\u200b\u8840\u7f18\u5173\u7cfb\u200b\u7684\u200b\u8205\u8205\u200b\uff0c\u200b\u5982\u679c\u200b\u7a81\u7136\u200b\u5192\u51fa\u6765\u200b\u4e00\u4e2a\u200b\u8ddf\u200b\u4ed6\u200b\u6709\u200b\u8840\u7f18\u5173\u7cfb\u200b\u7684\u200b\u4e09\u8205\u200b\uff0c\u200b\u90a3\u200b\u4e5f\u200b\u662f\u200b\u4ed6\u200b\u8205\u8205\u200b\u3002\u200b\u540c\u65f6\u200b\u4e5f\u200b\u4e0d\u80fd\u200b\u6539\u53d8\u200b\u4ed6\u200b\u5927\u8205\u200b\u548c\u200b\u4e8c\u8205\u200b\u7684\u200b\u4eb2\u7f18\u200b\u5173\u7cfb\u200b\u3002</p>","tags":["\u8bbe\u8ba1\u6a21\u5f0f"]},{"location":"codecore/design_patterns/object_oriented_principles/#3lsp","title":"3.\u200b\u91cc\u6c0f\u200b\u66ff\u6362\u200b\u539f\u5219\u200b\uff08LSP)","text":"<p>\u200b\u5176\u200b\u6838\u5fc3\u601d\u60f3\u200b\u662f\u200b\uff1a\u200b\u5b50\u7c7b\u200b\u5fc5\u987b\u200b\u80fd\u591f\u200b\u66ff\u6362\u200b\u5176\u200b\u57fa\u7c7b\u200b\u3002 \u200b\u7c7b\u200bA\u200b\u662f\u200b\u7c7b\u200bB\u200b\u7684\u200b\u7236\u7c7b\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5728\u200b\u8fdb\u884c\u200b\u8c03\u7528\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u7c7b\u200bA\u200b\u53ef\u4ee5\u200b\u5f15\u7528\u200b\u7c7b\u200bB\uff0c\u200b\u4f46\u662f\u200b\u53cd\u8fc7\u6765\u200b\u4e0d\u884c\u200b\u3002 \u200b\u5176\u5b9e\u200b\u53ef\u4ee5\u200b\u7c97\u7cd9\u200b\u5730\u200b\u7406\u89e3\u200b\u4e3a\u200b\uff0c\u200b\u7c7b\u200bA\u200b\u5c31\u662f\u200b\u5bf9\u5916\u200b\u63d0\u4f9b\u200b\u4e00\u4e2a\u200b\u63a5\u53e3\u200b\uff0c\u200b\u5177\u4f53\u200b\u7684\u200b\u5b9e\u73b0\u200b\u5728\u200b\u7c7b\u200bB\u200b\u4e2d\u200b\u3002 \u200b\u5b9e\u73b0\u200b\u7684\u200b\u65b9\u6cd5\u200b\u662f\u200b\u9762\u5411\u200b\u63a5\u53e3\u200b\u7f16\u7a0b\u200b\uff1a\u200b\u5c06\u200b\u516c\u5171\u200b\u90e8\u5206\u200b\u62bd\u8c61\u200b\u4e3a\u200b\u57fa\u7c7b\u200b\u63a5\u53e3\u200b\u6216\u200b\u62bd\u8c61\u7c7b\u200b\uff0c\u200b\u901a\u8fc7\u200bExtract Abstract Class\uff0c\u200b\u5728\u200b\u5b50\u7c7b\u200b\u4e2d\u200b\u901a\u8fc7\u200b\u8986\u5199\u200b\u7236\u7c7b\u200b\u7684\u200b\u65b9\u6cd5\u200b\u5b9e\u73b0\u200b\u65b0\u200b\u7684\u200b\u65b9\u5f0f\u200b\u652f\u6301\u200b\u540c\u6837\u200b\u7684\u200b\u804c\u8d23\u200b\u3002 \u200b\u4e5f\u5c31\u662f\u8bf4\u200b\uff0c\u200b\u5176\u5b9e\u200b\u91cc\u6c0f\u200b\u66ff\u6362\u200b\u539f\u5219\u200b\u662f\u200b\u7ee7\u627f\u200b\u548c\u200b\u591a\u6001\u200b\u7684\u200b\u7efc\u5408\u200b\u4f53\u73b0\u200b\u3002</p>","tags":["\u8bbe\u8ba1\u6a21\u5f0f"]},{"location":"codecore/design_patterns/object_oriented_principles/#4-dip","title":"4. \u200b\u4f9d\u8d56\u200b\u5012\u7f6e\u200b\u539f\u5219\u200b\uff08DIP)","text":"<p>\u200b\u5176\u200b\u6838\u5fc3\u601d\u60f3\u200b\u662f\u200b\uff1a\u200b\u4f9d\u8d56\u4e8e\u200b\u62bd\u8c61\u200b\u3002\u200b\u5177\u4f53\u200b\u800c\u8a00\u200b\u5c31\u662f\u200b\u9ad8\u5c42\u200b\u6a21\u5757\u200b\u4e0d\u200b\u4f9d\u8d56\u4e8e\u200b\u5e95\u5c42\u200b\u6a21\u5757\u200b\uff0c\u200b\u4e8c\u8005\u200b\u90fd\u200b\u540c\u200b\u4f9d\u8d56\u4e8e\u200b\u62bd\u8c61\u200b\uff1b\u200b\u62bd\u8c61\u200b\u4e0d\u200b\u4f9d\u8d56\u4e8e\u200b\u5177\u4f53\u200b\uff0c\u200b\u5177\u4f53\u200b\u4f9d\u8d56\u4e8e\u200b\u62bd\u8c61\u200b\u3002 \u200b\u5728\u200b\u5bf9\u200b\u5ba2\u89c2\u4e8b\u7269\u200b\u62bd\u8c61\u200b\u6210\u200b\u903b\u8f91\u200b\u5b9e\u4f53\u200b\u65f6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5148\u200b\u601d\u8003\u200b\uff0c\u200b\u540c\u7c7b\u200b\u4e8b\u7269\u200b\u7684\u200b\u5171\u6027\u200b\u662f\u200b\u4ec0\u4e48\u200b\uff0c\u200b\u5c06\u200b\u8fd9\u4e2a\u200b\u5171\u6027\u200b\u4f5c\u4e3a\u200b\u8fd9\u200b\u7c7b\u200b\u4e8b\u7269\u200b\u7684\u200b\u201c\u200b\u9ad8\u5c42\u200b\u6a21\u5757\u200b\u201d\uff0c\u200b\u82e5\u5e72\u200b\u4e0d\u540c\u200b\u7684\u200b\u5ba2\u89c2\u4e8b\u7269\u200b\u4f5c\u4e3a\u200b\u201c\u200b\u5e95\u5c42\u200b\u6a21\u5757\u200b\u201d\u200b\u5728\u200b\u4f9d\u8d56\u200b\u201d\u200b\u9ad8\u5c42\u200b\u201c\u200b\u4e4b\u540e\u200b\uff0c\u200b\u5bf9\u200b\u5171\u6027\u200b\u8fdb\u884c\u200b\u7279\u5b9a\u200b\u63cf\u8ff0\u200b\u3002 \u200b\u4e3e\u4e2a\u200b\u6817\u5b50\u200b\uff0c\u200b\u82f9\u679c\u200b\u8ddf\u200b\u897f\u74dc\u200b\u90fd\u200b\u662f\u200b\u6c34\u679c\u200b\uff0c\u200b\u6c34\u679c\u200b\u7684\u200b\u5171\u540c\u200b\u5c5e\u6027\u200b\u662f\u200b\u6c34\u5206\u200b\u3001\u200b\u7cd6\u5206\u200b\u3002\u200b\u5728\u200b\u8fd9\u91cc\u200b\uff0c\u201d\u200b\u6c34\u679c\u200b\u201c\u200b\u4f5c\u4e3a\u200b\u9ad8\u5c42\u200b\u6a21\u5757\u200b\uff0c\u200b\u5176\u200b\u5c5e\u6027\u200b\u53ef\u4ee5\u200b\u5728\u200b\u63cf\u8ff0\u200b\u201c\u200b\u82f9\u679c\u200b\u201d\u200b\u548c\u200b\u201c\u200b\u897f\u74dc\u200b\u201d\u200b\u7684\u200b\u65f6\u5019\u200b\u4f7f\u7528\u200b\uff0c\u200b\u6240\u4ee5\u200b\u201c\u200b\u82f9\u679c\u200b\u201d\u201c\u200b\u897f\u74dc\u200b\u201d\u200b\u5728\u200b\u6b64\u200b\u662f\u200b\u201c\u200b\u5e95\u5c42\u200b\u6a21\u5757\u200b\u201d\u3002</p>","tags":["\u8bbe\u8ba1\u6a21\u5f0f"]},{"location":"codecore/design_patterns/object_oriented_principles/#5","title":"5. \u200b\u63a5\u53e3\u9694\u79bb\u200b\u539f\u5219","text":"<p>\u200b\u5176\u200b\u6838\u5fc3\u601d\u60f3\u200b\u662f\u200b\uff1a\u200b\u4f7f\u7528\u200b\u591a\u4e2a\u200b\u5c0f\u200b\u7684\u200b\u4e13\u95e8\u200b\u7684\u200b\u63a5\u53e3\u200b\uff0c\u200b\u800c\u200b\u4e0d\u8981\u200b\u4f7f\u7528\u200b\u4e00\u4e2a\u200b\u5927\u200b\u7684\u200b\u603b\u200b\u63a5\u53e3\u200b\u3002 \u200b\u63a5\u53e3\u200b\u4e2d\u200b\u5b9a\u4e49\u200b\u5c5e\u6027\u200b\u548c\u200b\u9700\u8981\u200b\u5b50\u7c7b\u200b\u5b9e\u73b0\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u7c7b\u200b\u5fc5\u987b\u200b\u5b8c\u5168\u200b\u5b9e\u73b0\u200b\u63a5\u53e3\u200b\u7684\u200b\u6240\u6709\u200b\u65b9\u6cd5\u200b\u3001\u200b\u5c5e\u6027\u200b\u3002\u200b\u4e3a\u4ec0\u4e48\u200b\u8981\u200b\u63a5\u53e3\u9694\u79bb\u200b\u5462\u200b\uff1f\u200b\u76ee\u7684\u200b\u6709\u200b\u4e8c\u200b\uff1a</p> <ul> <li>\u200b\u907f\u514d\u200b\u5f15\u7528\u200b\u63a5\u53e3\u200b\u7684\u200b\u7c7b\u200b\uff0c\u200b\u9700\u8981\u200b\u5b9e\u73b0\u200b\u5176\u5b9e\u200b\u7528\u200b\u4e0d\u5230\u200b\u7684\u200b\u63a5\u53e3\u200b\u65b9\u6cd5\u200b\u3001\u200b\u5c5e\u6027\u200b\u3002</li> <li>\u200b\u907f\u514d\u200b\u5f53\u200b\u63a5\u53e3\u200b\u4fee\u6539\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u6709\u200b\u4e00\u8fde\u4e32\u200b\u7684\u200b\u5b9e\u73b0\u200b\u7c7b\u200b\u9700\u8981\u200b\u66f4\u6539\u200b\u3002</li> </ul> <p>\u200b\u5206\u79bb\u200b\u7684\u200b\u624b\u6bb5\u200b\u4e3b\u8981\u200b\u6709\u200b\u4ee5\u4e0b\u200b\u4e24\u79cd\u200b\uff1a1\u3001\u200b\u59d4\u6258\u200b\u5206\u79bb\u200b\uff0c\u200b\u901a\u8fc7\u200b\u589e\u52a0\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u7c7b\u578b\u200b\u6765\u200b\u59d4\u6258\u200b\u5ba2\u6237\u200b\u7684\u200b\u8bf7\u6c42\u200b\uff0c\u200b\u9694\u79bb\u200b\u5ba2\u6237\u200b\u548c\u200b\u63a5\u53e3\u200b\u7684\u200b\u76f4\u63a5\u200b\u4f9d\u8d56\u200b\uff0c\u200b\u4f46\u662f\u200b\u4f1a\u200b\u589e\u52a0\u200b\u7cfb\u7edf\u200b\u7684\u200b\u5f00\u9500\u200b\u30022\u3001\u200b\u591a\u91cd\u200b\u7ee7\u627f\u200b\u5206\u79bb\u200b\uff0c\u200b\u901a\u8fc7\u200b\u63a5\u53e3\u200b\u591a\u200b\u7ee7\u627f\u200b\u6765\u200b\u5b9e\u73b0\u200b\u5ba2\u6237\u200b\u7684\u200b\u9700\u6c42\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\u662f\u200b\u8f83\u200b\u597d\u200b\u7684\u200b\u3002</p> <ul> <li>\u200b\u59d4\u6258\u200b\u5206\u79bb\u200b\uff0c\u200b\u4e0d\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b\u539f\u5148\u200b\u7684\u200b\u63a5\u53e3\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b\u53e6\u5916\u200b\u589e\u52a0\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u63a5\u53e3\u200b\u6216\u7c7b\u200b\u6765\u200b\u5b9e\u73b0\u9700\u6c42\u200b\u3002</li> <li>\u200b\u591a\u91cd\u200b\u7ee7\u627f\u200b\u5206\u79bb\u200b\uff0cJDK\u200b\u6e90\u7801\u200b\u3001Spring\u200b\u6846\u67b6\u200b\u4f7f\u7528\u200b\u4e86\u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u540e\u7eed\u200b\u7684\u200bJDK\u200b\u6e90\u7801\u200b\u89e3\u6790\u200b\u7cfb\u5217\u200b\u4f1a\u200b\u63d0\u53ca\u200b\uff0c\u200b\u597d\u5947\u200b\u7684\u200b\u670b\u53cb\u200b\u53ef\u4ee5\u200b\u67e5\u770b\u200b\u96c6\u5408\u200b\u7c7b\u200b\u7684\u200b\u7ed3\u6784\u200b\u3002</li> </ul>","tags":["\u8bbe\u8ba1\u6a21\u5f0f"]},{"location":"python/python_core/coding_standard/","title":"Python \u200b\u7f16\u7801\u200b\u89c4\u8303","text":"<p>\u200b\u6211\u200b\u6709\u200b\u4e00\u4e2a\u200b\u68a6\u60f3\u200b\uff0c\u200b\u6211\u200b\u5199\u200b\u7684\u200b\u4ee3\u7801\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u50cf\u200b\u8bd7\u6b4c\u200b\u4e00\u6837\u200b\u4f18\u7f8e\u200b\u3002\u200b\u6211\u200b\u6709\u200b\u4e00\u4e2a\u200b\u68a6\u60f3\u200b\uff0c\u200b\u6211\u200b\u505a\u200b\u7684\u200b\u8bbe\u8ba1\u200b\uff0c\u200b\u80fd\u200b\u6070\u5230\u597d\u5904\u200b\uff0c\u200b\u65e2\u200b\u4e0d\u200b\u8fc7\u5ea6\u200b\uff0c\u200b\u4e5f\u200b\u65e0\u200b\u4e0d\u8db3\u200b\u3002\u200b\u8fd9\u79cd\u200b\u5e26\u6709\u200b\u4e00\u70b9\u200b\u6d01\u7656\u200b\u7684\u200b\u5b8c\u7f8e\u4e3b\u4e49\u200b\u5c31\u200b\u50cf\u200b\u4e00\u628a\u200b\u8fbe\u6469\u200b\u514b\u5229\u65af\u200b\u4e4b\u5251\u200b\uff0c\u200b\u65f6\u523b\u200b\u63d0\u9192\u200b\u6211\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u5c06\u200b\u5c31\u200b\u3001\u200b\u4e0d\u80fd\u200b\u59a5\u534f\u200b\u3002   ---\u200b\u6458\u81ea\u200b\u300a\u200b\u4ee3\u7801\u200b\u7cbe\u8fdb\u200b\u4e4b\u200b\u8def\u200b\uff1a\u200b\u4ece\u7801\u200b\u519c\u5230\u200b\u5de5\u5320\u200b\u300b</p>","tags":["Python"]},{"location":"python/python_core/coding_standard/#python","title":"Python\u200b\u4e4b\u7985","text":"<pre><code>In [1]: import this\nThe Zen of Python, by Tim Peters\n\nBeautiful is better than ugly.\nExplicit is better than implicit.\nSimple is better than complex.\nComplex is better than complicated.\nFlat is better than nested.\nSparse is better than dense.\nReadability counts.\nSpecial cases aren't special enough to break the rules.\nAlthough practicality beats purity.\nErrors should never pass silently.\nUnless explicitly silenced.\nIn the face of ambiguity, refuse the temptation to guess.\nThere should be one-- and preferably only one --obvious way to do it.\nAlthough that way may not be obvious at first unless you're Dutch.\nNow is better than never.\nAlthough never is often better than *right* now.\nIf the implementation is hard to explain, it's a bad idea.\nIf the implementation is easy to explain, it may be a good idea.\nNamespaces are one honking great idea -- let's do more of those!\n</code></pre> <p>\u200b\u6211\u4eec\u200b\u4e5f\u8bb8\u200b\u90fd\u200b\u77e5\u9053\u200b\uff0c\u200b\u597d\u200b\u7684\u200b\u53d8\u91cf\u200b\u547d\u540d\u200b\u548c\u200b\u6ce8\u91ca\u200b\u5e76\u200b\u4e0d\u662f\u200b\u4e3a\u200b\u8ba1\u7b97\u673a\u200b\u800c\u200b\u5199\u200b\uff0c\u200b\u800c\u662f\u200b\u4e3a\u200b\u9605\u8bfb\u8005\u200b\u6216\u200b\u7ef4\u62a4\u8005\u200b\u800c\u200b\u5199\u200b\u3002\u200b\u90a3\u4e48\u200b\u6bcf\u79cd\u200b\u7f16\u7a0b\u8bed\u8a00\u200b\u90fd\u200b\u6709\u200b\u5176\u200b\u7279\u5b9a\u200b\u7684\u200b\u7f16\u7a0b\u200b\u89c4\u8303\u200b\u548c\u200b\u6700\u4f73\u200b\u5b9e\u8df5\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4e0b\u9762\u200b\u5f00\u59cb\u200b\u4ecb\u7ecd\u200b\u4e00\u4e0b\u200b\u518d\u200bPython\u200b\u7f16\u7a0b\u200b\u5e94\u7528\u200b\u4e2d\u200b\u4e2a\u4eba\u200b\u8ba4\u4e3a\u200b\u6bd4\u8f83\u200b\u597d\u200b\u7684\u200b\u5b9e\u8df5\u200b\u89c4\u8303\u200b\uff1a</p>","tags":["Python"]},{"location":"python/python_core/coding_standard/#_1","title":"\u53d8\u91cf\u200b\u547d\u540d\u200b\uff1a","text":"<p>\u200b\u5173\u4e8e\u200b\u53d8\u91cf\u200b\u7684\u200b\u547d\u540d\u200b\uff0c\u200b\u5728\u200b\u70ed\u95e8\u200b\u7684\u200b\u7f16\u7a0b\u8bed\u8a00\u200b\u4e2d\u200b\uff0c\u200b\u4e3b\u8981\u200b\u5206\u4e3a\u200b\u9a7c\u5cf0\u200b\u547d\u540d\u200b\u6d3e\u200b\uff08CameCase\uff09\u200b\u548c\u200b\u86c7\u5f62\u200b\u547d\u540d\u200b\u6d3e\u200b\uff08snake_case\uff09\uff0c\u200b\u800c\u200b\u5728\u200bPython\u200b\u4e2d\u200b\uff0c\u200b\u8fd9\u200b\u4e24\u79cd\u200b\u65b9\u5f0f\u200b\u5176\u5b9e\u200b\u5728\u200b\u4e0d\u540c\u200b\u7684\u200b\u573a\u666f\u200b\u4e2d\u200b\u5e94\u7528\u200b\u90fd\u200b\u6bd4\u8f83\u200b\u9891\u7e41\u200b\uff0c\u200b\u9a7c\u5cf0\u200b\u547d\u540d\u200b\u4e3b\u8981\u200b\u5e94\u7528\u200b\u5728\u200b\u7c7b\u540d\u200b\u7684\u200b\u5b9a\u4e49\u200b\u4e0a\u200b\uff0c\u200b\u5176\u4ed6\u200b\u573a\u666f\u200b\u7edd\u5927\u90e8\u5206\u200b\u90fd\u200b\u662f\u200b\u4f7f\u7528\u200b\u86c7\u5f62\u200b\u547d\u540d\u200b\uff0c\u200b\u5982\u200b\uff1a</p> <ul> <li>\u200b\u666e\u901a\u200b\u53d8\u91cf\u540d\u200b\uff1a\u200b\u53d8\u91cf\u540d\u200b\uff0c\u200b\u8981\u200b\u5168\u90e8\u200b\u5c0f\u5199\u200b\uff0c\u200b\u591a\u4e2a\u200b\u8bcd\u200b\u901a\u8fc7\u200b\u4e0b\u5212\u7ebf\u200b\u8fde\u63a5\u200b,\u200b\u5373\u200b\u86c7\u5f62\u200b\u547d\u540d\u200b\uff1b</li> <li>\u200b\u5e38\u91cf\u200b\u540d\u200b\uff1a\u200b\u8981\u200b\u5168\u90e8\u200b\u5927\u5199\u200b\uff0c\u200b\u591a\u4e2a\u200b\u8bcd\u200b\u901a\u8fc7\u200b\u4e0b\u5212\u7ebf\u200b\u8fde\u63a5\u200b\uff1b</li> <li>\u200b\u51fd\u6570\u200b(\u200b\u6216\u200b\u65b9\u6cd5\u200b)\u200b\u540d\u200b\uff1a\u200b\u8981\u200b\u5168\u90e8\u200b\u5c0f\u5199\u200b\uff0c\u200b\u591a\u4e2a\u200b\u8bcd\u200b\u901a\u8fc7\u200b\u4e0b\u5212\u7ebf\u200b\u8fde\u63a5\u200b\uff1b</li> <li>\u200b\u7c7b\u540d\u200b\uff1a\u200b\u8981\u200b\u4ee5\u200b\u9a7c\u5cf0\u200b\u5f62\u5f0f\u200b\u547d\u540d\u200b\uff0c\u200b\u5373\u200b\u5355\u8bcd\u200b\u9996\u5b57\u6bcd\u200b\u5927\u5199\u200b\uff0c\u200b\u591a\u4e2a\u200b\u8bcd\u200b\u7684\u8bdd\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u8bcd\u200b\u9996\u5b57\u6bcd\u200b\u5927\u5199\u200b\u7136\u540e\u200b\u76f4\u63a5\u200b\u62fc\u63a5\u200b;</li> <li>\u200b\u7c7b\u200b\u7684\u200b\u79c1\u6709\u200b\u53d8\u91cf\u540d\u200b: \u200b\u53d8\u91cf\u540d\u200b\u524d\u200b\u9700\u8981\u200b\u52a0\u200b2\u200b\u4e2a\u200b\u4e0b\u5212\u7ebf\u200b\uff1b</li> </ul> <p>\u200b\u6700\u4f73\u200b\u5b9e\u8df5\u200b\uff1a</p> <ul> <li>\u200b\u547d\u540d\u200b\u9700\u8981\u200b\u505a\u5230\u200b\u540d\u5982\u200b\u5176\u610f\u200b\uff0c\u200b\u4e0d\u8981\u200b\u541d\u556c\u200b\u540d\u5b57\u200b\u7684\u200b\u957f\u5ea6\u200b;</li> <li>\u200b\u5f53\u200b\u547d\u540d\u200b\u4e0e\u200b\u5173\u952e\u5b57\u200b\u51b2\u7a81\u200b\u65f6\u200b\uff0c\u200b\u5728\u200b\u53d8\u91cf\u200b\u672b\u5c3e\u200b\u52a0\u200b\u4e0b\u5212\u7ebf\u200b\uff0c\u200b\u6bd4\u5982\u200b\uff1aclass_;</li> <li>\u200b\u9075\u5faa\u200bPEP 8\u200b\u539f\u5219\u200b\uff08Python\u200b\u5b98\u65b9\u200b\u5236\u5b9a\u200b\u7684\u200b\u7f16\u7801\u200b\u98ce\u683c\u200b\u6307\u5357\u200b\u548c\u200b\u5efa\u8bae\u200b\uff09\uff1b</li> <li>\u200b\u53d8\u91cf\u200b\u7684\u200b\u63cf\u8ff0\u6027\u200b\u8981\u5f3a\u200b\uff0c\u200b\u6bd4\u5982\u200b\uff1a\u200b\u51ac\u5929\u200b\u7684\u200b\u6885\u82b1\u200b\u6bd4\u82b1\u200b\u7684\u200b\u63cf\u8ff0\u6027\u200b\u66f4\u5f3a\u200b\uff1b</li> <li>\u200b\u53d8\u91cf\u540d\u200b\u8981\u200b\u5c3d\u91cf\u200b\u77ed\u200b\uff0c\u200b\u6700\u597d\u200b\u4e0d\u8981\u200b\u8d85\u8fc7\u200b4\u200b\u4e2a\u200b\u5355\u8bcd\u200b\uff1b</li> <li>\u200b\u547d\u540d\u200b\u65f6\u200b\u5efa\u8bae\u200b\u8981\u200b\u8003\u8651\u200b\u5339\u914d\u200b\u7c7b\u578b\u200b\uff1b </li> </ul> Type Public Internal Modules lower_with_under _lower_with_under Packages lower_with_under Classes CapWords _CapWords Exceptions CapWords Functions lower_with_under() _lower_with_under() Global/Class Constants CAPS_WITH_UNDER _CAPS_WITH_UNDER Global/Class Variables lower_with_under _lower_with_under Instance Variables lower_with_under _lower_with_under (protected) or __lower_with_under (private) Method Names lower_with_under() _lower_with_under() (protected) or __lower_with_under() (private) Function/Method Parameters lower_with_under Local Variables lower_with_under <ul> <li>\u200b\u5b9e\u8df5\u200b</li> </ul> <pre><code># bad\n# \u200b\u63cf\u8ff0\u6027\u200b\u5f31\u200b\u7684\u200b\u540d\u5b57\u200b\uff0c\u200b\u770b\u4e0d\u61c2\u200b\u5728\u200b\u505a\u200b\u4ec0\u4e48\u200b\nvalue = process(s.strip())\n\n# good\n# \u200b\u63cf\u8ff0\u6027\u200b\u5f3a\u200b\u7684\u200b\u540d\u5b57\u200b\uff0c\u200b\u5c1d\u8bd5\u200b\u4ece\u200b\u7528\u6237\u200b\u8f93\u5165\u200b\u91cc\u200b\u89e3\u6790\u200b\u4e00\u4e2a\u200b\u7528\u6237\u540d\u200b\nusername = extract_username(input_string.strip())\n\n\n# \u200b\u7531\u4e8e\u200b\u63cf\u8ff0\u6027\u200b\u5f3a\u200b\u7684\u200b\u5efa\u8bae\u200b\uff0c\u200b\u5f80\u5f80\u200b\u4f1a\u200b\u8ba9\u200b\u5f00\u53d1\u8005\u200b\u8ba4\u4e3a\u200b\u53ea\u6709\u200b\u53d8\u91cf\u540d\u200b\u8d8a\u957f\u200b\uff0c\u200b\u63cf\u8ff0\u6027\u200b\u624d\u200b\u4f1a\u200b\u66f4\u200b\u5f3a\u200b\uff0c\u200b\u5176\u5b9e\u4e0d\u7136\u200b\n# bad \ndef upgrade_to_level3(user):\n    \"\"\u201c\u200b\u5982\u679c\u200b\u79ef\u5206\u200b\u6ee1\u8db3\u8981\u6c42\u200b\uff0c\u200b\u5c06\u200b\u7528\u6237\u200b\u5347\u7ea7\u200b\u5230\u200b\u7ea7\u522b\u200b3\"\"\"\n    how_many_points_needed_for_user_level3 = get_level_points(3)\n    if user.points &gt;= how_many_points_needed_for_user_level3:\n        upgrade(user)\n    else:\n        raise Error(f\"\u200b\u79ef\u5206\u200b\u4e0d\u591f\u200b\uff0c\u200b\u5fc5\u987b\u200b\u8981\u200b{how_xxxxxxx}\u200b\u5206\u200b\")\n\n# good\ndef upgrade_to_level3(user):\n    \"\"\u201c\u200b\u5982\u679c\u200b\u79ef\u5206\u200b\u6ee1\u8db3\u8981\u6c42\u200b\uff0c\u200b\u5c06\u200b\u7528\u6237\u200b\u5347\u7ea7\u200b\u5230\u200b\u7ea7\u522b\u200b3\"\"\"\n    level3_points = get_level_points(3)\n    if user.points &gt;= level3_points:\n        upgrade(user)\nelse:\n    raise Error(f\"\u200b\u79ef\u5206\u200b\u4e0d\u591f\u200b\uff0c\u200b\u5fc5\u987b\u200b\u8981\u200b{level3_points}\u200b\u5206\u200b\")\n\n\n# \u200b\u8bf4\u660e\u200b\uff1a\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u51fd\u6570\u200b\u540d\u200b\u548c\u200b\u6587\u6863\u200b\u5df2\u7ecf\u200b\u77e5\u9053\u200b\u51fd\u6570\u200b\u7684\u200b\u4f5c\u7528\u200b\u548c\u200b\u529f\u80fd\u200b\uff1b\n#     \u200b\u6587\u6863\u200b\u8868\u660e\u200b\u4e86\u200b\u5176\u200b\u76ee\u7684\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5728\u200b\u51fd\u6570\u200b\u5185\u90e8\u200b\uff0c\u200b\u5b8c\u5168\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u53d8\u91cf\u200b\u6539\u4e3a\u200blevel3_points\n# \u200b\u8bc0\u7a8d\u200b\uff1a\u200b\u7ed3\u5408\u200b\u4ee3\u7801\u200b\u60c5\u666f\u200b\u548c\u200b\u4e0a\u4e0b\u6587\u200b\u4e3a\u200b\u53d8\u91cf\u200b\u8fdb\u884c\u200b\u547d\u540d\u200b\uff1b\n\n\n# \u200b\u914d\u5408\u200b\u5e03\u5c14\u503c\u200b\u7c7b\u578b\u200b\u7684\u200b\u53d8\u91cf\u540d\u200b\nis_superuser\nhas_errors\nallow_enmpy\n\n# \u200b\u5339\u914d\u200bint/float\u200b\u7c7b\u578b\u200b\u7684\u200b\u53d8\u91cf\u540d\u200b\n## \u200b\u91ca\u4e49\u200b\u4e3a\u200b\u6570\u5b57\u200b\u7684\u200b\u6240\u6709\u200b\u5355\u8bcd\u200b\uff1aport(\u200b\u7aef\u53e3\u53f7\u200b)\u3001age(\u200b\u5e74\u9f84\u200b)\n## \u200b\u4f7f\u7528\u200b_id\u200b\u7ed3\u5c3e\u200b\u7684\u200b\u5355\u8bcd\u200b\uff1auser_id, host_id,\n## \u200b\u4f7f\u7528\u200b\u4ee5\u200blength/count\u200b\u5f00\u5934\u200b\u6216\u200b\u7ed3\u5c3e\u200b\u7684\u200b\u5355\u8bcd\u200b\uff1alength_of_usernmae\u3001max_length\u3001users_count\n\n## \u200b\u4e0d\u200b\u5efa\u8bae\u200b\u62ff\u200b\u4e00\u4e2a\u200b\u540d\u8bcd\u200b\u7684\u200b\u590d\u6570\u200b\u5f62\u5f0f\u200b\u4f5c\u4e3a\u200bint\u200b\u7c7b\u578b\u200b\u7684\u200b\u53d8\u91cf\u540d\u200b\uff1b\n### apples\u3001trips,\u200b\u56e0\u4e3a\u200b\u8fd9\u200b\u7c7b\u200b\u540d\u5b57\u200b\u5bb9\u6613\u200b\u88c5\u7740\u200b\u666e\u901a\u200b\u5bb9\u5668\u200b\u5bf9\u8c61\u200bList[Apple]\u3001List[Trip],\u200b\u5efa\u8bae\u200b\u4f7f\u7528\u200bnumber_of_apples\u200b\u6216\u200b trips_count\u200b\u8fdb\u884c\u200b\u8868\u793a\u200b\n</code></pre>","tags":["Python"]},{"location":"python/python_core/coding_standard/#_2","title":"\u5bfc\u5305\u200b\u89c4\u8303","text":"<p>\u200b\u5728\u5bfc\u200b\u5305\u65f6\u200b\uff0c\u200b\u5bfc\u5165\u200b\u7684\u200b\u5185\u5bb9\u200b\u603b\u200b\u5e94\u8be5\u200b\u653e\u5728\u200b\u6587\u4ef6\u200b\u9876\u90e8\u200b, \u200b\u4f4d\u4e8e\u200b\u6a21\u5757\u200b\u6ce8\u91ca\u200b\u548c\u200b\u6587\u6863\u200b\u5b57\u7b26\u4e32\u200b\u4e4b\u540e\u200b,\u200b\u6a21\u5757\u200b\u5168\u5c40\u53d8\u91cf\u200b\u548c\u200b\u5e38\u91cf\u200b\u4e4b\u524d\u200b. \u200b\u5bfc\u5165\u200b\u5e94\u8be5\u200b\u6309\u7167\u200b\u4ece\u200b\u6700\u200b\u901a\u7528\u200b\u5230\u200b\u6700\u200b\u4e0d\u200b\u901a\u7528\u200b\u7684\u200b\u987a\u5e8f\u200b\u5206\u7ec4\u200b: </p> <ol> <li>\u200b\u6807\u51c6\u200b\u5e93\u200b\u5bfc\u5165\u200b</li> <li>\u200b\u7b2c\u4e09\u65b9\u200b\u5e93\u200b\u5bfc\u5165\u200b</li> <li>\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u6307\u5b9a\u200b\u5bfc\u5165\u200b</li> </ol> <p>\u200b\u6700\u4f73\u200b\u5b9e\u8df5\u200b\uff1a</p> <ul> <li>\u200b\u5f53\u200b\u4f7f\u7528\u200b import xxx\u200b\u65f6\u200b\uff0c \u200b\u901a\u5e38\u200b\u5efa\u8bae\u200b\u6bcf\u884c\u200bimport\u200b\u53ea\u200b\u5bfc\u5165\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b\uff1b</li> <li>\u200b\u5f53\u200b\u4f7f\u7528\u200bfrom xxx import xxx\u200b\u65f6\u200b\uff0cimport\u200b\u540e\u9762\u200b\u8ddf\u7740\u200b\u7684\u200b\u5bf9\u8c61\u200b\u8981\u662f\u200b\u4e00\u4e2a\u200bpackage(\u200b\u5305\u200b\u5bf9\u5e94\u200b\u4ee3\u7801\u200b\u76ee\u5f55\u200b)\u200b\u6216\u8005\u200bmodule(\u200b\u6a21\u5757\u200b\u5bf9\u5e94\u200b\u4ee3\u7801\u200b\u6587\u4ef6\u200b)\uff0c\u200b\u4e0d\u8981\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7c7b\u200b\u6216\u8005\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b\uff0c</li> <li>\u200b\u5f53\u200b\u4f7f\u7528\u200bfrom xxx import xxx\u200b\u65f6\u200b\uff0c\u200b\u539f\u5219\u4e0a\u200b\u5efa\u8bae\u200b\u4e00\u884c\u200b\u5bfc\u5165\u200b\u4e00\u4e2a\u5305\u200b\uff0c\u200b\u82e5\u200b\u5b9e\u5728\u200b\u60f3\u8981\u200b\u5728\u200b\u4e00\u884c\u200b\u5bfc\u5165\u200b\u591a\u4e2a\u200b\u5305\u200b\uff0c\u200b\u5efa\u8bae\u200b\u4f7f\u7528\u200b\uff08\uff09\u200b\u62ec\u53f7\u200b\u62ec\u200b\u8d77\u6765\u200b\uff1b</li> <li>\u200b\u5f53\u200b\u5bfc\u5165\u200b\u7684\u200b\u5305\u540d\u200b\u8f83\u200b\u957f\u65f6\u200b\uff0c\u200b\u5efa\u8bae\u200b\u4f7f\u7528\u200bas \u200b\u8fdb\u884c\u200b\u5c40\u90e8\u200b\u91cd\u547d\u540d\u200b\uff1b</li> <li>\u200b\u5728\u200b\u5de5\u7a0b\u200b\u5f00\u53d1\u200b\u4e0a\u200b\uff0c\u200b\u5efa\u8bae\u200b\u5f15\u5165\u200b\u683c\u5f0f\u5316\u200b\u5de5\u5177\u200b\u8fdb\u884c\u200b\u4f18\u5316\u200b\uff0c\u200b\u5982\u200bisort\u3001black;</li> </ul> <pre><code>import foo\n\nfrom foo import bar\nfrom foo.bar import baz\nfrom foo.bar import Quux\n\nfrom foo.bar import (baz,Quux)\nfrom Foob import ar\n\nimport pandas as pd\n</code></pre>","tags":["Python"]},{"location":"python/python_core/coding_standard/#_3","title":"\u6ce8\u91ca\u200b\u89c4\u8303\u200b\uff1a","text":"<p>\u200b\u5728\u200bPython\u200b\u4e2d\u200b,\u200b\u5355\u884c\u200b\u6ce8\u91ca\u200b\u4e3b\u8981\u200b\u4ee5\u200b#\u200b\u5f00\u5934\u200b\uff0c\u200b\u591a\u884c\u200b\u6ce8\u91ca\u200b\u6216\u200b\u6587\u6863\u200b\u6ce8\u91ca\u200b\u901a\u5e38\u200b\u4f7f\u7528\u200b\u4e09\u8fde\u200b\u5b57\u7b26\u4e32\u200b\u8fdb\u884c\u200b\u6ce8\u91ca\u200b\uff0c</p> <ul> <li>\u200b\u4ee3\u7801\u200b\u5757\u200b\u6ce8\u91ca\u200b\uff0c\u200b\u5728\u200b\u4ee3\u7801\u200b\u5757\u200b\u4e0a\u200b\u4e00\u884c\u200b\u7684\u200b\u76f8\u540c\u200b\u7f29\u8fdb\u200b\u5904\u4ee5\u200b # \u200b\u5f00\u59cb\u200b\u4e66\u5199\u200b\u6ce8\u91ca\u200b\uff1b\u200b\u4ee3\u7801\u200b\u5757\u200b\u6ce8\u91ca\u200b\u6700\u200b\u9700\u8981\u200b\u5199\u200b\u6ce8\u91ca\u200b\u7684\u200b\u5730\u65b9\u200b\u662f\u200b\u4ee3\u7801\u200b\u4e2d\u200b\u90a3\u4e9b\u200b\u6280\u5de7\u6027\u200b\u7684\u200b\u90e8\u5206\u200b\uff1b\u200b\u5bf9\u4e8e\u200b\u590d\u6742\u200b\u7684\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5e94\u8be5\u200b\u5728\u200b\u5176\u200b\u64cd\u4f5c\u200b\u5f00\u59cb\u200b\u4e4b\u524d\u200b\u5199\u200b\u4e0a\u200b\u82e5\u5e72\u200b\u884c\u200b\u6ce8\u91ca\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u4e0d\u662f\u200b\u4e00\u76ee\u4e86\u7136\u200b\u7684\u200b\u4ee3\u7801\u200b\uff0c\u200b\u5e94\u8be5\u200b\u5728\u200b\u5176\u200b\u884c\u5c3e\u200b\u6dfb\u52a0\u200b\u6ce8\u91ca\u200b\uff1b</li> <li>\u200b\u4ee3\u7801\u200b\u884c\u200b\u6ce8\u91ca\u200b\uff0c\u200b\u5728\u200b\u4ee3\u7801\u200b\u884c\u200b\u7684\u200b\u5c3e\u90e8\u200b\u8ddf\u200b2\u200b\u4e2a\u200b\u7a7a\u683c\u200b\uff0c\u200b\u7136\u540e\u200b\u4ee5\u200b # \u200b\u5f00\u59cb\u200b\u4e66\u5199\u200b\u6ce8\u91ca\u200b\uff0c\u200b\u884c\u200b\u6ce8\u91ca\u200b\u5c3d\u91cf\u5c11\u200b\u5199\u200b\uff1b</li> <li>TODO\u200b\u6ce8\u91ca\u200b\u5e94\u8be5\u200b\u5728\u200b\u6240\u6709\u200b\u5f00\u5934\u200b\u5904\u200b\u5305\u542b\u200b\u201cTODO\u201d\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u7d27\u8ddf\u7740\u200b\u7528\u200b\u62ec\u53f7\u200b\u62ec\u200b\u8d77\u6765\u200b\u4f60\u200b\u7684\u200b\u540d\u5b57\u200b\uff0cemail\u200b\u5730\u5740\u200b\u6216\u200b\u5176\u4ed6\u200b\u6807\u8bc6\u7b26\u200b\uff0c\u200b\u7136\u540e\u200b\u662f\u200b\u4e00\u4e2a\u200b\u53ef\u9009\u200b\u7684\u200b\u5192\u53f7\u200b\uff1b</li> <li>\u200b\u5bf9\u4e8e\u200bTODO\u200b\u6ce8\u91ca\u200b\u7684\u200b\u76ee\u7684\u200b\u662f\u200b\u7528\u6765\u200b\u8868\u793a\u200b\u201c\u200b\u5c06\u6765\u200b\u505a\u200b\u67d0\u4ef6\u4e8b\u200b\u201d\uff0c\u200b\u5efa\u8bae\u200b\u6dfb\u52a0\u200b\u6307\u5b9a\u200b\u7684\u200b\u65e5\u671f\u200b\uff1b</li> <li>\u200b\u82f1\u6587\u200b\u6ce8\u91ca\u200b\u5f00\u5934\u200b\u8981\u200b\u5927\u5199\u200b\uff0c\u200b\u7ed3\u5c3e\u200b\u8981\u200b\u5199\u200b\u6807\u70b9\u7b26\u53f7\u200b\uff0c\u200b\u907f\u514d\u200b\u8bed\u6cd5\u9519\u8bef\u200b\u548c\u200b\u903b\u8f91\u200b\u9519\u8bef\u200b\uff0c\u200b\u4e2d\u6587\u200b\u6ce8\u91ca\u200b\u4e5f\u200b\u662f\u200b\u76f8\u540c\u200b\u8981\u6c42\u200b\uff1b</li> <li>\u200b\u6539\u52a8\u200b\u4ee3\u7801\u200b\u903b\u8f91\u200b\u65f6\u200b\uff0c\u200b\u4e00\u5b9a\u200b\u8981\u200b\u53ca\u65f6\u200b\u66f4\u65b0\u200b\u76f8\u5173\u200b\u7684\u200b\u6ce8\u91ca\u200b\uff1b</li> </ul> <p>\u200b\u5b9e\u8df5\u200b\uff1a</p> <pre><code># TODO(ssw@gmail.com): Use a \"*\" here for string repetition.\n# TODO(Luke) Change this to use relations.\n</code></pre>","tags":["Python"]},{"location":"python/python_core/coding_standard/#_4","title":"\u7f29\u8fdb\u200b\u89c4\u8303\u200b\uff1a","text":"<p>\u200b\u5728\u200bpython\u200b\u4e2d\u200b\uff0c\u200b\u901a\u5e38\u200b\u4f7f\u7528\u200b\u56db\u4e2a\u200b\u7a7a\u683c\u200b\u3001\u200b\u6216\u200b1\u200b\u4e2a\u200btab\u200b\u952e\u200b\u5b9e\u73b0\u200b\u7f29\u8fdb\u200b\u3002\u200b\u4f46\u200b\u975e\u5e38\u200b\u4e0d\u200b\u5efa\u8bae\u200bTab\u200b\u548c\u200b\u7a7a\u683c\u200b\u6df7\u5408\u200b\u4f7f\u7528\u200b\uff1b</p>","tags":["Python"]},{"location":"python/python_core/coding_standard/#_5","title":"\u7a7a\u884c\u200b\u89c4\u8303\u200b\uff1a","text":"<ol> <li>\u200b\u5168\u5c40\u200b\u7684\u200b(\u200b\u6587\u4ef6\u200b\u7ea7\u522b\u200b\u7684\u200b)\u200b\u7c7b\u200b\u548c\u200b\u5168\u5c40\u200b\u7684\u200b\u51fd\u6570\u200b\u4e0a\u65b9\u200b\u8981\u200b\u6709\u200b\u4e24\u4e2a\u200b\u7a7a\u884c\u200b</li> <li>\u200b\u7c7b\u4e2d\u200b\u7684\u200b\u51fd\u6570\u200b\u4e0a\u65b9\u200b\u8981\u200b\u6709\u200b\u4e00\u4e2a\u200b\u7a7a\u884c\u200b</li> <li>\u200b\u51fd\u6570\u200b\u5185\u90e8\u200b\u4e0d\u200b\u540c\u610f\u200b\u7fa4\u200b\u7684\u200b\u4ee3\u7801\u200b\u5757\u200b\u4e4b\u524d\u200b\u8981\u200b\u6709\u200b\u4e00\u4e2a\u200b\u7a7a\u884c\u200b</li> <li>\u200b\u4e0d\u8981\u200b\u628a\u200b\u591a\u884c\u200b\u8bed\u53e5\u200b\u5408\u5e76\u200b\u4e3a\u200b\u4e00\u884c\u200b(\u200b\u5373\u200b\u4e0d\u8981\u200b\u4f7f\u7528\u200b\u5206\u200b\u53f7\u200b\u5206\u9694\u200b\u591a\u6761\u200b\u8bed\u53e5\u200b)</li> <li>\u200b\u5f53\u200b\u4f7f\u7528\u200b\u63a7\u5236\u200b\u8bed\u53e5\u200bif/while/for\u200b\u65f6\u200b\uff0c\u200b\u5373\u4f7f\u200b\u6267\u884c\u200b\u8bed\u53e5\u200b\u53ea\u6709\u200b\u4e00\u884c\u200b\u547d\u4ee4\u200b\uff0c\u200b\u4e5f\u200b\u9700\u8981\u200b\u53e6\u8d77\u200b\u4e00\u884c\u200b</li> <li>\u200b\u4ee3\u7801\u200b\u6587\u4ef6\u200b\u5c3e\u90e8\u200b\u6709\u4e14\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u7a7a\u884c\u200b</li> </ol>","tags":["Python"]},{"location":"python/python_core/coding_standard/#_6","title":"\u7a7a\u683c\u200b\u89c4\u8303\u200b\uff1a","text":"<ol> <li>\u200b\u51fd\u6570\u200b\u7684\u200b\u53c2\u6570\u200b\u4e4b\u95f4\u200b\u8981\u200b\u6709\u200b\u4e00\u4e2a\u200b\u7a7a\u683c\u200b</li> <li>\u200b\u5217\u8868\u200b\u3001\u200b\u5143\u7ec4\u200b\u3001\u200b\u5b57\u5178\u200b\u7684\u200b\u5143\u7d20\u200b\u4e4b\u95f4\u200b\u8981\u200b\u6709\u200b\u4e00\u4e2a\u200b\u7a7a\u683c\u200b</li> <li>\u200b\u5b57\u5178\u200b\u7684\u200b\u5192\u53f7\u200b\u4e4b\u540e\u200b\u8981\u200b\u6709\u200b\u4e00\u4e2a\u200b\u7a7a\u683c\u200b</li> <li>\u200b\u4f7f\u7528\u200b#\u200b\u6ce8\u91ca\u200b\u7684\u8bdd\u200b\uff0c#\u200b\u540e\u8981\u200b\u6709\u200b\u4e00\u4e2a\u200b\u7a7a\u683c\u200b</li> <li>\u200b\u64cd\u4f5c\u7b26\u200b(\u200b\u4f8b\u5982\u200b+\uff0c-\uff0c*\uff0c/\uff0c&amp;\uff0c|\uff0c=\uff0c==\uff0c!=)\u200b\u4e24\u8fb9\u200b\u90fd\u200b\u8981\u200b\u6709\u200b\u4e00\u4e2a\u200b\u7a7a\u683c\u200b\uff0c\u200b\u4e0d\u8fc7\u200b\u62ec\u53f7\u200b(\u200b\u5305\u62ec\u200b\u5c0f\u62ec\u53f7\u200b\u3001\u200b\u4e2d\u62ec\u53f7\u200b\u548c\u200b\u5927\u62ec\u53f7\u200b)\u200b\u5185\u200b\u7684\u200b\u4e24\u7aef\u200b\u4e0d\u200b\u9700\u8981\u200b\u7a7a\u683c\u200b</li> </ol>","tags":["Python"]},{"location":"python/python_core/coding_standard/#_7","title":"\u6362\u884c\u200b\u89c4\u8303\u200b\uff1a","text":"<ol> <li>\u200b\u4e00\u822c\u200b\u901a\u8fc7\u200b\u4ee3\u7801\u200b\u903b\u8f91\u200b\u62c6\u5206\u200b\u7b49\u200b\u624b\u6bb5\u200b\u6765\u200b\u63a7\u5236\u200b\u6bcf\u884c\u200b\u7684\u200b\u6700\u5927\u200b\u957f\u5ea6\u200b\u4e0d\u200b\u8d85\u8fc7\u200b79\u200b\u4e2a\u5b57\u7b26\u200b\uff0c\u200b\u4f46\u200b\u6709\u4e9b\u200b\u65f6\u5019\u200b\u5355\u884c\u200b\u4ee3\u7801\u200b\u8fd8\u662f\u200b\u4e0d\u53ef\u907f\u514d\u200b\u7684\u200b\u4f1a\u200b\u8d85\u8fc7\u200b\u8fd9\u4e2a\u200b\u9650\u5236\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u65f6\u5019\u200b\u5c31\u200b\u9700\u8981\u200b\u901a\u8fc7\u200b\u6362\u884c\u200b\u6765\u200b\u89e3\u51b3\u95ee\u9898\u200b\u4e86\u200b\u3002</li> <li>\u200b\u4e24\u79cd\u200b\u5b9e\u73b0\u200b\u6362\u884c\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff1a    \u200b\u7b2c\u4e00\u79cd\u200b\uff0c\u200b\u901a\u8fc7\u200b\u5c0f\u62ec\u53f7\u200b\u8fdb\u884c\u200b\u5c01\u88c5\u200b\uff0c\u200b\u6b64\u65f6\u200b\u867d\u7136\u200b\u8de8\u884c\u200b\uff0c\u200b\u4f46\u662f\u200b\u4ecd\u200b\u5904\u4e8e\u200b\u4e00\u4e2a\u200b\u903b\u8f91\u200b\u5f15\u7528\u200b\u4e4b\u4e0b\u200b\u3002\u200b\u6bd4\u5982\u200b\u51fd\u6570\u53c2\u6570\u200b\u5217\u8868\u200b\u7684\u200b\u573a\u666f\u200b\u3001\u200b\u8fc7\u957f\u200b\u7684\u200b\u8fd0\u7b97\u200b\u8bed\u53e5\u200b\u573a\u666f\u200b    \u200b\u7b2c\u4e8c\u79cd\u200b\uff0c\u200b\u76f4\u63a5\u200b\u901a\u8fc7\u200b\u6362\u884c\u7b26\u200b()\u200b\u5b9e\u73b0\u200b</li> </ol>","tags":["Python"]},{"location":"python/python_core/coding_standard/#_8","title":"\u6587\u6863\u200b\u63cf\u8ff0\u200b\u89c4\u8303","text":"<p>\u200b\u901a\u5e38\u200b\u4f7f\u7528\u200b\u4e09\u4e2a\u200b\u53cc\u5f15\u53f7\u200b\u5f00\u59cb\u200b\uff0c\u200b\u4e09\u4e2a\u200b\u53cc\u5f15\u53f7\u200b\u7ed3\u5c3e\u200b\u6765\u200b\u5b9e\u73b0\u200b\u6587\u6863\u200b\u6ce8\u91ca\u200b\uff1b</p> <ol> <li>\u200b\u9996\u5148\u200b\u7528\u200b\u4e00\u53e5\u200b\u8bdd\u200b\u7b80\u5355\u200b\u8bf4\u660e\u200b\u8fd9\u4e2a\u200b\u51fd\u6570\u200b\u662f\u200b\u505a\u200b\u4ec0\u4e48\u200b\uff0c\u200b\u7136\u540e\u200b\u8ddf\u200b\u4e00\u6bb5\u8bdd\u200b\u6765\u200b\u8be6\u7ec6\u200b\u89e3\u91ca\u200b\uff1b</li> <li>\u200b\u518d\u200b\u5f80\u540e\u200b\u5c31\u662f\u200b\u53c2\u6570\u200b\u5217\u8868\u200b\u3001\u200b\u53c2\u6570\u200b\u683c\u5f0f\u200b\u3001\u200b\u8fd4\u56de\u503c\u200b\u683c\u5f0f\u200b\u7684\u200b\u63cf\u8ff0\u200b\uff1b</li> </ol> <p>\u200b\u793a\u4f8b\u200b\uff1a</p> <pre><code>class SampleClass(object):\n    \"\"\"Summary of class here.\n\n    Longer class information....\n    Longer class information....\n\n    Attributes:\n        likes_spam: A boolean indicating if we like SPAM or not.\n        eggs: An integer count of the eggs we have laid.\n    \"\"\"\n\n    def __init__(self, likes_spam=False):\n        \"\"\"Inits SampleClass with blah.\"\"\"\n        self.likes_spam = likes_spam\n        self.eggs = 0\n\n    def public_method(self):\n        \"\"\"Performs operation blah.\"\"\"\n        if i &amp; (i-1) == 0:        # true iff i is a power of 2\n</code></pre>","tags":["Python"]},{"location":"python/python_core/devtools/dev_tool_selection/","title":"Python\u200b\u5e38\u7528\u200b\u5f00\u53d1\u5de5\u5177\u200b\u6c47\u603b","text":"","tags":["Python"]},{"location":"python/python_core/devtools/dev_tool_selection/#1-pycharm","title":"\u5de5\u5177\u200b1: Pycharm","text":"<ul> <li>Pycharm\u200b\u4e0b\u8f7d\u200b\u94fe\u63a5\u200b</li> <li>\u200b\u662f\u200b\u4e00\u6b3e\u200bpython \u200b\u96c6\u6210\u200b\u5f00\u53d1\u200b\u73af\u5883\u200b\uff08IDE\uff09</li> <li>\u200b\u5206\u4e3a\u200b\u4e13\u4e1a\u7248\u200b\uff08professional-\u200b\u9700\u200b\u7834\u89e3\u200b\uff09\u200b\u548c\u200b\u793e\u533a\u200b\u7248\u200b\uff08community-\u200b\u514d\u8d39\u200b)</li> </ul>","tags":["Python"]},{"location":"python/python_core/devtools/dev_tool_selection/#pycharmpy","title":"Pycharm\u200b\u8bbe\u7f6e\u200bpy\u200b\u6587\u4ef6\u200b\u9ed8\u8ba4\u200b\u6a21\u7248","text":"<ul> <li>\u200b\u8bbe\u7f6e\u200b\u65b9\u6cd5\u200b</li> <li> <p>Preferences -&gt; Editor -&gt; File and Code Template -&gt; Python Script</p> </li> <li> <p>\u200b\u53d8\u91cf\u200b\u542b\u4e49\u200b\uff1a</p> </li> </ul> <pre><code>${PROJECT_NAME} - \u200b\u5f53\u524d\u200bProject\u200b\u540d\u79f0\u200b;\n${NAME} - \u200b\u5728\u200b\u521b\u5efa\u200b\u6587\u4ef6\u200b\u7684\u200b\u5bf9\u8bdd\u6846\u200b\u4e2d\u200b\u6307\u5b9a\u200b\u7684\u200b\u6587\u4ef6\u540d\u200b;\n${USER} - \u200b\u5f53\u524d\u200b\u7528\u6237\u540d\u200b;\n${DATE} - \u200b\u5f53\u524d\u200b\u7cfb\u7edf\u200b\u65e5\u671f\u200b;\n${TIME} - \u200b\u5f53\u524d\u200b\u7cfb\u7edf\u200b\u65f6\u95f4\u200b;\n${YEAR} - \u200b\u5e74\u200b;\n${MONTH} - \u200b\u6708\u200b;\n${DAY} - \u200b\u65e5\u200b;\n${HOUR} - \u200b\u5c0f\u65f6\u200b;\n${MINUTE} - \u200b\u5206\u949f\u200b\uff1b\n${PRODUCT_NAME} - \u200b\u521b\u5efa\u200b\u6587\u4ef6\u200b\u7684\u200bIDE\u200b\u540d\u79f0\u200b;\n${MONTH_NAME_SHORT} - \u200b\u82f1\u6587\u200b\u6708\u4efd\u200b\u7f29\u5199\u200b, \u200b\u5982\u200b: Jan, Feb, etc;\n${MONTH_NAME_FULL} - \u200b\u82f1\u6587\u200b\u6708\u4efd\u200b\u5168\u79f0\u200b, \u200b\u5982\u200b: January, February, etc\uff1b\n</code></pre> <ul> <li>\u200b\u6a21\u677f\u200b</li> </ul> <pre><code># -*- coding: utf-8 -*-\n\"\"\"\nAuthor: ssw\nFile: ${NAME}.py\nTime: ${DATE} ${TIME}\n--------------------------------\nChange Activity: ${DATE} ${TIME}\n--------------------------------\nDesc: \n\"\"\"\n\ndef main():\n    pass\n\nif __name__ == '__main__':\n    main()\n</code></pre>","tags":["Python"]},{"location":"python/python_core/devtools/dev_tool_selection/#2-vscode","title":"\u5de5\u5177\u200b2: vscode","text":"<ul> <li>vscode\u200b\u4e0b\u8f7d\u200b\u94fe\u63a5\u200b</li> <li>\u200b\u9700\u8981\u200b\u5b89\u88c5\u200bPython Plugin</li> </ul>","tags":["Python"]},{"location":"python/python_core/devtools/dev_tool_selection/#3jupyter-notebok","title":"\u5de5\u5177\u200b3\uff1aJupyter notebok","text":"<ul> <li>Jupyter\u200b\u5b89\u88c5\u200b\u8bf4\u660e\u200b</li> <li>\u200b\u901a\u5e38\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u5de5\u7a0b\u5e08\u200b\u4f7f\u7528\u200b\u8f83\u200b\u591a\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_core/devtools/dev_tool_selection/#4ipython","title":"\u5de5\u5177\u200b4\uff1aIpython","text":"<ul> <li>Ipython\u200b\u5b89\u88c5\u200b\u8bf4\u660e\u200b</li> <li> <p>\u200b\u5728\u200b\u4ea4\u4e92\u200b\u573a\u666f\u200b\u4e0b\u200b\u4f7f\u7528\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5feb\u901f\u200b\u7f16\u5199\u200bdemo\u200b\u548c\u200b\u9a8c\u8bc1\u200b</p> </li> <li> <p>\u200b\u5e38\u7528\u547d\u4ee4\u200b</p> </li> </ul> <p><pre><code>In [2]: ?  # ipython\u200b\u7684\u200b\u6982\u8ff0\u200b\u548c\u200b\u7b80\u4ecb\u200b\n\nIn [3]: help(name)   # \u200b\u67e5\u8be2\u200b\u6307\u5b9a\u200b\u540d\u79f0\u200b\u7684\u200b\u5e2e\u52a9\u200b   \n\nIn [4]: obj?  # \u200b\u5217\u51fa\u200bobj\u200b\u5bf9\u8c61\u200b\u7684\u200b\u8be6\u7ec6\u4fe1\u606f\u200b\n\nIn [5]: obj??  # \u200b\u5217\u51fa\u200b\u66f4\u200b\u8be6\u7ec6\u200b\u7684\u200b\u4fe1\u606f\u200b\n</code></pre> - \u200b\u7279\u6b8a\u200b\u53d8\u91cf\u200b</p> <ul> <li>_\u200b\u8868\u793a\u200b\u524d\u200b\u4e00\u6b21\u200b\u8f93\u51fa\u200b</li> <li>__\u200b\u8868\u793a\u200b\u5012\u6570\u200b\u7b2c\u4e8c\u6b21\u200b\u8f93\u51fa\u200b</li> <li>___\u200b\u8868\u793a\u200b\u5230\u5904\u200b\u7b2c\u4e09\u6b21\u200b\u8f93\u51fa\u200b</li> <li>_dh \u200b\u76ee\u5f55\u200b\u5386\u53f2\u200b</li> <li>_oh \u200b\u8f93\u51fa\u200b\u5386\u53f2\u200b</li> </ul> <pre><code>In [18]: name = \"ssw\"\n\nIn [19]: name\nOut[19]: 'ssw'\n\nIn [20]: age = 18\n\nIn [21]: age\nOut[21]: 18\n\nIn [22]: gender = \"male\"\n\nIn [23]: gender\nOut[23]: 'male'\n\nIn [24]: _   # \u200b\u8868\u793a\u200b\u524d\u200b\u4e00\u6b21\u200b\u8f93\u51fa\u200b\nOut[24]: 'male'\n\nIn [25]: __  \nOut[25]: 'male'\n\nIn [26]: ___\nOut[26]: 'male'\n\nIn [27]: _\nOut[27]: 'male'\n\nIn [28]: _dh\nOut[28]: [PosixPath('/Users/roninsswang/Codehub/ronincode/hub-python')]\n\nIn [29]: _oh\nOut[29]:\n{6: '',\n 8: '',\n 9: 'sss',\n 10: 'sss',\n 12: 'sss',\n 13: 14,\n 14: 'sss',\n 15: 'sss',\n 16: [PosixPath('/Users/roninsswang/Codehub/ronincode/hub-python')],\n 19: 'ssw',\n 21: 18,\n 23: 'male',\n 24: 'male',\n 25: 'male',\n 26: 'male',\n 27: 'male',\n 28: [PosixPath('/Users/roninsswang/Codehub/ronincode/hub-python')]}\n\nIn [30]:\n</code></pre>","tags":["Python"]},{"location":"python/python_core/devtools/dev_tool_selection/#shell","title":"shell\u200b\u547d\u4ee4","text":"<ul> <li>!ls -l</li> <li>!touch test.txt</li> <li>files= !ls -l | grep py <pre><code>In [42]: !ls -l\ntotal 8\n-rw-r--r--   1 roninsswang  staff   33  7 27 06:17 README.md\ndrwxr-xr-x   3 roninsswang  staff   96  7 27 21:10 case_demo\ndrwxr-xr-x  22 roninsswang  staff  704  7 27 06:17 common_utils\ndrwxr-xr-x   4 roninsswang  staff  128  7 27 06:17 db\ndrwxr-xr-x   8 roninsswang  staff  256  7 27 06:17 fastapi_cores\ndrwxr-xr-x   4 roninsswang  staff  128  7 27 06:34 jupyter-practice\ndrwxr-xr-x   3 roninsswang  staff   96  7 27 21:19 python\u200b\u5de5\u5320\u200b\ndrwxr-xr-x   5 roninsswang  staff  160  7 27 06:17 thirdlibs\n\nIn [43]: !touch test.txt\n\nIn [44]: !ls -l\ntotal 8\n-rw-r--r--   1 roninsswang  staff   33  7 27 06:17 README.md\ndrwxr-xr-x   3 roninsswang  staff   96  7 27 21:10 case_demo\ndrwxr-xr-x  22 roninsswang  staff  704  7 27 06:17 common_utils\ndrwxr-xr-x   4 roninsswang  staff  128  7 27 06:17 db\ndrwxr-xr-x   8 roninsswang  staff  256  7 27 06:17 fastapi_cores\ndrwxr-xr-x   4 roninsswang  staff  128  7 27 06:34 jupyter-practice\ndrwxr-xr-x   3 roninsswang  staff   96  7 27 21:19 python\u200b\u5de5\u5320\u200b\n-rw-r--r--   1 roninsswang  staff    0  7 28 06:35 test.txt\ndrwxr-xr-x   5 roninsswang  staff  160  7 27 06:17 thirdlibs\n\nIn [45]: files = !ls -l| grep md\n\nIn [46]: files = !ls -l| grep py\n\nIn [47]: files\nOut[47]:\n['drwxr-xr-x   4 roninsswang  staff  128  7 27 06:34 jupyter-practice',\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_core/devtools/dev_tool_selection/#_1","title":"\u9b54\u6cd5\u200b\u65b9\u6cd5","text":"<ul> <li>%cd \u200b\u6539\u53d8\u200b\u5f53\u524d\u5de5\u4f5c\u200b\u76ee\u5f55\u200b\uff0ccd\u200b\u53ef\u4ee5\u200b\u8ba4\u4e3a\u200b\u662f\u200b%cd\u200b\u7684\u200b\u94fe\u63a5\u200b\u3002\u200b\u8def\u5f84\u200b\u5386\u53f2\u200b\u5728\u200b_dh\u200b\u4e2d\u200b\u67e5\u770b\u200b</li> <li>%pwd\u3001pwd \u200b\u663e\u793a\u200b\u5f53\u524d\u5de5\u4f5c\u200b\u76ee\u5f55\u200b</li> <li>%ls \u3001ls \u200b\u8fd4\u56de\u200b\u6587\u4ef6\u200b\u5217\u8868\u200b</li> <li>\u200b\u6ce8\u610f\u200b:%pwd\u200b\u8fd9\u79cd\u200b\u662f\u200b\u9b54\u672f\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u662f\u200bIPython\u200b\u7684\u200b\u5185\u90e8\u200b\u5b9e\u73b0\u200b\uff0c\u200b\u548c\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u65e0\u5173\u200b\u3002\u200b\u800c\u200b!pwd \u200b\u5c31\u8981\u200b\u4f9d\u8d56\u200b\u5f53\u524d\u200b\u64cd\u200b</li> </ul> <p>\u200b\u4f5c\u200b\u7cfb\u7edf\u200b\u7684\u200bshell\u200b\u63d0\u4f9b\u200b\u7684\u200b\u547d\u4ee4\u200b\u6267\u884c\u200b\uff0c\u200b\u9ed8\u8ba4\u200bwindows\u200b\u4e0d\u200b\u652f\u6301\u200bpwd\u200b\u547d\u4ee4\u200b</p> <ul> <li>%%js\u3001%%javascript \u200b\u5728\u200bcell\u200b\u4e2d\u200b\u8fd0\u884c\u200bjs\u200b\u811a\u672c\u200b</li> </ul> <pre><code>In [48]: %cd Desktop\n[Errno 2] No such file or directory: 'Desktop'\n/Users/roninsswang/Codehub/ronincode/hub-python\n\nIn [49]: %pwd\nOut[49]: '/Users/roninsswang/Codehub/ronincode/hub-python'\n\nIn [50]: %ls\nREADME.md         common_utils/     fastapi_cores/       thirdlibs/\ncase_demo/        db/               jupyter-practice/ test.txt\n</code></pre>","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/","title":"Python\u200b\u7248\u672c\u200b\u53ca\u5305\u200b\u7ba1\u7406\u5de5\u5177\u200b\u9009\u578b","text":"","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#python","title":"Python\u200b\u591a\u200b\u7248\u672c\u200b\u7ba1\u7406\u200b\u65b9\u6848","text":"<p>\u200b\u5728\u200b\u65e5\u5e38\u200b\u5f00\u53d1\u200b\u8fc7\u7a0b\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u6709\u200b\u591a\u4e2a\u200b\u4e0d\u540c\u200bPython\u200b\u7248\u672c\u200b\u7684\u200b\u5171\u5b58\u200b\u7684\u200b\u9700\u6c42\u200b\uff0c\u200b\u4ee5\u4e0b\u200b\u4ecb\u7ecd\u200b\u51e0\u79cd\u200b\u5173\u4e8e\u200bpython\u200b\u591a\u200b\u7248\u672c\u200b\u5171\u5b58\u200b\u7684\u200b\u89e3\u51b3\u65b9\u6848\u200b:</p>","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#_1","title":"\u65b9\u6848\u200b\u4e00\u200b\uff1a\u200b\u539f\u751f\u200b\u5b89\u88c5\u200b\u65b9\u6cd5","text":"<ul> <li>\u200b\u4ece\u200bPython\u200b\u5b98\u7f51\u200b\u4e0b\u8f7d\u200b\u9700\u8981\u200b\u5b89\u88c5\u200b\u7684\u200bPython\u200b\u7248\u672c\u200b\uff0c\u200b\u5728\u200b\u4e0d\u540c\u200b\u7684\u200b\u76ee\u5f55\u200b\uff08\u200b\u5efa\u8bae\u200b\uff1a\u200b\u76ee\u5f55\u540d\u200b\u4f7f\u7528\u200b\u548c\u200b\u7248\u672c\u200b\u5bf9\u5e94\u200b\u7684\u200b\u540d\u79f0\u200b\uff09\u200b\u4e2d\u200b\u5b89\u88c5\u200b\u4e0b\u8f7d\u200b\u597d\u200b\u7684\u200b\u5b89\u88c5\u5305\u200b\uff0c\u200b\u5b89\u88c5\u200b\u540e\u200b\uff0c\u200b\u5728\u200b\u73af\u5883\u53d8\u91cf\u200b\u4e2d\u200b\u8bbe\u7f6e\u200b\u4e00\u4e2a\u200b\u5e38\u7528\u200b\u7684\u200bPython\u200b\u7248\u672c\u200b\u4f5c\u4e3a\u200b\u9ed8\u8ba4\u200b\u7248\u672c\u200b\uff0c\u200b\u540e\u7eed\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u4fee\u6539\u200bpython\u200b\u7248\u672c\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u4fee\u6539\u200b\u73af\u5883\u53d8\u91cf\u200b\u4e2d\u200bpython\u200b\u89e3\u91ca\u5668\u200b\u8def\u5f84\u200b\u5373\u53ef\u200b\u3002</li> <li>\u200b\u8be6\u7ec6\u200b\u7684\u200b\u4ecb\u7ecd\u200b\u548c\u200b\u5b89\u88c5\u200b\u9605\u8bfb\u200b\uff1a\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#conda","title":"\u65b9\u6848\u200b\u4e8c\u200b\uff1a\u200b\u4f7f\u7528\u200b conda","text":"<ul> <li>\u200b\u5b89\u88c5\u200b\u597d\u200bconda\u200b\u540e\u200b\uff0c\u200b\u901a\u8fc7\u200b\u521b\u5efa\u200b\u4e0d\u540c\u200bpython\u200b\u7248\u672c\u200b\u7684\u200b\u865a\u62df\u73af\u5883\u200b\u8fdb\u884c\u200b\u591a\u200b\u7248\u672c\u200b\u7684\u200b\u7ba1\u7406\u200b\uff0c\u200b\u5176\u4e2d\u200bconda\u200b\u5206\u4e3a\u200b\u5b8c\u6574\u7248\u200b\uff08Anaconda\uff09\u200b\u548c\u200b\u7cbe\u7b80\u7248\u200b\uff08Miniconda\uff09\uff0c\u200b\u6839\u636e\u200b\u9700\u8981\u200b\u9009\u62e9\u200b\u5408\u9002\u200b\u7684\u200b\u7248\u672c\u200b\u3002</li> <li>Anaconda:\u3010\u200b\u91cd\u200b\u3011\u200b\u5927\u800c\u5168\u200b\uff0c\u200b\u9664\u4e86\u200b\u5b89\u88c5\u200b Conda \u200b\u5185\u6838\u200b\uff0c\u200b\u8fd8\u200b\u5b89\u88c5\u200b\u4e86\u200b\u5b8c\u6574\u200b\u7684\u200b Anaconda \u200b\u7684\u200b\u53d1\u884c\u200b\u5305\u200b\uff0c\u200b\u5373\u200b\u5185\u7f6e\u200b\u96c6\u6210\u200b\u4e86\u200b\u5f88\u591a\u200b\u5de5\u5177\u5305\u200b\uff0c\u200b\u5305\u62ec\u200bpython\u200b\u7684\u200b\u591a\u4e2a\u200b\u7248\u672c\u200b\uff0c\u200b\u5e38\u7528\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u7b49\u200b\u79d1\u5b66\u200b\u5de5\u5177\u5305\u200b\uff1b\u200b\u5b98\u65b9\u200b\u4e0b\u8f7d\u200b\uff0c\u200b\u6e05\u534e\u200b\u6e90\u200b\u4e0b\u8f7d\u200b\uff1b</li> <li>Miniconda:\u3010\u200b\u8f7b\u200b\u3011\u200b\u5c0f\u800c\u7f8e\u200b\uff0c\u200b\u53ea\u200b\u5b89\u88c5\u200b\u4e86\u200b Conda \u200b\u5185\u6838\u200b\uff0c\u200b\u5373\u200b\u5185\u7f6e\u200b\u4e86\u200b\u591a\u4e2a\u200bpython\u200b\u7248\u672c\u200b\u548c\u200b\u5fc5\u8981\u200b\u7684\u200b\u5de5\u5177\u5305\u200b\uff1b\u200b\u5b98\u65b9\u200b\u4e0b\u8f7d\u200b\u3001\u200b\u6e05\u534e\u200b\u6e90\u200b\u4e0b\u8f7d\u200b\uff1b</li> </ul> <p>\u200b\u9009\u578b\u200b\u5efa\u8bae\u200b\uff1a</p> <ul> <li> <p>\u200b\u5bf9\u4e8e\u200b\u65e5\u5e38\u200b\u5728\u200b\u4e00\u4e2a\u200b\u73af\u5883\u200b\u6709\u200b\u591a\u200bPython\u200b\u7248\u672c\u200b\u7684\u200b\u5f00\u53d1\u200b\u9700\u6c42\u200b\u7684\u200b\uff0c\u200b\u4e14\u200b\u4e0d\u60f3\u200b\u5728\u200b\u5f00\u53d1\u200b\u73af\u5883\u200b\u4e2d\u200b\u5b89\u88c5\u200b\u591a\u4e2a\u200b\u539f\u751f\u200bPython,Anaconda\u200b\u548c\u200bMiniconda\u200b\u90fd\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5f88\u200b\u597d\u200b\u7684\u200b\u9009\u62e9\u200b\uff1b</p> </li> <li> <p>\u200b\u5bf9\u4e8e\u200b\u4f7f\u7528\u200bPython\u200b\u8fdb\u884c\u200b\u6570\u636e\u5206\u6790\u200b\u3001\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u53ca\u200bAI\u200b\u65b9\u5411\u200b\u7684\u200b\u5f00\u53d1\u8005\u200b\uff0cAnaconda\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5f88\u200b\u597d\u200b\u7684\u200b\u9009\u62e9\u200b\uff1b</p> </li> <li> <p>\u200b\u5bf9\u4e8e\u200bPython web\u200b\u5f00\u53d1\u200b\u6765\u8bf4\u200b\uff0cMiniconda\u200b\u662f\u200b\u4e00\u4e2a\u200b\u4e0d\u9519\u200b\u7684\u200b\u9009\u62e9\u200b\uff0c\u200b\u4e3b\u8981\u200b\u662f\u56e0\u4e3a\u200b\u9002\u5408\u200bweb\u200b\u5f00\u53d1\u200b\u7684\u200b\u73af\u5883\u200b\u5305\u200b\u7ba1\u7406\u5de5\u5177\u200b\u7684\u200b\u9009\u62e9\u200b\u662f\u200b\u5f88\u591a\u200b\u7684\u200b\u3002</p> </li> </ul>","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#pyenv","title":"\u65b9\u6848\u200b\u4e09\u200b\uff1a\u200b\u4f7f\u7528\u200b pyenv","text":"<ul> <li>\u200b\u5b89\u88c5\u200bpyenv\u200b\u540e\u200b\uff0c\u200b\u901a\u8fc7\u200b<code>pyenv install 3.x.x</code> \u200b\u7684\u200b\u65b9\u5f0f\u200b\u8fdb\u884c\u200b\u5b89\u88c5\u200b\uff0c\u200b\u901a\u8fc7\u200b<code>pyenv global 3.x.x</code>\u200b\u8bbe\u7f6e\u200b\u5168\u5c40\u200bpython\u200b\u7248\u672c\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u8be6\u7ec6\u200b\u4f7f\u7528\u200b\u6d41\u7a0b\u200b\u53c2\u8003\u200b\u6587\u6863\u200b</li> <li>\u200b\u5728\u200bUNIX/MacO\u200b\u7cfb\u7edf\u200b\u4e2d\u200b,\u200b\u4f7f\u7528\u200bpyenv, \u200b\u5728\u200bwindow\u200b\u7cfb\u7edf\u200b\u4e2d\u200b\uff0c\u200b\u4f7f\u7528\u200b<code>pyenv-win</code></li> </ul>","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#pdm","title":"\u65b9\u6848\u200b\u56db\u200b\uff1a\u200b\u4f7f\u7528\u200b PDM","text":"<ul> <li>\u200b\u5b89\u88c5\u200bpdm\u200b\u540e\u200b\uff0c\u200b\u901a\u8fc7\u200b<code>pdm python install 3.x.x</code>\u200b\u65b9\u5f0f\u200b\u8fdb\u884c\u200b\u5b89\u88c5\u200b\uff0c\u200b\u901a\u8fc7\u200b<code>pdm python install --list</code>\u200b\u67e5\u770b\u200b\u53ef\u200b\u5b89\u88c5\u200b\u7684\u200b\u7248\u672c\u200b\u6e05\u5355\u200b</li> <li>\u200b\u5982\u679c\u200b\u53ea\u200b\u9700\u8981\u200bpython\u200b\u89e3\u91ca\u5668\u200b\uff0c\u200b\u4e14\u200b\u5df2\u7ecf\u200b\u5b89\u88c5\u200b\u4e86\u200bpdm\u200b\u5de5\u5177\u200b\uff0c\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b\u6b64\u200b\u65b9\u5f0f\u200b\u8fdb\u884c\u200b\u5b89\u88c5\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#pythonz","title":"\u65b9\u6848\u200b\u4e94\u200b\uff1a\u200b\u4f7f\u7528\u200b pythonz","text":"<ul> <li>\u200b\u5b89\u88c5\u200b\u597d\u200bpythonz\u200b\u540e\u200b\uff0c\u200b\u8be6\u7ec6\u200b\u4f7f\u7528\u200b\u53c2\u8003\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b</li> <li>\u200b\u6b64\u200b\u5de5\u5177\u200b\u5bf9\u4e8e\u200b\u6709\u200b\u5b89\u88c5\u200b CPython, Stackless, PyPy and Jython\u200b\u7684\u200b\u9700\u6c42\u200b\u65f6\u200b\u6bd4\u8f83\u200b\u65b9\u4fbf\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#_2","title":"\u4f9d\u8d56\u200b\u5305\u200b\u7ba1\u7406\u200b\u65b9\u6848","text":"","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#pdm_1","title":"\u65b9\u6848\u200b\u4e00\u200b\uff1aPDM\uff1a\u2606\u2606\u2606\u2606\u2606","text":"<p>\u200b\u7b80\u8ff0\u200b\uff1a</p> <ul> <li>\u200b\u6b64\u200b\u5de5\u5177\u200b\u662f\u200b\u4e00\u6b3e\u200b\u8de8\u5e73\u53f0\u200b\u5305\u200b\u7ba1\u7406\u5de5\u5177\u200b\uff0c\u200b\u8981\u6c42\u200bpython3.7+,\u200b\u4e3b\u8981\u200b\u7684\u200b\u529f\u80fd\u200b\u548c\u200b\u4e0a\u8ff0\u200b\u7684\u200bPoetry\u200b\u7c7b\u4f3c\u200b\uff0c\u200b\u4f46\u200b\u5b83\u200b\u6448\u5f03\u200b\u4e86\u200b\u865a\u62df\u73af\u5883\u200b\uff0c\u200b\u76f4\u63a5\u200b\u5c06\u200b\u5305\u200b\u6587\u4ef6\u5939\u200b\u653e\u5728\u200b\u9879\u76ee\u200b\u6839\u76ee\u5f55\u200b\u4e0b\u200b\uff0c\u200b\u6216\u200b\u653e\u5230\u200b\u7edf\u4e00\u200b\u7684\u200b\u5730\u65b9\u200b\u8fdb\u884c\u200b\u96c6\u4e2d\u7ba1\u7406\u200b\uff0c\u200b\u53e6\u5916\u200b\u5176\u200b\u7531\u200b\u4e00\u4f4d\u200b\u56fd\u5185\u200b\u7684\u200b\u5f00\u53d1\u8005\u200b\u5728\u200b\u4e1a\u4f59\u65f6\u95f4\u200b\u5f00\u53d1\u200b\u800c\u6210\u200b\uff0c\u200b\u4e3b\u8981\u200b\u7279\u70b9\u200b\u6709\u200b\uff1a</li> <li>\u200b\u652f\u6301\u200b\u6700\u65b0\u200bPEP\u200b\u6807\u51c6\u200b\uff08\u200b\u517c\u5bb9\u200b PEP 517 \u200b\u7684\u200b\u6784\u5efa\u200b\u540e\u200b\u7aef\u200b\uff0c\u200b\u7528\u4e8e\u200b\u6784\u5efa\u200b\u53d1\u5e03\u200b\u5305\u200b\u3001PEP 621 \u200b\u5143\u200b\u6570\u636e\u683c\u5f0f\u200b\uff09</li> <li>\u200b\u50cf\u200bpnpm\u200b\u91c7\u7528\u200b\u4e86\u200b\u53bb\u200b\u4e2d\u5fc3\u5316\u200b\u5b89\u88c5\u200b\u7f13\u5b58\u200b\uff0c\u200b\u8282\u7701\u200b\u78c1\u76d8\u7a7a\u95f4\u200b</li> <li>\u200b\u7528\u6237\u200b\u811a\u672c\u200b\u529f\u80fd\u200b\u6bd4\u8f83\u200b\u5f3a\u5927\u200b\uff1b</li> <li>\u200b\u4f7f\u7528\u200bpyproject.toml\u200b\u548c\u200blockfile\u200b\u7ba1\u7406\u200b\u5305\u200b\u7684\u200b\u7248\u672c\u200b\u3002</li> </ul> <p>\u200b\u9009\u578b\u200b\u8bf4\u660e\u200b\uff1a</p> <ul> <li>\u200b\u5728\u200b\u77e5\u9053\u200b\u6b64\u200b\u5de5\u5177\u200b\u540e\u200b\uff0c\u200b\u9010\u6e10\u200b\u653e\u5f03\u200b\u4e86\u200bpoetry\uff0c\u200b\u867d\u7136\u200b\u5f53\u524d\u200bstar\u200b\u6570\u521a\u200b\u8fbe\u5230\u200b5k,\u200b\u4f46\u200b\u4e2a\u4eba\u200b\u770b\u597d\u200b\u6b64\u200b\u5de5\u5177\u200b\u7684\u200b\u540e\u7eed\u200b\u53d1\u5c55\u200b\u3002</li> <li>\u200b\u81ea\u5b9a\u4e49\u200b\u811a\u672c\u200b\u4f7f\u7528\u200b\u4f53\u9a8c\u200b\u975e\u5e38\u200b\u597d\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#poetry","title":"\u65b9\u6cd5\u200b\u4e8c\u200b\uff1aPoetry\uff1a\u2606\u2606\u2606\u2606","text":"<p>\u200b\u7b80\u8ff0\u200b\uff1a</p> <ul> <li>\u200b\u6b64\u200b\u5de5\u5177\u200b\u662f\u200b\u4e00\u4e2a\u200b\u8de8\u5e73\u53f0\u200b\uff08Windows, macOS, and Linux\uff09\u3001\u200b\u5f00\u6e90\u200b\u7684\u200b\u7b2c\u5305\u200b\u7ba1\u7406\u5de5\u5177\u200b\u5e73\u53f0\u200b\uff0c\u200b\u672c\u8d28\u200b\u8fd8\u662f\u200b\u9700\u8981\u200b\u521b\u5efa\u200b\u865a\u62df\u73af\u5883\u200b\u8fdb\u884c\u200b\u5305\u200b\u7ba1\u7406\u200b\uff0c\u200b\u5b98\u65b9\u200b\u63cf\u8ff0\u200b\uff1aPython packaging and dependency management made easy\uff1b\u200b\u6700\u65b0\u200b\u7248\u672c\u200b\u9700\u8981\u200b\u5f00\u53d1\u200b\u73af\u5883\u200b\u7684\u200bpython3.8+\uff0c\u200b\u5176\u200b\u4e3b\u8981\u200b\u7279\u70b9\u200b\u6709\u200b\uff1a</li> <li>\u200b\u652f\u6301\u200b\u591a\u79cd\u200b\u5b89\u88c5\u200b\u65b9\u5f0f\u200b\u5982\u200b\uff1a\u200b\u5b98\u65b9\u200b\u5305\u200b\u5b89\u88c5\u200b\u3001pipx\u200b\u5b89\u88c5\u200b\u3001pip\u200b\u5b89\u88c5\u200b\u7b49\u200b</li> <li>\u200b\u53d6\u4ee3\u200b\u4e86\u200b setup.py\u3001requirements.txt\u3001setup.cfg\u200b\u7b49\u200b\uff0c\u200b\u4ec5\u200b\u901a\u8fc7\u200bpyproject.toml\u200b\u6587\u4ef6\u200b\u5c31\u200b\u80fd\u200b\u8f7b\u677e\u200b\u673a\u200b\u8fdb\u884c\u200b\u5305\u200b\u7684\u200b\u7248\u672c\u200b\u7248\u672c\u200b\u548c\u200b\u8fc1\u79fb\u200b\u5de5\u4f5c\u200b</li> <li>\u200b\u53ef\u4ee5\u200b\u5bf9\u5305\u200b\u7684\u200b\u5b89\u88c5\u200b\u573a\u666f\u200b\u8fdb\u884c\u200b\u5206\u7c7b\u7ba1\u7406\u200b\u5982\u200b\u5f00\u53d1\u200b\uff08\u200b\u9759\u6001\u200b\u68c0\u67e5\u200b\u76f8\u5173\u200b\u5305\u200b\uff09\u3001\u200b\u6d4b\u8bd5\u200b\uff08pytest\uff09\u3001\u200b\u751f\u4ea7\u200b\u73af\u5883\u200b\u5305\u200b\u7684\u200b\u5206\u7ec4\u200b</li> <li>\u200b\u5728\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u4e2d\u200b\u652f\u6301\u200b\u81ea\u5b9a\u4e49\u200bScripts,\u200b\u5982\u200b\uff1apoetry run python xxx;</li> </ul> <p>\u200b\u9009\u578b\u200b\u8bf4\u660e\u200b\uff1a</p> <ul> <li>\u200b\u5728\u200b\u751f\u4ea7\u200b\u73af\u5883\u200b\u4e2d\u6b64\u200b\u5de5\u5177\u200b\u88ab\u200b\u8d8a\u6765\u8d8a\u200b\u591a\u200b\u7684\u200b\u9879\u76ee\u200b\u5f15\u5165\u200b\u4f7f\u7528\u200b\uff0c\u200b\u76ee\u524d\u200bstar\u200b\u8d85\u200b26k;</li> <li>\u200b\u4e2a\u4eba\u200b\u5728\u200b\u8fd1\u4e24\u5e74\u200b\uff08PDM\u200b\u53d1\u73b0\u200b\u4e4b\u524d\u200b\uff09\u200b\u7684\u200bweb\u200b\u5f00\u53d1\u200b\u4e2d\u5747\u200b\u7531\u200b\u5728\u200b\u4f7f\u7528\u200b\uff0c\u200b\u5728\u200b\u4f53\u9a8c\u200b\u4e0a\u200b\u76f8\u5f53\u200b\u4e0d\u9519\u200b\uff0c\u200b\u7f3a\u70b9\u200b\u662f\u200b\u5982\u679c\u200b\u4e0d\u200b\u914d\u7f6e\u200b\u56fd\u5185\u200b\u6e90\u200b\uff0c\u200b\u73b0\u5728\u200b\u5b89\u88c5\u200b\u6548\u7387\u200b\u662f\u200b\u6781\u200b\u4f4e\u200b\u7684\u200b\uff0c\u200b\u4e14\u200b\u5bb9\u6613\u200b\u5b89\u88c5\u200b\u51fa\u9519\u200b\u3002</li> <li>\u200b\u7528\u200b\u597d\u200b\u81ea\u5b9a\u4e49\u200b\u811a\u672c\u200b\u7684\u200b\u529f\u80fd\u200b\u53ef\u200b\u5927\u5927\u200b\u63d0\u5347\u200b\u6548\u7387\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#conda_1","title":"\u65b9\u6848\u200b\u4e09\u200b\uff1aConda\uff1a\u2606\u2606\u2606","text":"<ul> <li>Conda\u200b\u662f\u200b\u4e00\u4e2a\u200b\u8de8\u5e73\u53f0\u200b\uff08Windows, macOS, and Linux\uff09\u200b\u7684\u200b\u5f00\u6e90\u200b\u7684\u200b\u73af\u5883\u200b\u53ca\u5305\u200b\u7ba1\u7406\u200b\u5e73\u53f0\u200b\uff0c\u200b\u5b98\u65b9\u200b\u79f0\u200b\u4e0d\u4ec5\u200b\u9650\u4e8e\u200b\u7ba1\u7406\u200bPython\u200b\u7248\u672c\u200b\u548c\u200b\u73af\u5883\u200b\u5305\u200b\u7684\u200b\u7ba1\u7406\u200b\uff0c\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u7ba1\u7406\u200b R, Ruby, Lua, Scala, Java, JavaScript, C/ C++, Fortran\u200b\u7b49\u200b\u4e3b\u6d41\u200b\u8bed\u8a00\u200b\uff0c\u200b\u4f46\u636e\u200b\u7b14\u8005\u200b\u4e86\u89e3\u200b\u5230\u200b\uff0c\u200b\u9664\u4e86\u200bpython\u200b\u5f00\u53d1\u8005\u200b\u5708\u200b\u5e94\u7528\u200b\u5e7f\u6cdb\u200b\u5916\u200b\uff0c\u200b\u5176\u4ed6\u200b\u8bed\u8a00\u200b\u7684\u200b\u5f00\u53d1\u8005\u200b\u51e0\u4e4e\u200b\u5f88\u96be\u200b\u770b\u5230\u200b\u4f7f\u7528\u200b\u7684\u200b\u3002</li> <li>\u200b\u7279\u70b9\u200b\u662f\u200b\uff1a\u200b\u53ef\u200b\u5373\u65f6\u200b\u6309\u200b\u9700\u200b\u521b\u5efa\u200b\u5bf9\u5e94\u200bpython\u200b\u7248\u672c\u200b\u7684\u200b\u865a\u62df\u73af\u5883\u200b\uff1bConda\u200b\u5206\u4e3a\u200b\u4e24\u4e2a\u200b\u7248\u672c\u200b\uff1aAnaconda\u3001Miniconda;\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u5de5\u5177\u200b\u7684\u200b\u5b89\u88c5\u200b\u65b9\u5f0f\u200b\u90fd\u200b\u662f\u200b\u6bd4\u8f83\u200b\u5bb9\u6613\u200b\uff0c\u200b\u4e14\u200b\u6613\u4e8e\u200b\u8fc1\u79fb\u200b\uff1b</li> <li>\u200b\u76f8\u200b\u6bd4\u8f83\u200b\u4e8e\u200b\u540e\u9762\u200b\u7684\u200b\u5de5\u5177\u200b\u800c\u8a00\u200b\uff0c\u200b\u5360\u7528\u200b\u7a7a\u95f4\u200b\u6bd4\u8f83\u200b\u5927\u200b\uff0c\u200b\u76f8\u5bf9\u200b\u6bd4\u8f83\u200b\u91cd\u200b\u3002</li> <li>\u200b\u5728\u200bconda\u200b\u73af\u5883\u200b\u4e2d\u200b\uff0c\u200b\u65e2\u200b\u652f\u6301\u200b<code>conda add &lt;package&gt;</code>\u200b\u4e5f\u200b\u652f\u6301\u200b <code>pip install &lt;package&gt;</code>\u200b\u65b9\u5f0f\u200b\u8fdb\u884c\u200b\u4f9d\u8d56\u200b\u5305\u200b\u5b89\u88c5\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#pipenv","title":"\u65b9\u6848\u200b\u56db\u200b\uff1aPipenv\uff1a\u2606\u2606\u2606","text":"<p>\u200b\u7b80\u8ff0\u200b\uff1a</p> <ul> <li>\u200b\u6b64\u200b\u5de5\u5177\u200b\u662f\u200b\u4e00\u4e2a\u200b\u8de8\u5e73\u53f0\u200b\uff08Windows, macOS, and Linux\uff09\u200b\u7684\u200b\u5f00\u6e90\u200b\u7684\u200bpython\u200b\u865a\u62df\u73af\u5883\u200b\u7ba1\u7406\u5de5\u5177\u200b\uff0c\u200b\u4f9d\u8d56\u4e8e\u200b\u5f00\u53d1\u200b\u73af\u5883\u200b\u4e2d\u539f\u200b\u751f\u200b\u5b89\u88c5\u200b\u7684\u200bPython\u200b\u7248\u672c\u200b\uff08\u200b\u76ee\u524d\u200b\u5b98\u65b9\u200b\u4ec5\u200b\u652f\u6301\u200bPython3.7+\uff09\u200b\u5176\u200b\u4e3b\u8981\u200b\u7279\u70b9\u200b\u6709\u200b\uff1a</li> <li>\u200b\u4f7f\u7528\u200bPipfile\u200b\u548c\u200bPipflile.lock\u200b\u6587\u4ef6\u200b\u6765\u200b\u7ef4\u62a4\u200b\u73af\u5883\u200b\u4e2d\u200b\u7684\u200b\u5305\u200b\u7248\u672c\u200b</li> <li>\u200b\u652f\u6301\u200bpipenv CLI\u200b\u64cd\u4f5c\u200b</li> </ul> <p>\u200b\u9009\u578b\u200b\u8bf4\u660e\u200b\uff1a</p> <ul> <li>\u200b\u4e2a\u4eba\u200b\u5b89\u88c5\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\u5b9e\u64cd\u200b\u8fc7\u200b\u4e00\u904d\u200b\uff0c\u200b\u5e76\u672a\u200b\u5728\u200b\u751f\u4ea7\u200b\u73af\u5883\u200b\u4e2d\u5c06\u200b\u5176\u200b\u5f15\u5165\u200b\u3002</li> <li>\u200b\u5728\u200b\u5b9e\u64cd\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u7ed9\u200b\u4eba\u200b\u7684\u200b\u4f53\u9a8c\u200b\u8fd8\u662f\u200b\u4e0d\u9519\u200b\u7684\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#venv","title":"\u65b9\u6848\u200b\u4e94\u200b\uff1avenv\uff1a\u2606\u2606\u2606","text":"<p>\u200b\u7b80\u8ff0\u200b\uff1a</p> <ul> <li>Python\u200b\u539f\u751f\u200b\u5b89\u88c5\u5305\u200b\u4e2d\u200b\u5185\u7f6e\u200b\u7684\u200b\u865a\u62df\u73af\u5883\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u865a\u62df\u73af\u5883\u200b\u5c06\u200b\u62e5\u6709\u200b\u5b83\u4eec\u200b\u81ea\u5df1\u200b\u72ec\u7acb\u200b\u7684\u200b\u5b89\u88c5\u200b\u5728\u200b\u5176\u200b site,</li> <li>\u200b\u4f7f\u7528\u200b\u8d77\u6765\u200b\u6bd4\u8f83\u7b80\u5355\u200b</li> </ul> <p>\u200b\u9009\u578b\u200b\u8bf4\u660e\u200b\uff1a</p> <ul> <li>\u200b\u4e2a\u4eba\u200b\u8ba4\u4e3a\u200b\u5728\u200b\u4f7f\u7528\u200bdocker\u200b\u6784\u5efa\u200b\u9879\u76ee\u200b\u662f\u200b\u91c7\u7528\u200b\u6539\u200b\u5de5\u5177\u200b\u8fdb\u884c\u200b\u5305\u200b\u7ba1\u7406\u200b\u4f53\u9a8c\u200b\u6bd4\u8f83\u200b\u597d\u200b\uff0c\u200b\u8f7b\u91cf\u200b\u7b80\u5355\u200b\u6613\u7528\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#virtualenv","title":"\u65b9\u6848\u200b\u516d\u200b\uff1aVirtualenv\uff1a\u2606\u2606","text":"<p>\u200b\u7b80\u8ff0\u200b\uff1a</p> <ul> <li>\u200b\u4f9d\u8d56\u4e8e\u200b\u5f00\u53d1\u200b\u73af\u5883\u200b\u4e2d\u200b\u7684\u200b\u539f\u751f\u200bPython\uff0c\u200b\u4ec5\u80fd\u200b\u521b\u5efa\u200b\u76f8\u540c\u200bPython\u200b\u7248\u672c\u200b\u7684\u200b\u4e0d\u540c\u200b\u865a\u62df\u73af\u5883\u200b\uff0c\u200b\u5728\u200b\u65e9\u671f\u200b\u7684\u200bweb\u200b\u5f00\u53d1\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u6bd4\u8f83\u200b\u591a\u200b\u3002</li> <li>\u200b\u8ddf\u200b\u8be6\u7ec6\u200b\u7684\u200b\u4ecb\u7ecd\u200b\u8bf7\u200b\u9605\u8bfb\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b</li> </ul> <p>\u200b\u9009\u578b\u200b\u8bf4\u660e\u200b\uff1a</p> <ul> <li>\u200b\u5728\u200b\u521a\u200b\u4ece\u4e8b\u200bPython\u200b\u76f8\u5173\u200b\u5b66\u4e60\u200b\u548c\u200b\u5de5\u4f5c\u200b\u4f7f\u7528\u200b\u7684\u200b\u6bd4\u8f83\u200b\u591a\u200b\uff0c\u200b\u8fd1\u4e9b\u5e74\u200b\u51e0\u4e4e\u200b\u4e0d\u200b\u5728\u200b\u4f7f\u7528\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u53c8\u200b\u4e0a\u8ff0\u200b\u66f4\u597d\u200b\u7684\u200b\u5de5\u5177\u200b\u53d6\u4ee3\u200b\u4e86\u200b\u5b83\u200b\uff0c\u200b\u4e0d\u8fc7\u200b\u6709\u200b\u5174\u8da3\u200b\u7684\u200b\u5c0f\u4f19\u4f34\u200b\u53ef\u4ee5\u200b\u4f53\u9a8c\u200b\u4f53\u9a8c\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#virtualenvwrapper","title":"\u65b9\u6848\u200b\u4e03\u200b\uff1avirtualenvwrapper\uff1a\u2606\u2606","text":"<p>\u200b\u7b80\u8ff0\u200b\uff1a</p> <ul> <li>\u200b\u4f9d\u8d56\u4e8e\u200b\u4e0a\u8ff0\u200b\u7684\u200bVirtualenv,\u200b\u5176\u672c\u8d28\u200b\u662f\u200b\u4e00\u4e2a\u200bvirtualenv\u200b\u7684\u200b\u811a\u672c\u200b\u5de5\u5177\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u65b9\u4fbf\u200b\u7684\u200b\u521b\u5efa\u200b\u548c\u200b\u5220\u9664\u200b\u865a\u62df\u73af\u5883\u200b\u3002</li> </ul> <p>\u200b\u9009\u578b\u200b\u8bf4\u660e\u200b\uff1a</p> <ul> <li>\u200b\u5728\u200b\u4e2a\u4eba\u200b\u65e9\u8d77\u200b\u4f7f\u7528\u200bvirtualenv,\u200b\u57fa\u672c\u200b\u90fd\u200b\u662f\u200b\u642d\u8f7d\u200b\u4e86\u200bvirtualenvwrapper\u200b\u5de5\u5177\u200b\u6765\u200b\u8fdb\u884c\u200b\u76f8\u5173\u200b\u5f00\u53d1\u200b\u5de5\u4f5c\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#hatch","title":"\u65b9\u6848\u200b\u516b\u200b\uff1aHatch\uff1a\u2606","text":"<p>\u200b\u7b80\u8ff0\u200b\uff1a</p> <ul> <li>Hatch \u200b\u4e5f\u200b\u662f\u200b\u4e00\u6b3e\u200b\u865a\u62df\u73af\u5883\u200b\u7ba1\u7406\u5de5\u5177\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7ba1\u7406\u200b\u73af\u5883\u200b\uff08\u200b\u5b83\u200b\u5141\u8bb8\u200b\u6bcf\u4e2a\u200b\u9879\u76ee\u200b\u6709\u200b\u591a\u4e2a\u200b\u73af\u5883\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u200b\u5141\u8bb8\u200b\u628a\u200b\u5b83\u4eec\u200b\u653e\u5728\u200b\u9879\u76ee\u200b\u76ee\u5f55\u200b\u4e2d\u200b\uff09\uff0c\u200b\u5e76\u4e14\u200b\u53ef\u4ee5\u200b\u7ba1\u7406\u200b\u5305\u200b\uff08\u200b\u4f46\u200b\u4e0d\u200b\u652f\u6301\u200b lockfile\uff09\u3002Hatch \u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7528\u6765\u200b\u6253\u5305\u200b\u4e00\u4e2a\u200b\u9879\u76ee\u200b\uff08\u200b\u7528\u200b\u7b26\u5408\u200b PEP 621 \u200b\u6807\u51c6\u200b\u7684\u200b pyproject.toml \u200b\u6587\u4ef6\u200b\uff09\u200b\u5e76\u200b\u4e0a\u200b\u4f20\u5230\u200b PyPI\u3002</li> </ul> <p>\u200b\u9009\u578b\u200b\u8bf4\u660e\u200b\uff1a</p> <ul> <li>\u200b\u4ec5\u200b\u77e5\u9053\u200b\u6b64\u200b\u5de5\u5177\u200b\uff0c\u200b\u4ece\u672a\u200b\u5b9e\u64cd\u200b\u4f53\u9a8c\u200b\u8fc7\u200b\uff0c\u200b\u662f\u5426\u200b\u63a8\u8350\u200b\u9700\u8981\u200b\u540e\u7eed\u200b\u5b9e\u64cd\u200b\u4f53\u9a8c\u200b\u540e\u200b\u624d\u80fd\u200b\u51b3\u5b9a\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#rye","title":"\u65b9\u6848\u200b\u4e5d\u200b\uff1aRye","text":"<ul> <li>\u200b\u4f7f\u7528\u200bRust\u200b\u5f00\u53d1\u200b\uff0c\u200b\u6682\u672a\u200b\u7814\u7a76\u200b\uff0c\u200b\u503c\u5f97\u200b\u5173\u6ce8\u200b</li> </ul> <p>\u200b\u65b9\u6848\u200b\u5341\u200b\uff1aPyflow </p> <ul> <li>An installation and dependency system for Python,\u200b\u6b64\u200b\u9879\u76ee\u200b\u8fd1\u4e24\u5e74\u200b\u672a\u200b\u66f4\u65b0\u200b\u4e86\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#_3","title":"\u5e38\u7528\u5de5\u5177\u200b\u5b89\u88c5\u200b\u6b65\u9aa4","text":"","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#pip","title":"\u3010pip\u3011\u200b\u5b89\u88c5\u200b\u53ca\u200b\u5e38\u7528\u547d\u4ee4","text":"<ul> <li>\u200b\u5728\u200bpython3\u200b\u4ee5\u540e\u200b\uff0c\u200b\u5b89\u88c5\u200b\u539f\u751f\u200bpython\u200b\u540e\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4f1a\u200b\u5b89\u88c5\u200bpip\u3002\u200b\u6545\u200b\u6b64\u5904\u200b\u5b89\u88c5\u200b\u7565\u200b</li> </ul> <pre><code># \u200b\u5e38\u7528\u547d\u4ee4\u200b\n\n# \u200b\u5b89\u88c5\u200b pkgname1\u200b\u548c\u200b pkgname2\npip install  &lt;pkgname1&gt;  &lt;pkgname2&gt;\n\n# \u200b\u67e5\u770b\u200b\u5df2\u7ecf\u200b\u5b89\u88c5\u200b\u7684\u200b\u5305\u200b\npip list\n\n# \u200b\u67e5\u770b\u200b\u5f53\u524d\u200b\u6e90\u4e2d\u200b\u80fd\u591f\u200b\u5b89\u88c5\u200b\u7684\u200b\u5305\u53ca\u200b\u7248\u672c\u200b\npip search keyword \u200b\u6216\u8005\u200b pypi\n\n# \u200b\u5b89\u88c5\u200b\u5e2e\u52a9\u200b\npip help install\n\n# \u200b\u67e5\u770b\u200bpip\u200b\u7248\u672c\u200b\npip -V\n\n# \u200b\u5c06\u200b\u5df2\u200b\u5b89\u88c5\u200b\u7684\u200b\u5305\u53ca\u200b\u7248\u672c\u200b\u8f93\u51fa\u200b\u5230\u200brequirements.txt\u200b\u6587\u4ef6\u200b\u4e2d\u200b\npip freeze &gt; requirement.txt\n\n# \u200b\u5b89\u88c5\u200brequirements.txt\u200b\u4e2d\u200b\u5168\u90e8\u5305\u200b\uff08\u200b\u9664\u200b#\u200b\u6ce8\u91ca\u200b\u5916\u200b\uff09\npip install -r requirement.txt\n\n# \u200b\u66f4\u65b0\u200bpip\u200b\u7248\u672c\u200b\npip install -U pip  \n</code></pre>","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#conda_2","title":"\u3010conda\u3011\u200b\u5b89\u88c5\u200b\u53ca\u200b\u5e38\u7528\u547d\u4ee4","text":"","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#anaconda","title":"Anaconda\u200b\u5b89\u88c5","text":"<ul> <li>Linux/MacOS\u200b\u7cfb\u7edf\u200b</li> </ul> <p>\u200b\u6e05\u534e\u200b\u955c\u50cf\u200b\u6e90\u200b\uff1a</p> <pre><code># step1: \u200b\u6267\u884c\u200b\u5b89\u88c5\u200b\nbash Anaconda3-2021.11-Linux-x86_64.sh\n\n-----------------------------------------------------------------------------\nlogger:\n\nDo you accept the license terms? [yes|no]\n[no] &gt;&gt;&gt;\nPlease answer 'yes' or 'no':'\n&gt;&gt;&gt; yes\n\nAnaconda3 will now be installed into this location:\n/root/anaconda3\n\n  - Press ENTER to confirm the location\n  - Press CTRL-C to abort the installation\n  - Or specify a different location below\n\n[/root/anaconda3] &gt;&gt;&gt; /data/bluewhale/software/anaconda3\nPREFIX=/data/bluewhale/\n\ninstallation finished.\nDo you wish the installer to initialize Anaconda3\nby running conda init? [yes|no]\n[no] &gt;&gt;&gt; yes\n\n--------------------------------------------------------------------\n\n# step2:\u200b\u914d\u7f6e\u200b\u73af\u5883\u53d8\u91cf\u200b\nvim /etc/profile\n\nexport PATH=$PATH:/data/bluewhale/software/anaconda3/bin\n\nsource /etc/profile\n\nconda init\n</code></pre> <ul> <li>Win\u200b\u7cfb\u7edf\u200b</li> </ul> <p>\u200b\u5b89\u88c5\u5305\u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b</p> <ul> <li>\u200b\u9009\u62e9\u200b\u81ea\u5df1\u200b\u7684\u200b\u5e73\u53f0\u200b\u5bf9\u5e94\u200b\u7684\u200b\u5b89\u88c5\u5305\u200b\uff0c\u200b\u53cc\u51fb\u200b\u5b89\u88c5\u5305\u200b\u4f7f\u7528\u200b\u56fe\u5f62\u5316\u200b\u754c\u9762\u200b\u8fdb\u884c\u200b\u5b89\u88c5\u200b\uff0c\u200b\u6ca1\u6709\u200b\u7279\u6b8a\u200b\u7684\u200b\u914d\u7f6e\u200b\uff0c\u200b\u4e00\u822c\u200b\u4f7f\u7528\u200b\u9ed8\u8ba4\u200b\u9879\u200b\u6309\u7167\u200b\u63d0\u793a\u200b\u8fdb\u884c\u200b\u5b89\u88c5\u200b\u5373\u53ef\u200b</li> <li>\u200b\u7531\u4e8e\u200b\u7b14\u8005\u200b\u6ca1\u6709\u200bwin\u200b\u7cfb\u7edf\u200b\uff0c\u200b\u6545\u200b\u6ca1\u6709\u200b\u573a\u666f\u200b\u8fdb\u884c\u200b\u5b89\u88c5\u200b\u9a8c\u8bc1\u200b\uff0c\u200b\u5728\u200b\u6b64\u200b\u8d34\u200b\u4e0a\u200b\u4e00\u4e2a\u200b\u3010\u200b\u5b89\u88c5\u200b\u6559\u7a0b\u200b\u3011\u200b\u94fe\u63a5\u200b\uff0c\u200b\u4ec5\u4f9b\u53c2\u8003\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#miniconda","title":"Miniconda\u200b\u5b89\u88c5","text":"<p>\u200b\u5b89\u88c5\u5305\u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b</p> <ul> <li>\u200b\u5b89\u88c5\u200b\u6d41\u7a0b\u200b\u548c\u200b\u914d\u7f6e\u200b\u4e0e\u200b\u5b89\u88c5\u200bAnaconda\u200b\u7c7b\u4f3c\u200b\uff0c\u200b\u53ea\u662f\u200b\u5b89\u88c5\u5305\u200b\u4e0d\u200b\u4e00\u6837\u200b\uff0c\u200b\u518d\u6b21\u200b\u4e0d\u200b\u5728\u200b\u8d58\u8ff0\u200b\u8be6\u7ec6\u200b\u6b65\u9aa4\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#_4","title":"\u5e38\u7528\u547d\u4ee4","text":"<ul> <li>\u200b\u521b\u5efa\u200b\u3001\u200b\u8fdb\u5165\u200b\u3001\u200b\u9000\u51fa\u200b\u3001\u200b\u5220\u9664\u200b</li> </ul> <pre><code># \u200b\u521b\u5efa\u200b\u73af\u5883\u200b\nconda create -n &lt;env_name&gt; python=3.8\n\n# \u200b\u67e5\u770b\u200b\u6240\u6709\u200b\u73af\u5883\u200b\nconda env list \nconda info -e\n\n# \u200b\u6fc0\u6d3b\u200b\u865a\u62df\u73af\u5883\u200b\nconda activate &lt;env_name&gt;\n\n# \u200b\u9000\u51fa\u200b\u865a\u62df\u73af\u5883\u200b\nconda deactivate \n\n# \u200b\u5220\u9664\u200b\u865a\u62df\u73af\u5883\u200b\nconda remove -n &lt;env_name&gt; --all\n</code></pre> <ul> <li>\u200b\u67e5\u770b\u200b\u3001\u200b\u5b89\u88c5\u200b\u3001\u200b\u5378\u8f7d\u200b\u4f9d\u8d56\u200b</li> </ul> <pre><code># \u200b\u67e5\u770b\u200b\u7248\u672c\u200b\nconda -V\n\n# \u200b\u67e5\u770b\u200b\u5f53\u524d\u200b\u73af\u5883\u200b\u6240\u6709\u200b\u7684\u200b\u4f9d\u8d56\u200b\u5305\u200b(\u200b\u5df2\u200b\u6fc0\u6d3b\u200b\u7684\u200b\u73af\u5883\u200b\u7684\u200b\u65f6\u200b)\nconda list\n\n# \u200b\u67e5\u770b\u200b\u5f53\u524d\u200b\u73af\u5883\u200b\u6240\u6709\u200b\u7684\u200b\u4f9d\u8d56\u200b\u5305\u200b\uff08\u200b\u672a\u6fc0\u6d3b\u200b\u73af\u5883\u200b\u65f6\u200b\uff09\nconda list -n &lt;env_name&gt;\n\n# \u200b\u67e5\u770b\u200b\u6307\u5b9a\u200b\u4f9d\u8d56\u200b\u5305\u200b\nconda list | grep &lt;pkg_name&gt;\n\n# \u200b\u5b89\u88c5\u200b\u4f9d\u8d56\u200b\u5305\u200b\nconda install &lt;pkg_name&gt;\n\n# \u200b\u5728\u200b\u6307\u5b9a\u200b\u73af\u5883\u200b\u4e2d\u200b\u5b89\u88c5\u200b\u4f9d\u8d56\u200b\u5305\u200b\nconda install -n &lt;env_name&gt; &lt;pkg_name&gt;\n#\u200b\u6216\u200b\npip install numpy -i https://pypi.douban.com/simple  # \u200b\u4e34\u65f6\u200b\u4f7f\u7528\u200b\u56fd\u5185\u200b\u6e90\u200b\u8fdb\u884c\u200b\u5b89\u88c5\u200b\n</code></pre> <ul> <li>\u200b\u5347\u7ea7\u200b\u76f8\u5173\u200b\u547d\u4ee4\u200b</li> </ul> <pre><code># \u200b\u5347\u7ea7\u200bconda\nconda update conda\n\n# \u200b\u5347\u7ea7\u200bpython\nconda update python\n\n# \u200b\u5347\u7ea7\u200b\u6307\u5b9a\u200b\u4f9d\u8d56\u200b\u5305\u200b\nconda update &lt;pkg_name&gt;\n</code></pre> <ul> <li>\u200b\u5206\u4eab\u200b\u3001\u200b\u5bfc\u51fa\u200b\u3001\u200b\u8fc1\u79fb\u200b</li> </ul> <pre><code># \u200b\u5bfc\u51fa\u200b\u5f53\u524d\u200b\u73af\u5883\u200b\u5df2\u200b\u5b89\u88c5\u5305\u200b\u5217\u8868\u200b\u5230\u200byaml\u200b\u6587\u4ef6\u200b\u4e2d\u200b\nconda env export &gt; environment.yaml\n\n# \u200b\u4ece\u6587\u4ef6\u200b\u4e2d\u200b\u521b\u5efa\u200b\u73af\u5883\u200b\nconda env create -f environment.yaml\n\n# \u200b\u514b\u9686\u200b\u865a\u62df\u73af\u5883\u200b\nconda create -n &lt;env_name1&gt; --clone &lt;env_name&gt;\n</code></pre>","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#pyenv_1","title":"\u3010pyenv\u3011\u200b\u5b89\u88c5\u200b\u53ca\u200b\u5e38\u7528\u547d\u4ee4","text":"<ul> <li>\u200b\u5b98\u7f51\u200b\u5b89\u88c5\u200b\u8bf4\u660e\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#_5","title":"\u5e38\u7528\u547d\u4ee4","text":"<pre><code>pyenv help install\n\n# \u200b\u5217\u51fa\u200b\u6240\u6709\u200b\u53ef\u7528\u200b\u7248\u672c\u200b\npyenv install --list\n\n# \u200b\u5728\u7ebf\u200b\u5b89\u88c5\u200b\u6307\u5b9a\u200b\u7248\u672c\u200b\npyenv install 3.8.13\npyenv versions\n\n# \u200b\u4f7f\u7528\u200b\u7f13\u5b58\u200b\u65b9\u5f0f\u200b\u5b89\u88c5\u200b\n## \u200b\u5728\u200b~/.pyenv \u200b\u76ee\u5f55\u200b\u4e0b\u200b\u65b0\u5efa\u200bcache\u200b\u76ee\u5f55\u200b\uff0c\u200b\u653e\u5165\u200b\u4e0b\u8f7d\u200b\u597d\u200b\u7684\u200b\u5f85\u200b\u4e0b\u8f7d\u5b89\u88c5\u200b\u7248\u672c\u200b\u7684\u200b\u6587\u4ef6\u200b\n## \u200b\u4e0d\u200b\u786e\u5b9a\u200b\u8981\u200b\u54ea\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u65f6\u200b\uff0c\u200b\u628a\u200b\u4e0b\u8f7d\u200b\u7684\u200b\u4e09\u4e2a\u200b\u6587\u4ef6\u200b\u90fd\u200b\u653e\u8fdb\u53bb\u200b\npyenv install 3.8.13 -v\n</code></pre>","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#_6","title":"\u7248\u672c\u63a7\u5236","text":"<pre><code># \u200b\u663e\u793a\u200b\u5f53\u524d\u200b\u7684\u200bpython\u200b\u7248\u672c\u200b\npyenv version \n\n# \u200b\u663e\u793a\u200b\u6240\u6709\u200b\u53ef\u7528\u200b\u7684\u200bpython\u200b\u7248\u672c\u200b\uff0c\u200b\u548c\u200b\u5f53\u524d\u200b\u7248\u672c\u200b\npyenv versions \n\n# global\u200b\u5168\u5c40\u200b\u8bbe\u7f6e\u200b\npyenv global 3.8.13\n\n# \u200b\u63d0\u793a\u200b\uff1a\u200b\u5982\u679c\u200b\u662f\u200broot\u200b\u7528\u6237\u200b\u5b89\u88c5\u200b\uff0c\u200b\u4e0d\u200b\u5efa\u8bae\u200b\u4f7f\u7528\u200bglobal\uff0c\u200b\u5426\u5219\u200b\u5f71\u54cd\u200b\u592a\u200b\u5927\u200b\n\n# shell\u200b\u4f1a\u8bdd\u200b\npyenv shell 3.8.13\n\n# local\u200b\u672c\u5730\u200b\u8bbe\u7f6e\u200b\n## \u200b\u4f7f\u7528\u200bpyenv local \u200b\u8bbe\u7f6e\u200b\npyenv local 3.8.13\n</code></pre>","tags":["Python"]},{"location":"python/python_core/devtools/env_package_selection/#virturalenv","title":"virturalenv\u200b\u865a\u62df\u73af\u5883\u200b\u8bbe\u7f6e","text":"<pre><code># \u200b\u4f7f\u7528\u200b\u63d2\u4ef6\u200b \u200b\u5728\u200bplugins/pyenv-virtualenv\u200b\u4e2d\u200b\npyenv virtualenv 3.8.13 py38env\n</code></pre>","tags":["Python"]},{"location":"python/python_core/devtools/pypi_source_usage/","title":"\u5e38\u7528\u200bPypi\u200b\u6e90\u200b\u6c47\u603b\u200b\u53ca\u200b\u4f7f\u7528","text":"","tags":["Python"]},{"location":"python/python_core/devtools/pypi_source_usage/#_1","title":"\u5e38\u7528\u200b\u56fd\u5185\u200b\u6e90","text":"<ul> <li>\u200b\u6e05\u534e\u200b\u6e90\u200b</li> </ul> <pre><code>\u2003# \u200b\u6e05\u534e\u5927\u5b66\u200b \n https://pypi.tuna.tsinghua.edu.cn/simple/ \n\n # \u200b\u963f\u91cc\u200b\u4e91\u200b \n http://mirrors.aliyun.com/pypi/simple/ \n\n\u2003# \u200b\u4e2d\u56fd\u79d1\u6280\u5927\u5b66\u200b \n https://pypi.mirrors.ustc.edu.cn/simple/ \n\n\u2003# \u200b\u8c46\u74e3\u200b(douban) \n http://pypi.douban.com/simple/ \n</code></pre>","tags":["Python"]},{"location":"python/python_core/devtools/pypi_source_usage/#pip","title":"pip \u200b\u56fd\u5185\u200b\u6e90\u200b\u914d\u7f6e","text":"<ul> <li>https://mirrors.tuna.tsinghua.edu.cn/help/pypi/</li> </ul>","tags":["Python"]},{"location":"python/python_core/devtools/pypi_source_usage/#_2","title":"\u4e34\u65f6\u200b\u6307\u5b9a\u200b\u56fd\u5185\u200b\u6e90\u200b\u5b89\u88c5","text":"<ul> <li>\u200b\u5728\u200bpython3.6\u200b\u540e\u200b\uff0c\u200b\u5b98\u65b9\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b <code>python -m pip</code>\u200b\u7684\u200b\u65b9\u5f0f\u200b\u8fdb\u884c\u200b\u5b89\u88c5\u200b\u76f8\u5173\u200b\u5305\u200bx</li> </ul> <pre><code>python -m pip install -i https://mirrors.aliyun.com/pypi/simple &lt;pkgname&gt;\n# pip install -i https://mirrors.aliyun.com/pypi/simple &lt;pkgname&gt;\n\npython -m pip install -i https://pypi.tuna.tsinghua.edu.cn/simple &lt;pkgname&gt;\n\npython -m pip install -i https://mirrors.ustc.edu.cn/pypi/web/simple &lt;pkgname&gt;\n</code></pre>","tags":["Python"]},{"location":"python/python_core/devtools/pypi_source_usage/#_3","title":"\u6c38\u4e45\u200b\u8bbe\u7f6e\u200b\u56fd\u5185\u200b\u6e90\u200b\u5b89\u88c5","text":"<ul> <li>\u200b\u4e0b\u5217\u200b\u4ee5\u200b\u6e05\u534e\u200b\u6e90\u200b\u8bbe\u7f6e\u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u5176\u4ed6\u200b\u6e90\u200b\u8bbe\u7f6e\u200b\u7c7b\u4f3c\u200b</li> </ul> <pre><code>mkdir -p ~/.pip/\ntee &gt; ~/.pip/pip.conf &lt;&lt;EOF\n{\u200b\u6e90\u200b\u540d\u79f0\u200b\u4e0b\u9762\u200b\u7684\u200b\u914d\u7f6e\u200b}\nEOF\n\n----\n\n# \u200b\u6e05\u534e\u200b\u6e90\u200b\n[global]\ntimeout = 6000 \nindex-url = https://pypi.tuna.tsinghua.edu.cn/simple\n[install] \ntrusted-host = pypi.tuna.tsinghua.edu.cn\n</code></pre>","tags":["Python"]},{"location":"python/python_core/devtools/pypi_source_usage/#_4","title":"\u547d\u4ee4\u884c\u200b\u8bbe\u7f6e\u200b\u9ed8\u8ba4\u200b\u6e90","text":"<pre><code>pip install pip -U -i https://pypi.tuna.tsinghua.edu.cn/simple\npip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple\n</code></pre>","tags":["Python"]},{"location":"python/python_core/devtools/pypi_source_usage/#conda","title":"conda \u200b\u56fd\u5185\u200b\u6e90\u200b\u914d\u7f6e","text":"<pre><code># \u200b\u4e2d\u79d1\u5927\u200b\u6e90\u200b\nconda config --add channels https://mirrors.ustc.edu.cn/anaconda/pkgs/main/\nconda config --add channels https://mirrors.ustc.edu.cn/anaconda/pkgs/free/\nconda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/conda-forge/\nconda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/msys2/\nconda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/bioconda/\nconda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/menpo/\nconda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/\n\n# \u200b\u963f\u91cc\u200b\u6e90\u200b\nconda config --add channels https://mirrors.aliyun.com/pypi/simple/\n\n# \u200b\u8c46\u74e3\u200b\u6e90\u200b\nconda config --add channels http://pypi.douban.com/simple/\n\n# \u200b\u5176\u4ed6\u200b\u914d\u7f6e\u200b\n## \u200b\u663e\u793a\u200b\u68c0\u7d22\u200b\u8def\u5f84\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u5b89\u88c5\u5305\u200b\u65f6\u4f1a\u200b\u5c06\u200b\u5305\u6e90\u200b\u8def\u5f84\u200b\u663e\u793a\u200b\u51fa\u6765\u200b\nconda config --set show_channel_urls yes\nconda config --set always_yes True\n\n## \u200b\u663e\u793a\u200b\u6240\u6709\u200b\u955c\u50cf\u200b\u901a\u9053\u200b\u8def\u5f84\u200b\u547d\u4ee4\u200b\nconda config --show channels\n\n# \u200b\u6062\u590d\u200b\u9ed8\u8ba4\u200b\u6e90\u200b\nconda config --remove-key channels\n</code></pre>","tags":["Python"]},{"location":"python/python_core/devtools/pypi_source_usage/#pdm","title":"PDM \u200b\u56fd\u5185\u200b\u6e90\u200b\u914d\u7f6e","text":"<p>\u200b\u901a\u8fc7\u200b\u5982\u4e0b\u200b\u547d\u4ee4\u200b\u8bbe\u7f6e\u200b\u9ed8\u8ba4\u200b\u955c\u50cf\u200b\uff1a</p> <pre><code>pdm config pypi.url https://pypi.tuna.tsinghua.edu.cn/simple\n</code></pre>","tags":["Python"]},{"location":"python/python_core/devtools/pypi_source_usage/#poetry","title":"Poetry \u200b\u56fd\u5185\u200b\u6e90\u200b\u914d\u7f6e","text":"<p>\u200b\u901a\u8fc7\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\u8bbe\u7f6e\u200b\u9996\u9009\u200b\u955c\u50cf\u200b\uff1a</p> <pre><code>poetry source add --priority=primary mirrors https://pypi.tuna.tsinghua.edu.cn/simple/\n</code></pre> <p>\u200b\u901a\u8fc7\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\u8bbe\u7f6e\u200b\u8865\u5145\u200b\u955c\u50cf\u200b\uff1a</p> <pre><code>poetry source add --priority=supplemental mirrors https://pypi.tuna.tsinghua.edu.cn/simple/\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/daily_lib_summary/","title":"Python\u200b\u6bcf\u65e5\u200b\u4e00\u5e93\u200b\u603b\u89c8","text":"","tags":["Python"]},{"location":"python/python_lib/daily_lib_summary/#_1","title":"\u6587\u4ef6\u200b\u5904\u7406","text":"<ul> <li>pathlib: \u200b\u4e00\u6b3e\u200b\u4f7f\u7528\u200b\u9762\u5411\u5bf9\u8c61\u200b\u7684\u200b\u65b9\u5f0f\u200b\u64cd\u4f5c\u200b\u8def\u5f84\u200b\u7684\u200b\u5185\u7f6e\u200b\u5e93\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/daily_lib_summary/#_2","title":"\u6570\u636e\u5904\u7406","text":"<ul> <li>PyFlink: \u200b\u4e00\u6b3e\u200b\u57fa\u4e8e\u200bPython\u200b\u7684\u200bFlink\u200b\u5e93\u200b,\u200b\u7528\u4e8e\u200b\u5206\u5e03\u5f0f\u200b\u5b9e\u65f6\u200b\u8ba1\u7b97\u200b</li> <li>Numpy: \u200b\u4e00\u4e2a\u200b\u5728\u200bPython\u200b\u4e2d\u200b\u505a\u200b\u79d1\u5b66\u8ba1\u7b97\u200b\u7684\u200b\u57fa\u7840\u200b\u5e93\u200b</li> <li>Pandas: \u200b\u4e00\u6b3e\u200b\u57fa\u4e8e\u200bNumpy\u200b\u6784\u5efa\u200b\u7684\u200b\u5206\u6790\u200b\u7ed3\u6784\u5316\u200b\u6570\u636e\u200b\u7684\u200b\u5de5\u5177\u96c6\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/daily_lib_summary/#_3","title":"\u8fdb\u7a0b\u200b\u7ba1\u7406","text":"<ul> <li>subprocess: \u200b\u4e00\u6b3e\u200b\u53ef\u4ee5\u200b\u5728\u200bPython\u200b\u7a0b\u5e8f\u200b\u5185\u200b\u6267\u884c\u200b\u5916\u90e8\u547d\u4ee4\u200b\u7684\u200b\u5185\u7f6e\u200b\u5e93\u200b</li> <li>supervisor: \u200b\u4e00\u6b3e\u200b\u7528\u4e8e\u200bLinux\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u7ba1\u7406\u5de5\u5177\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/daily_lib_summary/#_4","title":"\u4efb\u52a1\u200b\u5904\u7406","text":"<ul> <li>APScheduler: \u200b\u4e00\u6b3e\u200bPython\u200b\u5f00\u53d1\u200b\u7684\u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u200b\u5de5\u5177\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_lib/daily_lib_summary/#modelops","title":"ModelOps","text":"<ul> <li>MLFlow: \u200b\u4e00\u6b3e\u200b\u7528\u4e8e\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u6a21\u578b\u200b\u7684\u200b\u5168\u200b\u751f\u547d\u5468\u671f\u200b\u7ba1\u7406\u200b\u7684\u200b\u5e93\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/lib_common_summary/","title":"Python \u200b\u5e38\u7528\u200b\u5e93\u200b\u6c47\u603b","text":"","tags":["Python"]},{"location":"python/python_lib/lib_common_summary/#web","title":"Web\u200b\u5f00\u53d1\u200b\u5e93","text":"<ul> <li>Django: \u200b\u4e00\u6b3e\u200b\u5168\u9762\u200b\u4e14\u200b\u91cd\u91cf\u200b\uff08\u200b\u5927\u800c\u5168\u200b\uff09\u200b\u7684\u200bWeb\u200b\u6846\u67b6\u200b\uff0c\u200b\u5f53\u524d\u200bstar\u200b\u6570\u200b\uff1a 75.1k</li> <li>FastAPI: \u200b\u4e00\u6b3e\u200b\u9ad8\u6027\u80fd\u200b\u3001\u200b\u5f02\u6b65\u200b\u7684\u200b\u8f7b\u91cf\u7ea7\u200bWeb\u200b\u6846\u67b6\u200b\uff0c\u200b\u5f53\u524d\u200bstar\u200b\u6570\u200b\uff1a67.2k</li> <li>Flask: \u200b\u4e00\u6b3e\u200b\u8f7b\u91cf\u7ea7\u200b\u7528\u4e8e\u200b\u6784\u5efa\u200bWeb\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u7684\u200bPython\u200b\u5fae\u200b\u6846\u67b6\u200b\uff0c \u200b\u5f53\u524d\u200bstar\u200b\u6570\u200b\uff1a65.5k</li> <li>streamlit: \u200b\u4e00\u6b3e\u200b\u5feb\u901f\u200b\u642d\u5efa\u200b\u6570\u636e\u5171\u4eab\u200b\u4e0e\u200b\u53ef\u89c6\u5316\u200b\u7684\u200bWeb\u200b\u5e94\u7528\u200b\u6846\u67b6\u200b\uff0c\u200b\u5f53\u524d\u200bstar\u200b\u6570\u200b\uff1a29.7k</li> <li>django-rest-framework: \u200b\u4e00\u6b3e\u200b\u57fa\u4e8e\u200bDjango\uff0c\u200b\u7528\u4e8e\u200b\u5feb\u901f\u200b\u5f00\u53d1\u200bWeb API\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u6269\u5c55\u200b\u6846\u67b6\u200b\uff0c\u200b\u5f53\u524d\u200bstar\u200b\u6570\u200b\uff1a27k</li> <li>gradio: \u00a0\u200b\u4e00\u6b3e\u200b\u7528\u4e8e\u200b\u5feb\u901f\u200b\u6784\u5efa\u200bAI\u200b\u7b97\u6cd5\u200b\u53ef\u89c6\u5316\u200b\u90e8\u7f72\u200b\u7684\u200b\u6846\u67b6\u200b\uff0c\u200b\u5f53\u524d\u200bstar\u200b\u6570\u200b\uff1a25.7k</li> <li>Tornado: \u200b\u4e00\u6b3e\u200b\u5f02\u6b65\u200b\u7684\u200b\u7f51\u7edc\u200b\u5e93\u200b\uff0c\u200b\u53ef\u200b\u7528\u4e8e\u200b\u5feb\u901f\u200b\u5f00\u53d1\u200bWeb\u200b\u5e94\u7528\u200b\u7684\u200b\u6846\u67b6\u200b\uff0c\u200b\u5f53\u524d\u200bstar\u200b\u6570\u200b\uff1a21.4k</li> <li>sanic: \u200b\u4e00\u6b3e\u200b\u5feb\u901f\u200b\u6784\u5efa\u200b\u3001\u200b\u5feb\u901f\u200b\u5f00\u53d1\u200b\u7684\u200b\u5f02\u6b65\u200bWeb\u200b\u6846\u67b6\u200b\uff0c\u200b\u5f53\u524d\u200bstar\u200b\u6570\u200b\uff1a17.6k</li> <li>Falcon\uff1a\u200b\u9762\u5411\u200bpython\u200b\u5f00\u53d1\u4eba\u5458\u200b\u7684\u200b\u7b80\u5355\u200bWeb\u200b\u6570\u636e\u200b\u5e73\u9762\u200bAPI\u200b\u548c\u200b\u5fae\u200b\u670d\u52a1\u200b\u6846\u67b6\u200b\uff0c\u200b\u5f53\u524d\u200bstar\u200b\u6570\u200b\uff1a 9.3k</li> <li>nicegui: \u200b\u4e00\u6b3e\u200b\u4f7f\u7528\u200bpython\u200b\u5f00\u53d1\u200b\u7684\u200bWeb\u200b\u7528\u6237\u754c\u9762\u200b\uff0c\u200b\u5f53\u524d\u200bstar\u200b\u6570\u200b\uff1a 6.4k</li> <li>nameko:\u200b\u4e00\u6b3e\u200b\u7528\u4e8e\u200b\u6784\u5efa\u200b\u5fae\u200b\u670d\u52a1\u200b\u7684\u200bPython\u200b\u6846\u67b6\u200b\uff0c\u200b\u5f53\u524d\u200bstar\u200b\u6570\u200b\uff1a4.6k</li> <li>cherrypy: \u200b\u4e00\u4e2a\u200b\u8f7b\u91cf\u7ea7\u200b\u3001Pythonic\u3001\u200b\u9762\u5411\u5bf9\u8c61\u200b\u7684\u200bHTTP \u200b\u6846\u67b6\u200b\uff0c\u200b\u5f53\u524d\u200bstar\u200b\u6570\u200b\uff1a1.8k</li> <li>Microdot: \u200b\u9002\u7528\u200b\u4e8e\u200bPython\u200b\u548c\u200bMicrodot\u200b\u7684\u200b\u8d85\u5c0f\u578b\u200bWeb\u200b\u6846\u67b6\u200b\uff1b\u200b\u5f53\u524d\u200bstar\u200b\u6570\u200b\uff1a1.2k</li> </ul>","tags":["Python"]},{"location":"python/python_lib/lib_common_summary/#python","title":"Python \u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u5e93","text":"<ul> <li>lightautoml\uff1a\u200b\u4e00\u6b3e\u200b\u5168\u81ea\u52a8\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u6846\u67b6\u200b\uff0c \u200b\u5f53\u524d\u200b star \u200b\u6570\u200b\uff1a720</li> </ul>","tags":["Python"]},{"location":"python/python_lib/lib_common_summary/#python_1","title":"Python \u200b\u6570\u636e\u5904\u7406\u200b\u5e93","text":"<ul> <li>voluptuous: \u200b\u4e00\u4e2a\u200b Python \u200b\u6570\u636e\u200b\u9a8c\u8bc1\u200b\u5e93\u200b,\u200b\u5f53\u524d\u200b star \u200b\u6570\u200b\uff1a1.8k</li> </ul>","tags":["Python"]},{"location":"python/python_lib/lib_common_summary/#orm","title":"ORM \u200b\u5e93","text":"<ul> <li>sqlalchemy: Python \u200b\u6570\u636e\u5e93\u200b\u5de5\u5177\u5305\u200b</li> <li>databases: Python\u200b\u7684\u200b\u5f02\u6b65\u200b\u6570\u636e\u5e93\u200b\u652f\u6301\u200b</li> <li>django-orm:</li> <li>peewee</li> <li>tortoise-orm</li> <li>alembic: \u200b\u6570\u636e\u5e93\u200b\u8fc1\u79fb\u200b\u5de5\u5177\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/lib_common_summary/#_1","title":"\u73af\u5883\u200b\u5305\u200b\u7ba1\u7406\u200b\u5e93","text":"<ul> <li>conda: \u200b\u5305\u200b\u7ba1\u7406\u5de5\u5177\u200b</li> <li>poetry: \u200b\u4f9d\u8d56\u200b\u7ba1\u7406\u5de5\u5177\u200b</li> <li>pdm: \u200b\u4f9d\u8d56\u200b\u7ba1\u7406\u5de5\u5177\u200b</li> <li>pipx: \u200b\u7ba1\u7406\u200bPython\u200b\u5305\u200b\u7684\u200b\u5de5\u5177\u200b,\u200b\u5728\u200b\u9694\u79bb\u200b\u73af\u5883\u200b\u4e2d\u200b\u5b89\u88c5\u200b\u548c\u200b\u8fd0\u884c\u200b Python \u200b\u5e94\u7528\u7a0b\u5e8f\u200b</li> <li>pipenv: \u200b\u7ba1\u7406\u200bPython\u200b\u5305\u200b\u7684\u200b\u5de5\u5177\u200b</li> <li>virtualenv: \u200b\u865a\u62df\u73af\u5883\u200b\u7ba1\u7406\u5de5\u5177\u200b</li> <li>venv: \u200b\u865a\u62df\u73af\u5883\u200b\u7ba1\u7406\u5de5\u5177\u200b</li> <li>virtualenvwrapper: \u200b\u865a\u62df\u73af\u5883\u200b\u7ba1\u7406\u5de5\u5177\u200b</li> <li>pyenv: Python\u200b\u7248\u672c\u200b\u7ba1\u7406\u5de5\u5177\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/lib_common_summary/#_2","title":"\u4efb\u52a1\u200b\u5e93","text":"<ul> <li>celery: \u200b\u5206\u5e03\u5f0f\u200b\u4efb\u52a1\u8c03\u5ea6\u200b\u6846\u67b6\u200b</li> <li>apscheduler: \u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u8c03\u5ea6\u200b\u6846\u67b6\u200b</li> <li>funboost: \u200b\u5f02\u6b65\u200b\u4efb\u52a1\u8c03\u5ea6\u200b\u6846\u67b6\u200b</li> <li>rq: \u200b\u8f7b\u91cf\u7ea7\u200b\u4efb\u52a1\u8c03\u5ea6\u200b\u6846\u67b6\u200b</li> <li>sched: \u200b\u8f7b\u91cf\u7ea7\u200b\u4efb\u52a1\u8c03\u5ea6\u200b\u6846\u67b6\u200b</li> <li>schedule: \u200b\u8f7b\u91cf\u7ea7\u200b\u4efb\u52a1\u8c03\u5ea6\u200b\u6846\u67b6\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/lib_common_summary/#_3","title":"\u6027\u80fd\u200b\u5206\u6790\u200b\u5e93","text":"<ul> <li>cProfile: \u200b\u6807\u51c6\u200b\u5e93\u200b\u81ea\u5e26\u200b\u7684\u200b\u6027\u80fd\u200b\u5206\u6790\u200b</li> <li>memory_profiler: \u200b\u5185\u5b58\u200b\u5206\u6790\u200b\u5de5\u5177\u200b\uff0c\u200b\u76d1\u63a7\u200bPython\u200b\u4ee3\u7801\u200b\u7684\u200b\u5185\u5b58\u200b\u4f7f\u7528\u200b\u60c5\u51b5\u200b</li> <li>line_profiler: \u200b\u884c\u7ea7\u200b\u6027\u80fd\u200b\u5206\u6790\u200b\u5de5\u5177\u200b\uff0c</li> </ul>","tags":["Python"]},{"location":"python/python_lib/lib_common_summary/#_4","title":"\u4ee3\u7801\u200b\u7f16\u8bd1\u200b\u52a0\u5bc6\u200b\u5e93","text":"<ul> <li>Nuitka: \u200b\u4ee3\u7801\u200b\u52a0\u5bc6\u200b\u5de5\u5177\u200b,\u200b\u4e00\u4e2a\u200b\u7528\u200b Python \u200b\u7f16\u5199\u200b\u7684\u200b Python \u200b\u7f16\u8bd1\u5668\u200b</li> <li>pyarmor: \u200b\u4ee3\u7801\u200b\u52a0\u5bc6\u200b\u5de5\u5177\u200b</li> <li>py2sec: \u200b\u4e00\u4e2a\u200b\u8de8\u5e73\u53f0\u200b\u3001\u200b\u5feb\u901f\u200b\u4e14\u200b\u7075\u6d3b\u200b\u7684\u200b\u5de5\u5177\u200b\uff0c\u200b\u53ef\u200b\u5c06\u200b .py \u200b\u66f4\u200b\u6539\u4e3a\u200b .so\uff08Linux \u200b\u548c\u200b Mac\uff09\u200b\u6216\u200b .pyd\uff08Win\uff09</li> <li>pyinstaller: \u200b\u4ee3\u7801\u200b\u6253\u5305\u200b\u5de5\u5177\u200b,\u200b\u5c06\u200b Python \u200b\u7a0b\u5e8f\u200b\u51bb\u7ed3\u200b\uff08\u200b\u6253\u5305\u200b\uff09\u200b\u4e3a\u200b\u72ec\u7acb\u200b\u7684\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/lib_common_summary/#_5","title":"\u6d4b\u8bd5\u200b\u5e93","text":"<ul> <li>pytest: \u200b\u6d4b\u8bd5\u200b\u6846\u67b6\u200b</li> <li>unittest: \u200b\u5355\u5143\u6d4b\u8bd5\u200b\u6846\u67b6\u200b</li> <li>pytest-html: \u200b\u6d4b\u8bd5\u62a5\u544a\u200b\u751f\u6210\u200b\u5de5\u5177\u200b</li> <li>mock: \u200b\u6a21\u62df\u200b\u5bf9\u8c61\u200b\u5e93\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/lib_common_summary/#_6","title":"\u4f9d\u8d56\u200b\u6ce8\u5165\u200b\u6846\u67b6","text":"<ul> <li>dependency-injector: \u200b\u4f9d\u8d56\u200b\u6ce8\u5165\u200b\u6846\u67b6\u200b</li> <li>bevy: \u200b\u4f9d\u8d56\u200b\u6ce8\u5165\u200b\u6846\u67b6\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/lib_common_summary/#_7","title":"\u91cd\u8bd5\u200b\u5e93\u200b\uff1a","text":"<ul> <li>retry: \u200b\u91cd\u8bd5\u200b\u5e93\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/lib_common_summary/#_8","title":"\u8fdb\u7a0b\u200b\u7ba1\u7406\u200b\u5e93","text":"<ul> <li>supervisor: \u200b\u8fdb\u7a0b\u200b\u7ba1\u7406\u5de5\u5177\u200b</li> <li>gunicorn: \u200b\u8fdb\u7a0b\u200b\u7ba1\u7406\u5de5\u5177\u200b</li> <li>uwsgi: \u200b\u8fdb\u7a0b\u200b\u7ba1\u7406\u5de5\u5177\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/lib_common_summary/#_9","title":"\u64cd\u4f5c\u200b\u65e5\u671f\u200b\u65f6\u95f4\u200b\u5e93","text":"<ul> <li>time: \u200b\u5b98\u65b9\u200b\u5185\u7f6e\u200b\u5e93\u200b</li> <li>datetime: \u200b\u5b98\u65b9\u200b\u5185\u7f6e\u200b\u5e93\u200b</li> <li>arrow: \u200b\u65e5\u671f\u200b\u65f6\u95f4\u200b\u5e93\u200b</li> <li>dateutil</li> <li>arrow</li> <li>delorean</li> <li>Freezegun</li> <li>moment</li> <li>maya</li> </ul>","tags":["Python"]},{"location":"python/python_lib/lib_common_summary/#json","title":"\u64cd\u4f5c\u200bJson\u200b\u6587\u4ef6","text":"<ul> <li>Json:\u200b\u5b98\u65b9\u200b\u5185\u7f6e\u200b\u5e93\u200b </li> <li>\u3010\u2606\u3011Jmespath: \u200b\u662f\u200b\u4e00\u4e2a\u200bjson\u200b\u67e5\u8be2\u200b\u5e93\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u58f0\u660e\u200b\u7684\u200b\u65b9\u5f0f\u200b\u4ece\u200bJson\u200b\u4e2d\u200b\u63d0\u53d6\u200b\u5143\u7d20\u200b </li> </ul>","tags":["Python"]},{"location":"python/python_lib/lib_common_summary/#yaml","title":"\u64cd\u4f5c\u200bYAML\u200b\u6587\u4ef6","text":"<ul> <li>PyYAML</li> </ul>","tags":["Python"]},{"location":"python/python_lib/lib_common_summary/#_10","title":"\u672a\u5206\u7c7b","text":"<ul> <li>Faker: \u200b\u4e00\u4e2a\u200b\u7528\u4e8e\u200b\u751f\u6210\u200b\u865a\u62df\u200b\u6570\u636e\u200b\u7684\u200bpython\u200b\u5e93\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/APScheduler/","title":"APScheduler -> \u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u200b\u5de5\u5177","text":"","tags":["Python"]},{"location":"python/python_lib/libs/APScheduler/#apscheduler","title":"APScheduler\u200b\u6982\u8ff0","text":"<ul> <li> <p>APScheduler \uff08advanceded python scheduler\uff09\u200b\u662f\u200b\u4e00\u6b3e\u200bPython\u200b\u5f00\u53d1\u200b\u7684\u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u200b\u5de5\u5177\u200b\u3002</p> </li> <li> <p>\u200b\u6587\u6863\u200b\u5730\u5740\u200b https://apscheduler.readthedocs.io/en/latest/userguide.html#starting-the-scheduler</p> </li> <li> <p>\u200b\u7279\u70b9\u200b\uff1a</p> <ul> <li> <p>\u200b\u4e0d\u200b\u4f9d\u8d56\u4e8e\u200bLinux\u200b\u7cfb\u7edf\u200b\u7684\u200bcrontab\u200b\u7cfb\u7edf\u200b\u5b9a\u65f6\u200b\uff0c\u200b\u72ec\u7acb\u200b\u8fd0\u884c\u200b</p> </li> <li> <p>\u200b\u53ef\u4ee5\u200b\u52a8\u6001\u200b\u6dfb\u52a0\u200b\u65b0\u200b\u7684\u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u200b\uff0c\u200b\u5982\u200b</p> </li> <li> <p>\u200b\u4e0b\u5355\u200b\u540e\u200b30\u200b\u5206\u949f\u200b\u5185\u200b\u5fc5\u987b\u200b\u652f\u4ed8\u200b\uff0c\u200b\u5426\u5219\u200b\u53d6\u6d88\u200b\u8ba2\u5355\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u501f\u52a9\u200b\u6b64\u200b\u5de5\u5177\u200b\uff08\u200b\u6bcf\u4e0b\u200b\u4e00\u5355\u200b\u5c31\u8981\u200b\u6dfb\u52a0\u200b\u6b64\u200b\u8ba2\u5355\u200b\u7684\u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u200b\uff09</p> </li> <li> <p>\u200b\u5bf9\u200b\u6dfb\u52a0\u200b\u7684\u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u200b\u53ef\u4ee5\u200b\u505a\u200b\u6301\u4e45\u200b\u4fdd\u5b58\u200b</p> </li> </ul> </li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/APScheduler/#1","title":"1.\u200b\u5b89\u88c5","text":"<pre><code>pip install apscheduler\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/APScheduler/#2","title":"2.\u200b\u4f7f\u7528\u200b\u65b9\u5f0f","text":"<pre><code>from apscheduler.schedulers.background import BackgroundScheduler\n\n# \u200b\u521b\u5efa\u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u200b\u7684\u200b\u8c03\u5ea6\u200b\u5668\u200b\u5bf9\u8c61\u200b\nscheduler = BackgroundScheduler()\n\n# \u200b\u5b9a\u4e49\u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u200b\ndef my_job(param1, param2):\n    pass\n\n# \u200b\u5411\u200b\u8c03\u5ea6\u200b\u5668\u4e2d\u200b\u6dfb\u52a0\u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u200b\nscheduler.add_job(my_job, 'date', args=[100, 'python'])\n\n# \u200b\u542f\u52a8\u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u8c03\u5ea6\u200b\u5668\u200b\u5de5\u4f5c\u200b\nscheduler.start()\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/APScheduler/#3scheduler","title":"3.\u200b\u8c03\u5ea6\u200b\u5668\u200bScheduler","text":"<p>\u200b\u8d1f\u8d23\u7ba1\u7406\u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u200b</p> <ul> <li>BlockingScheduler: \u200b\u4f5c\u4e3a\u200b\u72ec\u7acb\u200b\u8fdb\u7a0b\u200b\u65f6\u200b\u4f7f\u7528\u200b</li> </ul> <pre><code>from apscheduler.schedulers.blocking import BlockingScheduler\n\nscheduler = BlockingScheduler()\nscheduler.start()  # \u200b\u6b64\u5904\u200b\u7a0b\u5e8f\u200b\u4f1a\u200b\u53d1\u751f\u200b\u963b\u585e\u200b\n</code></pre> <ul> <li>BackgroundScheduler: \u200b\u5728\u200b\u6846\u67b6\u200b\u7a0b\u5e8f\u200b\uff08\u200b\u5982\u200bDjango\u3001Flask\uff09\u200b\u4e2d\u200b\u4f7f\u7528\u200b</li> </ul> <pre><code>from apscheduler.schedulers.background import BackgroundScheduler\n\nscheduler = BackgroundScheduler()\nscheduler.start()  # \u200b\u6b64\u5904\u200b\u7a0b\u5e8f\u200b\u4e0d\u4f1a\u200b\u53d1\u751f\u200b\u963b\u585e\u200b\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/APScheduler/#4-executors","title":"4.\u200b\u6267\u884c\u5668\u200b executors","text":"<p>\u200b\u5728\u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u200b\u8be5\u200b\u6267\u884c\u200b\u65f6\u200b\uff0c\u200b\u4ee5\u200b\u8fdb\u7a0b\u200b\u6216\u200b\u7ebf\u7a0b\u200b\u65b9\u5f0f\u200b\u6267\u884c\u200b\u4efb\u52a1\u200b</p> <ul> <li>ThreadPoolExecutor</li> </ul> <pre><code>from apscheduler.executors.pool import ThreadPoolExecutor\n\nThreadPoolExecutor(max_workers)  \nThreadPoolExecutor(20) # \u200b\u6700\u200b\u591a\u200b20\u200b\u4e2a\u200b\u7ebf\u7a0b\u200b\u540c\u65f6\u200b\u6267\u884c\u200b\n</code></pre> <p>\u200b\u4f7f\u7528\u200b\u65b9\u6cd5\u200b</p> <pre><code>executors = {\n    'default': ThreadPoolExecutor(20)\n}\nscheduler = BackgroundScheduler(executors=executors)\n</code></pre> <ul> <li>ProcessPoolExecutor</li> </ul> <pre><code>from apscheduler.executors.pool import ProcessPoolExecutor\n\nProcessPoolExecutor(max_workers)\nProcessPoolExecutor(5) # \u200b\u6700\u200b\u591a\u200b5\u200b\u4e2a\u200b\u8fdb\u7a0b\u200b\u540c\u65f6\u200b\u6267\u884c\u200b\n</code></pre> <p>\u200b\u4f7f\u7528\u200b\u65b9\u6cd5\u200b</p> <pre><code>executors = {\n    'default': ProcessPoolExecutor(3)\n}\nscheduler = BackgroundScheduler(executors=executors)\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/APScheduler/#5-trigger","title":"5.\u200b\u89e6\u53d1\u5668\u200b Trigger","text":"<p>\u200b\u6307\u5b9a\u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u200b\u6267\u884c\u200b\u7684\u200b\u65f6\u673a\u200b</p> <p>1\uff09 date \u200b\u5728\u200b\u7279\u5b9a\u200b\u7684\u200b\u65f6\u95f4\u200b\u65e5\u671f\u200b\u6267\u884c\u200b</p> <p><pre><code>from datetime import date\n\n# \u200b\u5728\u200b2019\u200b\u5e74\u200b11\u200b\u6708\u200b6\u200b\u65e5\u200b00:00:00\u200b\u6267\u884c\u200b\nsched.add_job(my_job, 'date', run_date=date(2009, 11, 6))\n\n# \u200b\u5728\u200b2019\u200b\u5e74\u200b11\u200b\u6708\u200b6\u200b\u65e5\u200b16:30:05\nsched.add_job(my_job, 'date', run_date=datetime(2009, 11, 6, 16, 30, 5))\nsched.add_job(my_job, 'date', run_date='2009-11-06 16:30:05')\n\n# \u200b\u7acb\u5373\u200b\u6267\u884c\u200b\nsched.add_job(my_job, 'date')  \nsched.start()\n</code></pre> 2\uff09 interval \u200b\u7ecf\u8fc7\u200b\u6307\u5b9a\u200b\u7684\u200b\u65f6\u95f4\u200b\u95f4\u9694\u200b\u6267\u884c\u200b</p> <ul> <li>weeks (int) \u2013 number of weeks to wait</li> <li>days (int) \u2013 number of days to wait</li> <li>hours (int) \u2013 number of hours to wait</li> <li>minutes (int) \u2013 number of minutes to wait</li> <li>seconds (int) \u2013 number of seconds to wait</li> <li>start_date (datetime|str) \u2013 starting point for the interval calculation</li> <li>end_date (datetime|str) \u2013 latest possible date/time to trigger on</li> <li>timezone (datetime.tzinfo|str) \u2013 time zone to use for the date/time calculations</li> </ul> <pre><code>from datetime import datetime\n\n# \u200b\u6bcf\u200b\u4e24\u200b\u5c0f\u65f6\u200b\u6267\u884c\u200b\u4e00\u6b21\u200b\nsched.add_job(job_function, 'interval', hours=2)\n\n# \u200b\u5728\u200b2010\u200b\u5e74\u200b10\u200b\u6708\u200b10\u200b\u65e5\u200b09:30:00 \u200b\u5230\u200b2014\u200b\u5e74\u200b6\u200b\u6708\u200b15\u200b\u65e5\u200b\u7684\u200b\u65f6\u95f4\u200b\u5185\u200b\uff0c\u200b\u6bcf\u200b\u4e24\u200b\u5c0f\u65f6\u200b\u6267\u884c\u200b\u4e00\u6b21\u200b\nsched.add_job(job_function, 'interval', hours=2, start_date='2010-10-10 09:30:00', end_date='2014-06-15 11:00:00')\n</code></pre> <p>3\uff09 cron \u200b\u6309\u200b\u6307\u5b9a\u200b\u7684\u200b\u5468\u671f\u200b\u6267\u884c\u200b</p> <ul> <li>year (int|str) \u2013 4-digit year</li> <li>month (int|str) \u2013 month (1-12)</li> <li>day (int|str) \u2013 day of the (1-31)</li> <li>week (int|str) \u2013 ISO week (1-53)</li> <li>day_of_week (int|str) \u2013 number or name of weekday (0-6 or mon,tue,wed,thu,fri,sat,sun)</li> <li>hour (int|str) \u2013 hour (0-23)</li> <li>minute (int|str) \u2013 minute (0-59)</li> <li>second (int|str) \u2013 second (0-59)</li> <li>start_date (datetime|str) \u2013 earliest possible date/time to trigger on (inclusive)</li> <li>end_date (datetime|str) \u2013 latest possible date/time to trigger on (inclusive)</li> <li>timezone (datetime.tzinfo|str) \u2013 time zone to use for the date/time calculations (defaults to scheduler timezone)</li> </ul> <pre><code># \u200b\u5728\u200b6\u30017\u30018\u300111\u300112\u200b\u6708\u200b\u7684\u200b\u7b2c\u4e09\u4e2a\u200b\u5468\u4e94\u200b\u7684\u200b00:00, 01:00, 02:00\u200b\u548c\u200b03:00 \u200b\u6267\u884c\u200b\nsched.add_job(job_function, 'cron', month='6-8,11-12', day='3rd fri', hour='0-3')\n\n# \u200b\u5728\u200b2014\u200b\u5e74\u200b5\u200b\u6708\u200b30\u200b\u65e5\u524d\u200b\u7684\u200b\u5468\u4e00\u200b\u5230\u200b\u5468\u4e94\u200b\u7684\u200b5:30\u200b\u6267\u884c\u200b\nsched.add_job(job_function, 'cron', day_of_week='mon-fri', hour=5, minute=30, end_date='2014-05-30')\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/APScheduler/#6","title":"6. \u200b\u914d\u7f6e\u200b\u65b9\u6cd5","text":"","tags":["Python"]},{"location":"python/python_lib/libs/APScheduler/#1_1","title":"\u65b9\u6cd5\u200b1","text":"<pre><code>from apscheduler.schedulers.background import BackgroundScheduler\nfrom apscheduler.executors.pool import ThreadPoolExecutor\n\nexecutors = {\n    'default': ThreadPoolExecutor(20),\n}\nscheduler = BackgroundScheduler(executors=executors)\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/APScheduler/#2_1","title":"\u65b9\u6cd5\u200b2","text":"<pre><code>from pytz import utc\n\nfrom apscheduler.schedulers.background import BackgroundScheduler\nfrom apscheduler.jobstores.sqlalchemy import SQLAlchemyJobStore\nfrom apscheduler.executors.pool import ProcessPoolExecutor\n\nexecutors = {\n    'default': {'type': 'threadpool', 'max_workers': 20},\n    'processpool': ProcessPoolExecutor(max_workers=5)\n}\n\nscheduler = BackgroundScheduler()\n\n# .. \u200b\u6b64\u5904\u200b\u53ef\u4ee5\u200b\u7f16\u5199\u200b\u5176\u4ed6\u200b\u4ee3\u7801\u200b\n\n# \u200b\u4f7f\u7528\u200bconfigure\u200b\u65b9\u6cd5\u200b\u8fdb\u884c\u200b\u914d\u7f6e\u200b\nscheduler.configure(executors=executors)\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/APScheduler/#7","title":"7. \u200b\u542f\u52a8","text":"<p><pre><code>scheduler.start()\n</code></pre> - \u200b\u5bf9\u4e8e\u200bBlockingScheduler \uff0c\u200b\u7a0b\u5e8f\u200b\u4f1a\u200b\u963b\u585e\u200b\u5728\u200b\u8fd9\u200b\uff0c\u200b\u9632\u6b62\u200b\u9000\u51fa\u200b - \u200b\u5bf9\u4e8e\u200bBackgroundScheduler\uff0c\u200b\u7a0b\u5e8f\u200b\u4f1a\u200b\u7acb\u5373\u200b\u8fd4\u56de\u200b\uff0c\u200b\u540e\u53f0\u200b\u8fd0\u884c\u200b</p>","tags":["Python"]},{"location":"python/python_lib/libs/APScheduler/#8","title":"8.\u200b\u6269\u5c55","text":"","tags":["Python"]},{"location":"python/python_lib/libs/APScheduler/#_1","title":"\u4efb\u52a1\u200b\u7ba1\u7406","text":"","tags":["Python"]},{"location":"python/python_lib/libs/APScheduler/#_2","title":"\u65b9\u5f0f\u200b\u4e00","text":"<pre><code>job = scheduler.add_job(myfunc, 'interval', minutes=2)  # \u200b\u6dfb\u52a0\u200b\u4efb\u52a1\u200b\njob.remove()  # \u200b\u5220\u9664\u200b\u4efb\u52a1\u200b\njob.pause() # \u200b\u6682\u5b9a\u200b\u4efb\u52a1\u200b\njob.resume()  # \u200b\u6062\u590d\u200b\u4efb\u52a1\u200b\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/APScheduler/#_3","title":"\u65b9\u5f0f\u200b\u4e8c","text":"<pre><code>scheduler.add_job(myfunc, 'interval', minutes=2, id='my_job_id')  # \u200b\u6dfb\u52a0\u200b\u4efb\u52a1\u200b    \nscheduler.remove_job('my_job_id')  # \u200b\u5220\u9664\u200b\u4efb\u52a1\u200b\nscheduler.pause_job('my_job_id')  # \u200b\u6682\u5b9a\u200b\u4efb\u52a1\u200b\nscheduler.resume_job('my_job_id')  # \u200b\u6062\u590d\u200b\u4efb\u52a1\u200b\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/APScheduler/#_4","title":"\u8c03\u6574\u200b\u4efb\u52a1\u8c03\u5ea6\u200b\u5468\u671f","text":"<pre><code>job.modify(max_instances=6, name='Alternate name')\n\nscheduler.reschedule_job('my_job_id', trigger='cron', minute='*/5')\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/APScheduler/#apscheduler_1","title":"\u505c\u6b62\u200bAPScheduler\u200b\u8fd0\u884c","text":"<pre><code>scheduler.shutdown()\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/MLflow/","title":"MLflow-> \u200b\u6a21\u578b\u200b\u751f\u547d\u5468\u671f\u200b\u7ba1\u7406","text":"","tags":["Python"]},{"location":"python/python_lib/libs/MLflow/#mlflow","title":"MLFlow\u200b\u6982\u8ff0","text":"","tags":["Python"]},{"location":"python/python_lib/libs/MLflow/#_1","title":"\u9002\u7528\u200b\u573a\u666f","text":"<ul> <li>\u200b\u4ea7\u751f\u200b\u80cc\u666f\u200b</li> </ul> <p>\u200b\u6bcf\u4e2a\u200b\u505a\u8fc7\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u5f00\u53d1\u200b\u7684\u200b\u4eba\u200b\u90fd\u200b\u77e5\u9053\u200b\u673a\u5668\u200b\u5b66\u200b\u7684\u200b\u590d\u6742\u6027\u200b\uff0c\u200b\u9664\u4e86\u200b\u8f6f\u4ef6\u200b\u4e2d\u200b\u5e38\u89c1\u200b\u7684\u200b\u95ee\u9898\u200b\u4e4b\u5916\u200b\uff0c\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u8fd8\u200b\u5b58\u5728\u200b\u5f88\u591a\u200b\u65b0\u200b\u7684\u200b\u6311\u6218\u200b\u3002\u200b\u4f5c\u4e3a\u200b\u4e00\u5bb6\u200b\u5927\u200b\u6570\u636e\u200b\u89e3\u51b3\u65b9\u6848\u200b\u516c\u53f8\u200b\uff0cDatabricks\u200b\u4e0e\u200b\u6570\u767e\u5bb6\u200b\u4f7f\u7528\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u7684\u200b\u516c\u53f8\u200b\u5408\u4f5c\u200b\uff0c\u200b\u6240\u4ee5\u200b\u80fd\u591f\u200b\u6e05\u695a\u200b\u5730\u200b\u4e86\u89e3\u200b\u4ed6\u4eec\u200b\u7684\u200b\u75db\u70b9\u200b\uff0c\u200b\u6bd4\u5982\u200b\u5de5\u5177\u200b\u592a\u8fc7\u200b\u590d\u6742\u200b\u3001\u200b\u96be\u4ee5\u200b\u8ddf\u8e2a\u200b\u5b9e\u9a8c\u200b\u3001\u200b\u96be\u4ee5\u200b\u91cd\u73b0\u200b\u7ed3\u679c\u200b\u3001\u200b\u96be\u4ee5\u200b\u90e8\u7f72\u200b\u6a21\u578b\u200b\u3002\u200b\u7531\u4e8e\u200b\u8fd9\u4e9b\u200b\u6311\u6218\u200b\u7684\u200b\u5b58\u5728\u200b\uff0c\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u5f00\u53d1\u200b\u5fc5\u987b\u200b\u53d8\u5f97\u200b\u4e0e\u200b\u4f20\u7edf\u200b\u8f6f\u4ef6\u5f00\u53d1\u200b\u4e00\u6837\u200b\u5f3a\u5927\u200b\u3001\u200b\u53ef\u200b\u9884\u6d4b\u200b\u548c\u200b\u666e\u53ca\u200b\u3002\u200b\u4e3a\u6b64\u200b\uff0c\u200b\u5f88\u591a\u200b\u4f01\u4e1a\u200b\u5df2\u7ecf\u200b\u5f00\u59cb\u200b\u6784\u5efa\u200b\u5185\u90e8\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u5e73\u53f0\u200b\u6765\u200b\u7ba1\u7406\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u751f\u547d\u5468\u671f\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0cFacebook\u3001\u200b\u8c37\u6b4c\u200b\u548c\u200b\u4f18\u6b65\u200b\u5206\u522b\u200b\u6784\u5efa\u200b\u4e86\u200b FBLearner Flow\u3001TFX \u200b\u548c\u200b Michelangelo \u200b\u6765\u200b\u8fdb\u884c\u200b\u6570\u636e\u200b\u51c6\u5907\u200b\u3001\u200b\u6a21\u578b\u200b\u8bad\u7ec3\u200b\u548c\u200b\u90e8\u7f72\u200b\u3002\u200b\u4f46\u200b\u8fd9\u4e9b\u200b\u5185\u90e8\u200b\u5e73\u53f0\u200b\u5b58\u5728\u200b\u4e00\u5b9a\u200b\u7684\u200b\u5c40\u9650\u6027\u200b\uff1a\u200b\u5178\u578b\u200b\u7684\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u5e73\u53f0\u200b\u53ea\u200b\u652f\u6301\u200b\u4e00\u5c0f\u90e8\u5206\u200b\u5185\u7f6e\u200b\u7b97\u6cd5\u200b\u6216\u200b\u5355\u4e2a\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u5e93\u200b\uff0c\u200b\u5e76\u4e14\u200b\u88ab\u200b\u7ed1\u5b9a\u200b\u5728\u200b\u516c\u53f8\u200b\u5185\u90e8\u200b\u7684\u200b\u57fa\u7840\u8bbe\u65bd\u200b\u4e0a\u200b\u3002\u200b\u7528\u6237\u200b\u65e0\u6cd5\u200b\u8f7b\u6613\u200b\u5730\u200b\u4f7f\u7528\u200b\u65b0\u200b\u7684\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u5e93\u200b\uff0c\u200b\u6216\u200b\u4e0e\u200b\u793e\u533a\u200b\u5206\u4eab\u200b\u4ed6\u4eec\u200b\u7684\u200b\u5de5\u4f5c\u200b\u6210\u679c\u200b\u3002Databricks\u200b\u8ba4\u4e3a\u200b\u5e94\u8be5\u200b\u4f7f\u7528\u200b\u4e00\u79cd\u200b\u66f4\u597d\u200b\u7684\u200b\u65b9\u5f0f\u200b\u6765\u200b\u7ba1\u7406\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u751f\u547d\u5468\u671f\u200b\uff0c\u200b\u4e8e\u662f\u200b\u4ed6\u4eec\u200b\u63a8\u51fa\u200b\u4e86\u200bML flow\uff0c\u200b\u4e00\u4e2a\u200b\u5f00\u6e90\u200b\u7684\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u5e73\u53f0\u200b\u3002</p> <ul> <li>\u200b\u57fa\u672c\u200b\u60c5\u51b5\u200b</li> </ul> <p>MLflow\u200b\u7684\u200b\u7075\u611f\u200b\u6765\u6e90\u4e8e\u200b\u73b0\u6709\u200b\u7684\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u5e73\u53f0\u200b\uff0c\u200b\u4f46\u200b\u4ee5\u200b\u5f00\u653e\u6027\u200b\u4f5c\u4e3a\u200b\u4e3b\u8981\u200b\u8bbe\u8ba1\u200b\u76ee\u6807\u200b\uff1a</p> <ul> <li>\u200b\u5f00\u653e\u200b\u63a5\u53e3\u200b\uff1aMLflow\u200b\u53ef\u200b\u4e0e\u200b\u4efb\u4f55\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u5e93\u200b\u3001\u200b\u7b97\u6cd5\u200b\u3001\u200b\u90e8\u7f72\u200b\u5de5\u5177\u200b\u6216\u200b\u7f16\u7a0b\u8bed\u8a00\u200b\u4e00\u8d77\u200b\u4f7f\u7528\u200b\u3002\u200b\u5b83\u200b\u57fa\u4e8e\u200bREST API\u200b\u548c\u200b\u7b80\u5355\u200b\u7684\u200b\u6570\u636e\u683c\u5f0f\u200b\uff08\u200b\u4f8b\u5982\u200b\uff0c\u200b\u53ef\u200b\u5c06\u200b\u6a21\u578b\u200b\u89c6\u4e3a\u200blambda\u200b\u51fd\u6570\u200b\uff09\u200b\u800c\u200b\u6784\u5efa\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5404\u79cd\u200b\u5de5\u5177\u200b\uff0c\u200b\u800c\u200b\u4e0d\u200b\u53ea\u662f\u200b\u63d0\u4f9b\u200b\u4e00\u4e2a\u200b\u5c0f\u200b\u90e8\u5206\u200b\u5185\u7f6e\u200b\u529f\u80fd\u200b\u3002\u200b\u7528\u6237\u200b\u53ef\u4ee5\u200b\u5f88\u200b\u5bb9\u6613\u200b\u5730\u200b\u5c06\u200bMLflow\u200b\u6dfb\u52a0\u200b\u5230\u200b\u73b0\u6709\u200b\u5730\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u4ee3\u7801\u200b\u4e2d\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u7ec4\u7ec7\u200b\u4e2d\u200b\u5171\u4eab\u200b\u4ee3\u7801\u200b\uff0c\u200b\u8ba9\u200b\u5176\u4ed6\u4eba\u200b\u4e5f\u200b\u80fd\u200b\u8fd0\u884c\u200b\u8fd9\u4e9b\u200b\u4ee3\u7801\u200b\u3002</li> <li> <p>\u200b\u5f00\u6e90\u200b\uff1aMLflow\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5f00\u6e90\u200b\u9879\u76ee\u200b\uff0c\u200b\u7528\u6237\u200b\u548c\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u5e93\u200b\u5f00\u53d1\u4eba\u5458\u200b\u53ef\u4ee5\u200b\u5bf9\u200b\u5176\u200b\u8fdb\u884c\u200b\u6269\u5c55\u200b\u3002\u200b\u6b64\u5916\u200b\uff0c\u200b\u5229\u7528\u200bMLflow\u200b\u5730\u200b\u5f00\u653e\u200b\u683c\u5f0f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8f7b\u677e\u200b\u5730\u200b\u8de8\u200b\u7ec4\u7ec7\u200b\u5171\u4eab\u200b\u5de5\u4f5c\u200b\u6d41\u200b\u6b65\u9aa4\u200b\u548c\u200b\u6a21\u578b\u200b\u3002</p> </li> <li> <p>\u200b\u5e94\u7528\u200b\u573a\u666f\u200b</p> </li> </ul> <p>MLflow\u200b\u4e0e\u200b\u5e93\u200b\u65e0\u5173\u200b\u3002 \u200b\u60a8\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u5176\u200b\u4e0e\u200b\u4efb\u4f55\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u5e93\u200b\u4ee5\u53ca\u200b\u4efb\u4f55\u200b\u7f16\u7a0b\u8bed\u8a00\u200b\u4e00\u8d77\u200b\u4f7f\u7528\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u6240\u6709\u200b\u529f\u80fd\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200bREST API\u200b\u548c\u200bCLI\u200b\u8fdb\u884c\u200b\u8bbf\u95ee\u200b\u3002 \u200b\u4e3a\u4e86\u200b\u65b9\u4fbf\u200b\u8d77\u200b\u89c1\u200b\uff0c\u200b\u8be5\u200b\u9879\u76ee\u200b\u8fd8\u200b\u5305\u62ec\u200bPython API\uff0cR API\u200b\u548c\u200bJava API\u3002</p>","tags":["Python"]},{"location":"python/python_lib/libs/MLflow/#_2","title":"\u529f\u80fd\u200b\u7279\u70b9","text":"<ul> <li>MLflow \u200b\u662f\u200b\u4e00\u4e2a\u200b\u7528\u4e8e\u200b\u7ba1\u7406\u200b\u7aef\u5230\u200b\u7aef\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u751f\u547d\u5468\u671f\u200b\u7684\u200b\u5f00\u6e90\u200b\u5e73\u53f0\u200b\u3002\u200b\u5b83\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u4ee5\u4e0b\u200b\u56db\u4e2a\u200b\u4e3b\u8981\u200b\u529f\u80fd\u200b\uff1a</li> <li>MLflow Tracking\uff1a\u200b\u8ddf\u8e2a\u200b\u3001\u200b\u8bb0\u5f55\u200b\u5b9e\u9a8c\u200b\u8fc7\u7a0b\u200b\uff0c\u200b\u4ea4\u53c9\u200b\u6bd4\u8f83\u200b\u5b9e\u9a8c\u200b\u53c2\u6570\u200b\u548c\u200b\u5bf9\u5e94\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002</li> <li>MLflow Project\uff1a\u200b\u628a\u200b\u4ee3\u7801\u200b\u6253\u5305\u200b\u6210\u53ef\u200b\u590d\u7528\u200b\u3001\u200b\u53ef\u200b\u590d\u73b0\u200b\u7684\u200b\u683c\u5f0f\u200b\uff0c\u200b\u53ef\u200b\u7528\u4e8e\u200b\u6210\u5458\u200b\u5206\u4eab\u200b\u548c\u200b\u9488\u5bf9\u200b\u7ebf\u4e0a\u200b\u90e8\u7f72\u200b\u3002</li> <li>MLflow Models\uff1a\u200b\u7ba1\u7406\u200b\u3001\u200b\u90e8\u7f72\u200b\u6765\u81ea\u200b\u591a\u4e2a\u200b\u4e0d\u540c\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u6846\u67b6\u200b\u7684\u200b\u6a21\u578b\u200b\u5230\u200b\u5927\u90e8\u5206\u200b\u6a21\u578b\u200b\u90e8\u7f72\u200b\u548c\u200b\u63a8\u7406\u200b\u5e73\u53f0\u200b\u3002</li> <li>MLflow Model Registry\uff1a\u200b\u9488\u5bf9\u200b\u6a21\u578b\u200b\u7684\u200b\u5168\u200b\u751f\u547d\u5468\u671f\u200b\u7ba1\u7406\u200b\u7684\u200b\u9700\u6c42\u200b\uff0c\u200b\u63d0\u4f9b\u200b\u96c6\u4e2d\u5f0f\u200b\u534f\u540c\u200b\u7ba1\u7406\u200b\uff0c\u200b\u5305\u62ec\u200b\u6a21\u578b\u200b\u7248\u672c\u200b\u7ba1\u7406\u200b\u3001\u200b\u6a21\u578b\u200b\u72b6\u6001\u200b\u8f6c\u6362\u200b\u3001\u200b\u6570\u636e\u200b\u6807\u6ce8\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/MLflow/#_3","title":"\u5b89\u88c5\u200b\u90e8\u7f72","text":"<ul> <li>\u200b\u5b89\u88c5\u200bpython\u200b\u73af\u5883\u200b\u548c\u200bpip\uff0c\u200b\u5e76\u200b\u5229\u7528\u200bpip\u200b\u5b89\u88c5\u200bMLflow\uff1a</li> </ul> <pre><code>pip install mlflow\n</code></pre> <ul> <li>\u200b\u5728\u200bMacOS\u200b\u4e0a\u200b\u4f7f\u7528\u200bMLflow</li> <li>\u200b\u5982\u679c\u200b\u4f7f\u7528\u200bMacOS\u200b\u9ed8\u8ba4\u200b\u7684\u200b\u7cfb\u7edf\u200bPython\u200b\u9047\u5230\u200b\u95ee\u9898\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200bHomebrew\u200b\u5305\u200b\u7ba1\u7406\u5668\u200b\u5b89\u88c5\u200bPython3\uff0c\u200b\u547d\u4ee4\u200b\u5982\u4e0b\u200b\uff1a</li> </ul> <pre><code>brew install python\n</code></pre> <ul> <li>\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u5b89\u88c5\u200bMLflow\u200b\u7684\u200b\u547d\u4ee4\u200b\u4e3a\u200b\uff1a</li> </ul> <pre><code>pip3 install mlflow\n</code></pre> <ul> <li>\u200b\u5907\u6ce8\u200b</li> <li>\u200b\u4e3a\u4e86\u200b\u4f7f\u7528\u200b\u7279\u5b9a\u200b\u7684\u200bMLflow\u200b\u6a21\u5757\u200b\u548c\u200b\u529f\u80fd\u200b\uff08\u200b\u5982\u200bML\u200b\u6a21\u578b\u200b\u6301\u4e45\u200b\u5316\u200b/\u200b\u63a5\u53e3\u200b\uff0c\u200b\u5de5\u4ef6\u200b\u5b58\u50a8\u200b\u9009\u9879\u200b\u7b49\u200b\uff09\uff0c\u200b\u9700\u8981\u200b\u5b89\u88c5\u200b\u989d\u5916\u200b\u7684\u200b\u5e93\u200b\u4f9d\u8d56\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0cmlflow.tensorflow\u200b\u6a21\u5757\u200b\u9700\u8981\u200b\u5b89\u88c5\u200bTensorFlow\u3002\u200b\u8be6\u7ec6\u60c5\u51b5\u200b\u89c1\u200b\uff1ahttps://github.com/mlflow/mlflow/blob/master/EXTRA_DEPENDENCIES.rst</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/MLflow/#api","title":"API\u200b\u6e05\u5355","text":"<ul> <li>MLflow Python API</li> </ul> module Description mlflow \u200b\u8be5\u200b\u6a21\u5757\u200b\u4e3a\u200b\u5f00\u542f\u200b\u548c\u200b\u7ba1\u7406\u200b\u4e00\u4e2a\u200bMLflow run\u200b\u63d0\u4f9b\u200b\u9ad8\u5c42\u200b\u7ea7\u200b\u7684\u200bAPI mlflow.tracking \u200b\u8be5\u200b\u6a21\u5757\u200b\u4e3a\u200bMLflow\u200b\u7684\u200bexperiments\u200b\u548c\u200bruns\u200b\u63d0\u4f9b\u200b\u57fa\u4e8e\u200bpython\u200b\u7684\u200bCRUD\u200b\u63a5\u53e3\u200b\u3002\u200b\u8fd9\u200b\u662f\u200b\u6bd4\u200bmlflow\u200b\u6a21\u5757\u200b\u5c01\u88c5\u200b\u5c42\u7ea7\u200b\u66f4\u200b\u4f4e\u200b\u7684\u200bAPI\uff0c\u200b\u80fd\u200b\u76f4\u63a5\u200b\u8f6c\u200b\u5230\u200bREST API\u200b\u7684\u200b\u8c03\u7528\u200b\u3002\u200b\u82e5\u200b\u9700\u8981\u200b\u7ba1\u7406\u200b\u4e00\u4e2a\u200b\u7ba1\u7406\u200b\u201cactive run\u201d\u200b\u7684\u200b\u9ad8\u5c42\u200b\u7ea7\u200bAPI\uff0c\u200b\u8bf7\u200b\u4f7f\u7528\u200bmlflow\u200b\u6a21\u5757\u200b\u3002 mlflow.projects \u200b\u8be5\u200b\u6a21\u5757\u200b\u4e3a\u200b\u8fd0\u884c\u200b\u672c\u5730\u200b\u6216\u8005\u200b\u8fdc\u7a0b\u200b\u7684\u200bMLflow project\u200b\u63d0\u4f9b\u200bAPI mlflow.models \u200b\u4e3a\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u6a21\u578b\u200b\u7684\u200b\u4fdd\u5b58\u200b\u63d0\u4f9b\u200b\u63a5\u53e3\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u6a21\u578b\u200b\u7528\u200b\u4e00\u79cd\u200b\u4e0b\u6e38\u200b\u5de5\u5177\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u7684\u200b\u201dflavors\u201c\u200b\u65b9\u5f0f\u200b\u4fdd\u5b58\u200b\u3002 mlflow.statsmodels \u200b\u8be5\u200b\u6a21\u5757\u200b\u4e3a\u200b\u8bb0\u5f55\u200b\u548c\u200b\u52a0\u8f7d\u200bstatsmodels models\u200b\u63d0\u4f9b\u200bAPI\u3002 mlflow.pyfunc python_function\u200b\u6a21\u5757\u200bflavor\u200b\u5145\u5f53\u200bMLflow Python\u200b\u6a21\u578b\u200b\u7684\u200b\u9ed8\u8ba4\u200b\u6a21\u578b\u200b\u63a5\u53e3\u200b\u3002\u200b\u4efb\u4f55\u200bMLflow Python\u200b\u6a21\u578b\u200b\u90fd\u200b\u4f1a\u200b\u88ab\u200b\u52a0\u8f7d\u200b\u4e3a\u200bpython_function\u200b\u6a21\u578b\u200b\u3002 mlflow.keras \u200b\u8be5\u200b\u6a21\u5757\u200b\u4e3a\u200b\u8bb0\u5f55\u200b\u548c\u200b\u52a0\u8f7d\u200bKeras\u200b\u6a21\u578b\u200b\u63d0\u4f9b\u200bAPI mlflow.pytorch \u200b\u8be5\u200b\u6a21\u5757\u200b\u4e3a\u200b\u8bb0\u5f55\u200b\u548c\u200b\u52a0\u8f7d\u200bPyTorch\u200b\u6a21\u578b\u200b\u63d0\u4f9b\u200bAPI mlflow.sklearn \u200b\u8be5\u200b\u6a21\u5757\u200b\u4e3a\u200b\u8bb0\u5f55\u200b\u548c\u200b\u52a0\u8f7d\u200bscikit-learn\u200b\u6a21\u578b\u200b\u63d0\u4f9b\u200bAPI mlflow.tensorflow \u200b\u8be5\u200b\u6a21\u5757\u200b\u4e3a\u200b\u8bb0\u5f55\u200b\u548c\u200b\u52a0\u8f7d\u200bTensorFlow\u200b\u6a21\u578b\u200b\u63d0\u4f9b\u200bAPI","tags":["Python"]},{"location":"python/python_lib/libs/MLflow/#mlflow_1","title":"mlflow\u200b\u6a21\u5757","text":"<ul> <li>\u200b\u5e38\u7528\u200b\u51fd\u6570\u200b</li> </ul> \u200b\u51fd\u6570\u200b \u200b\u63cf\u8ff0\u200b active_run \u200b\u83b7\u53d6\u200b\u5f53\u524d\u200b\u6d3b\u8dc3\u200b\u7684\u200bRun\u200b\u5bf9\u8c61\u200b\u5b9e\u4f8b\u200b\uff0c\u200b\u82e5\u200b\u6ca1\u6709\u200b\u5219\u200b\u8fd4\u56de\u200bNone create_experiment(name, artifact_location=None) \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200bMLflow\u200b\u5b9e\u9a8c\u200b delete_experiment(experiment_id) \u200b\u4ece\u200b\u540e\u53f0\u200b\u4e2d\u200b\u5220\u9664\u200b\u4e00\u4e2a\u200b\u5b9e\u9a8c\u200b delete_run(run_id) \u200b\u5220\u9664\u200b\u4e00\u4e2a\u200brun\u200b\u5bf9\u8c61\u200b\u5b9e\u4f8b\u200b delete_tag(key) \u200b\u5220\u9664\u200b\u4e00\u4e2a\u200brun\u200b\u5bf9\u8c61\u200b\u7684\u200btag end_run(status='FINISHED') \u200b\u7ed3\u675f\u200b\u4e00\u4e2a\u200b\u6d3b\u8dc3\u200b\u7684\u200bMLflow run\u200b\u5bf9\u8c61\u200b get_artifact_uri(artifact_path=None) \u200b\u83b7\u53d6\u200b\u5f53\u524d\u200b\u8fd0\u884c\u200b\u7684\u200brun\u200b\u5bf9\u8c61\u200b\u4e2d\u200bartifact_path\u200b\u6307\u5b9a\u200b\u7684\u200bartifact\u200b\u7684\u200b\u7edd\u5bf9\u200bURI\uff0c\u200b\u82e5\u200bartifact_path\u200b\u4e3a\u200bNone\uff0c\u200b\u5219\u200b\u8fd4\u56de\u200bartifact\u200b\u7684\u200b\u6839\u200bURI get_experiment(experiment_id) \u200b\u4ece\u200b\u540e\u53f0\u200b\u5b58\u50a8\u200b\u4e2d\u200b\u83b7\u53d6\u200bexperiment_id\u200b\u6307\u5b9a\u200b\u7684\u200bexperiment\u200b\u5bf9\u8c61\u200b get_experiment_by_name(name) \u200b\u4ece\u200b\u540e\u53f0\u200b\u5b58\u50a8\u200b\u4e2d\u200b\u83b7\u53d6\u200bname\u200b\u6307\u5b9a\u200b\u7684\u200bexperiment\u200b\u5bf9\u8c61\u200b get_registry_uri \u200b\u83b7\u53d6\u200b\u5f53\u524d\u200b\u6ce8\u518c\u8868\u200b\u7684\u200bURI\uff0c\u200b\u9ed8\u8ba4\u200b\u8fd4\u56de\u200btracking URI get_run(run_id) \u200b\u540e\u53f0\u200b\u5b58\u50a8\u200b\u4e2d\u200b\u83b7\u53d6\u200brun\u200b\u5bf9\u8c61\u200b\u5b9e\u4f8b\u200b get_tracking_uri \u200b\u83b7\u53d6\u200b\u5f53\u524d\u200b\u7684\u200btracking URI list_run_infos(experiment_id, run_view_type=1, max_results=1000, order_by=None) \u200b\u8fd4\u56de\u200bexperiment_id\u200b\u6307\u5b9a\u200b\u5b9e\u9a8c\u200b\u4e0b\u200b\u7684\u200b\u6240\u6709\u200brun\u200b\u5b9e\u4f8b\u200b\u7684\u200b\u4fe1\u606f\u200b log_artifact(local_path, artifact_path=None) \u200b\u5c06\u200b\u672c\u5730\u200b\u6587\u4ef6\u200b\u6216\u200b\u76ee\u5f55\u200b\u8bb0\u5f55\u200b\u4e3a\u200b\u5f53\u524d\u200b\u6d3b\u8dc3\u200brun\u200b\u5bf9\u8c61\u200b\u7684\u200bartifact log_artifacts(local_dir, artifact_path=None) \u200b\u8bb0\u5f55\u200b\u672c\u5730\u200b\u76ee\u5f55\u200b\u7684\u200b\u6240\u6709\u200b\u7684\u200b\u5185\u5bb9\u200b\u4f5c\u4e3a\u200brun\u200b\u5bf9\u8c61\u200b\u7684\u200bartifacts log_metric(key, value, step=None) \u200b\u8bb0\u5f55\u200b\u5f53\u524d\u200brun\u200b\u5bf9\u8c61\u200b\u7684\u200b\u4e00\u4e2a\u200bmetric log_metrics(metrics, step=None) \u200b\u8bb0\u5f55\u200b\u5f53\u524d\u200brun\u200b\u5bf9\u8c61\u200b\u7684\u200b\u591a\u4e2a\u200bmetric log_param(key, value) \u200b\u8bb0\u5f55\u200b\u5f53\u524d\u200brun\u200b\u5bf9\u8c61\u200b\u7684\u200b\u4e00\u4e2a\u200bparameter log_params(params) \u200b\u8bb0\u5f55\u200b\u5f53\u524d\u200brun\u200b\u5bf9\u8c61\u200b\u7684\u200b\u4e00\u7ec4\u200bparameters log_text(text, artifact_file) \u200b\u8bb0\u5f55\u200btext\u200b\u5185\u5bb9\u200b\u4f5c\u4e3a\u200b\u4e00\u4e2a\u200bartifact register_model(model_uri, name, await_registration_for=300) \u200b\u5728\u200b\u6a21\u578b\u200b\u6ce8\u518c\u8868\u200b\u4e2d\u4e3a\u200bmodel_uri\u200b\u6307\u5b9a\u200b\u7684\u200b\u6a21\u578b\u200b\u6587\u4ef6\u521b\u5efa\u200b\u65b0\u200b\u7684\u200b\u6a21\u578b\u200b\u7248\u672c\u200b run(uri, entry_point='main', version=None, parameters=None, docker_args=None, experiment_name=None, experiment_id=None, backend='local', backend_config=None, use_conda=True, storage_dir=None, synchronous=True, run_id=None) \u200b\u8fd0\u884c\u200b\u4e00\u4e2a\u200bMLflow\u200b\u9879\u76ee\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u9879\u76ee\u200b\u53ef\u4ee5\u200b\u5728\u200b\u672c\u5730\u200b\u6216\u8005\u200b\u5728\u200bGitHub\u200b\u4e0a\u200b\u3002 search_runs(experiment_ids=None, filter_string='', run_view_type=1, max_results=100000, order_by=None, output_format='pandas') \u200b\u4ee5\u200bpandas\u200b\u6570\u636e\u200b\u6846\u67b6\u200b\u7c7b\u578b\u200b\u83b7\u53d6\u200b\u6ee1\u8db3\u200b\u67e5\u8be2\u200b\u6761\u4ef6\u200b\u7684\u200b\u6240\u6709\u200brun\u200b\u5bf9\u8c61\u200b set_experiment(experiment_name) \u200b\u8bbe\u7f6e\u200b\u6307\u5b9a\u200b\u540d\u79f0\u200b\u7684\u200bexperiment\u200b\u5bf9\u8c61\u200b set_registry_uri(uri) \u200b\u8bbe\u7f6e\u200b\u6ce8\u518c\u8868\u200b\u670d\u52a1\u5668\u200b\u7684\u200bURI set_tag(key, value) \u200b\u4e3a\u200b\u5f53\u524d\u200brun\u200b\u5bf9\u8c61\u200b\u8bbe\u7f6e\u200b\u6807\u7b7e\u200b set_tags(tags) \u200b\u4e3a\u200b\u5f53\u524d\u200brun\u200b\u5bf9\u8c61\u200b\u8bbe\u7f6e\u200b\u4e00\u7ec4\u200b\u6807\u7b7e\u200b set_tracking_uri(uri) \u200b\u8bbe\u7f6e\u200btracking\u200b\u670d\u52a1\u5668\u200b\u7684\u200bURI start_run(run_id=None, experiment_id=None, run_name=None, nested=False, tags=None) \u200b\u5f00\u542f\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200bMLflow run\u200b\u5bf9\u8c61\u200b\u5b9e\u4f8b","tags":["Python"]},{"location":"python/python_lib/libs/MLflow/#mlflowtracking","title":"mlflow.tracking\u200b\u6a21\u5757","text":"<p>\u200b\u8be5\u200b\u6a21\u5757\u200b\u4e3a\u200bMLflow\u200b\u7684\u200bexperiments\u200b\u548c\u200bruns\u200b\u63d0\u4f9b\u200b\u57fa\u4e8e\u200bpython\u200b\u7684\u200bCRUD\u200b\u63a5\u53e3\u200b\u3002\u200b\u8fd9\u200b\u662f\u200b\u6bd4\u200bmlflow\u200b\u6a21\u5757\u200b\u5c01\u88c5\u200b\u5c42\u7ea7\u200b\u66f4\u200b\u4f4e\u200b\u7684\u200bAPI\uff0c\u200b\u80fd\u200b\u76f4\u63a5\u200b\u8f6c\u200b\u5230\u200bREST API\u200b\u7684\u200b\u8c03\u7528\u200b\u3002</p> <ul> <li>class mlflow.tracking.MLflowClient(tracking_uri=None, registry_uri=None)</li> </ul> <p>MLflow Tracking\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u5ba2\u6237\u7aef\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u521b\u5efa\u200b\u548c\u200b\u7ba1\u7406\u200bexperiments\u200b\u548c\u200brun\uff0c\u200b\u4e5f\u200b\u662f\u200bMLflow Registry\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u5ba2\u6237\u7aef\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u521b\u5efa\u200b\u548c\u200b\u7ba1\u7406\u200b\u5df2\u200b\u6ce8\u518c\u200b\u7684\u200b\u6a21\u578b\u200b\u548c\u200b\u6a21\u578b\u200b\u7248\u672c\u200b\u3002</p> <ul> <li>MLflowClient\u200b\u7684\u200b\u4e00\u4e9b\u200b\u65b9\u6cd5\u200b/\u200b\u51fd\u6570\u200b</li> </ul> Functions Description experiment\u200b\u76f8\u5173\u200b\uff1a create_experiment(name, artifact_location=None) \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u5b9e\u9a8c\u200b delete_experiment(experiment_id) \u200b\u5728\u200b\u540e\u53f0\u200b\u5220\u9664\u200b\u4e00\u4e2a\u200b\u5b9e\u9a8c\u200b get_experiment(experiment_id) \u200b\u901a\u8fc7\u200bID\u200b\u83b7\u53d6\u200b\u5b9e\u9a8c\u200b get_experiment_by_name(name) \u200b\u901a\u8fc7\u200b\u540d\u5b57\u200b\u83b7\u53d6\u200b\u5b9e\u9a8c\u200b rename_experiment(experiment_id, new_name) \u200b\u66f4\u65b0\u200b\u5b9e\u9a8c\u200b\u540d\u5b57\u200b restore_experiment(experiment_id) \u200b\u5b58\u50a8\u200b\u4e00\u4e2a\u200b\u5df2\u200b\u5220\u9664\u200b\u5b9e\u9a8c\u200b\uff0c\u200b\u9664\u975e\u200b\u6c38\u4e45\u6027\u200b\u5220\u9664\u200b set_experiment_tag(experiment_id, key, value) \u200b\u7ed9\u200b\u5b9e\u9a8c\u200b\u8bbe\u7f6e\u200b\u6807\u7b7e\u200b(\u200b\u5b57\u5178\u200b\u7c7b\u578b\u200b) model_version\u200b\u76f8\u5173\u200b\uff1a create_model_version(name, source, run_id=None, tags=None, run_link=None, description=None, await_creation_for=300) \u200b\u4ece\u200b\u7ed9\u5b9a\u200b\u8d44\u6e90\u200b\u4e2d\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u6a21\u578b\u200b\u7248\u672c\u200b delete_model_version(name, version) \u200b\u5220\u9664\u200b\u6a21\u578b\u200b\u7248\u672c\u200b delete_model_version_tag(name, version, key) \u200b\u5220\u9664\u200b\u6a21\u578b\u200b\u7248\u672c\u200b\u7684\u200btag get_model_version(name, version) \u200b\u8fd4\u56de\u200b\u6a21\u578b\u200b\u7248\u672c\u200b\u5bf9\u8c61\u200b get_model_version_download_uri(name, version) \u200b\u83b7\u53d6\u200b\u8be5\u200b\u6a21\u578b\u200b\u7248\u672c\u200b\u5b58\u50a8\u200b\u4ed3\u5e93\u200b\u7684\u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b get_model_version_stages(name, version) \u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u5408\u6cd5\u200b\u9636\u6bb5\u200b\u96c6\u5408\u200b search_model_versions(filter_string) \u200b\u67e5\u627e\u200b\u6ee1\u8db3\u200b\u8fc7\u6ee4\u200b\u6761\u4ef6\u200b\u7684\u200b\u6a21\u578b\u200b\u7248\u672c\u200b set_model_version_tag(name, version, key, value) \u200b\u7ed9\u200b\u6a21\u578b\u200b\u7248\u672c\u200b\u8bbe\u7f6e\u200b\u6807\u7b7e\u200b transition_model_version_stage(name, version, stage, archive_existing_versions=False) \u200b\u66f4\u65b0\u200b\u6a21\u578b\u200b\u7248\u672c\u200b\u9636\u6bb5\u200b update_model_version(name, version, description=None) \u200b\u66f4\u65b0\u200b\u6a21\u578b\u200b\u7248\u672c\u200b\u7684\u200b\u5143\u200b\u6570\u636e\u200b registered_model\u200b\u76f8\u5173\u200b\uff1a create_registered_model(name, tags=None, description=None) \u200b\u5728\u200b\u540e\u53f0\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u5df2\u200b\u6ce8\u518c\u200b\u6a21\u578b\u200b delete_registered_model(name) \u200b\u5220\u9664\u200b\u5df2\u200b\u6ce8\u518c\u200b\u6a21\u578b\u200b delete_registered_model_tag(name, key) \u200b\u5220\u9664\u200b\u5df2\u200b\u6ce8\u518c\u200b\u6a21\u578b\u200b\u7684\u200btag get_registered_model(name) \u200b\u8fd4\u56de\u200b\u6ce8\u518c\u200b\u6a21\u578b\u200b\u5bf9\u8c61\u200b rename_registered_model(name, new_name) \u200b\u66f4\u65b0\u200b\u5df2\u200b\u6ce8\u518c\u200b\u6a21\u578b\u200b\u540d\u5b57\u200b search_registered_models(filter_string=None, max_results=100, order_by=None, page_token=None) \u200b\u67e5\u627e\u200b\u6ee1\u8db3\u200b\u8fc7\u6ee4\u200b\u6761\u4ef6\u200b\u7684\u200b\u5df2\u200b\u6ce8\u518c\u200b\u6a21\u578b\u200b set_registered_model_tag(name, key, value) \u200b\u7ed9\u200b\u5df2\u200b\u6ce8\u518c\u200b\u6a21\u578b\u200b\u8bbe\u7f6e\u200b\u6807\u7b7e\u200b(\u200b\u5b57\u5178\u200b\u7c7b\u578b\u200b) update_registered_model(name, description=None) \u200b\u66f4\u65b0\u200bRegisteredModel\u200b\u5b9e\u4f53\u200b\u7684\u200b\u5143\u200b\u6570\u636e\u200b run\u200b\u76f8\u5173\u200b\uff1a create_run(experiment_id, start_time=None, tags=None) \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200brun\u200b\u5bf9\u8c61\u200b delete_run(run_id) \u200b\u5220\u9664\u200b\u4e00\u4e2a\u200brun\u200b\u5bf9\u8c61\u200b delete_tag(run_id, key) \u200b\u5220\u9664\u200brun\u200b\u5bf9\u8c61\u200b\u7684\u200b\u6807\u7b7e\u200b get_run(run_id) \u200b\u83b7\u53d6\u200b\u540e\u53f0\u200b\u5b58\u50a8\u200b\u7684\u200brun\u200b\u5bf9\u8c61\u200b restore_run(run_id) \u200b\u5b58\u50a8\u200b\u4e00\u4e2a\u200b\u7ed9\u5b9a\u200bID\u200b\u7684\u200b\u5df2\u200b\u5220\u9664\u200b\u7684\u200brun search_runs(experiment_ids, filter_string='', run_view_type=1, max_results=1000, order_by=None, page_token=None) \u200b\u67e5\u627e\u200b\u6ee1\u8db3\u6761\u4ef6\u200b\u7684\u200brun\u200b\u5bf9\u8c61\u200b set_tag(run_id, key, value) \u200b\u7ed9\u200b\u6307\u5b9a\u200bid\u200b\u7684\u200brun\u200b\u8bbe\u7f6e\u200b\u6807\u7b7e\u200b set_terminated(run_id, status=None, end_time=None) \u200b\u5c06\u200b\u4e00\u4e2a\u200brun\u200b\u7684\u200b\u72b6\u6001\u200b\u8bbe\u7f6e\u200b\u5df2\u200b\u4e2d\u6b62\u200b \u200b\u5176\u4ed6\u200b\u51fd\u6570\u200b\uff1a download_artifacts(run_id, path, dst_path=None) \u200b\u5c06\u200brun\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5de5\u4ef6\u200b\u6216\u8005\u200b\u76ee\u5f55\u200b\u4e0b\u8f7d\u200b\u5230\u200b\u672c\u5730\u200b get_latest_versions(name, stages=None) \u200b\u83b7\u53d6\u200b\u6a21\u578b\u200b\u6bcf\u4e2a\u200b\u8bf7\u6c42\u200b\u9636\u6bb5\u200b\u7684\u200b\u6700\u65b0\u200b\u7248\u672c\u200b get_metric_history(run_id, key) \u200b\u8fd4\u56de\u200b\u7ed9\u5b9a\u200bmetric\u200b\u8bb0\u5f55\u200b\u7684\u200b\u6240\u6709\u200b\u503c\u200b list_artifacts(run_id, path=None) run\u200b\u5bf9\u8c61\u200b\u7684\u200bartifacts\u200b\u96c6\u5408\u200b list_experiments(view_type=None) Experiment\u200b\u5bf9\u8c61\u200b\u96c6\u5408\u200b list_registered_models(max_results=100, page_token=None) \u200b\u6240\u4ee5\u200b\u5df2\u200b\u6ce8\u518c\u200b\u6a21\u578b\u200b\u7684\u200b\u96c6\u5408\u200b list_run_infos(experiment_id, run_view_type=1, max_results=1000, order_by=None, page_token=None) RunInfo\u200b\u5bf9\u8c61\u200b\u96c6\u5408\u200b log_artifact(run_id, local_path, artifact_path=None) \u200b\u5728\u200b\u8fdc\u7a0b\u200bartifact_uri\u200b\u4e2d\u200b\u5199\u5165\u200b\u672c\u5730\u200b\u6587\u4ef6\u200b\u6216\u200b\u76ee\u5f55\u200b log_artifacts(run_id, local_dir, artifact_path=None) \u200b\u5728\u200b\u8fdc\u7a0b\u200bartifact_uri\u200b\u4e2d\u200b\u5199\u5165\u200b\u6587\u4ef6\u76ee\u5f55\u200b log_batch(run_id, metrics=(), params=(), tags=()) \u200b\u8bb0\u5f55\u200b\u591a\u4e2a\u200bmetrecs\u3001params\u3001tags log_metric(run_id, key, value, timestamp=None, step=None) \u200b\u5728\u200b\u7ed9\u5b9a\u200bid\u200b\u7684\u200brun\u200b\u5bf9\u8c61\u200b\u4e2d\u200b\u8bb0\u5f55\u200b\u4e00\u4e2a\u200bmetric log_param(run_id, key, value) \u200b\u5728\u200b\u7ed9\u5b9a\u200bid\u200b\u7684\u200brun\u200b\u5bf9\u8c61\u200b\u4e2d\u200b\u8bb0\u5f55\u200b\u4e00\u4e2a\u200bparam log_text(run_id, text, artifact_file) \u200b\u5c06\u200btext\u200b\u6587\u4ef6\u200b\u8bb0\u5f55\u200b\u4e3a\u200b\u4e00\u4e2a\u200bartifact","tags":["Python"]},{"location":"python/python_lib/libs/MLflow/#moflowprojects","title":"moflow.projects\u200b\u6a21\u5757","text":"<p>\u200b\u8be5\u200b\u6a21\u5757\u200b\u4e3a\u200b\u8fd0\u884c\u200b\u672c\u5730\u200b\u6216\u8005\u200b\u8fdc\u7a0b\u200b\u7684\u200bMLflow project\u200b\u63d0\u4f9b\u200bAPI\u3002\u200b\u4e3b\u8981\u200b\u51fd\u6570\u200b\u5982\u4e0b\u200b\uff1a</p> <pre><code>mlflow.projects.run(uri, entry_point='main', version=None, parameters=None, docker_args=None, experiment_name=None, experiment_id=None, backend='local', backend_config=None, use_conda=True, storage_dir=None, synchronous=True, run_id=None)\n</code></pre> <ul> <li> <p>\u200b\u8fd0\u884c\u200b\u4e00\u4e2a\u200bMLflow project\u3002\u200b\u8fd9\u4e2a\u200b\u9879\u76ee\u200b\u53ef\u4ee5\u200b\u5728\u200b\u672c\u5730\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5b58\u50a8\u200b\u5728\u200b\u4e00\u4e2a\u200bGit URI\u200b\u4e2d\u200b\u3002</p> </li> <li> <p>\u200b\u53c2\u6570\u200b\uff1a</p> </li> </ul> Parameters Description uri \u200b\u6240\u200b\u8981\u200b\u8fd0\u884c\u200b\u9879\u76ee\u200b\u7684\u200buri\u3002\u200b\u53ef\u4ee5\u200b\u662f\u200b\u672c\u5730\u200b\u6216\u8005\u200bGit\u200b\u4ed3\u5e93\u200b entry_point \u200b\u9879\u76ee\u200b\u8fd0\u884c\u200b\u7684\u200b\u5165\u53e3\u200b\u70b9\u200b version \u200b\u57fa\u4e8e\u200bGit\u200b\u9879\u76ee\u200b\u7684\u200b\u7248\u672c\u200b parameters \u200b\u5165\u53e3\u200b\u70b9\u200b\u547d\u4ee4\u200b\u7684\u200b\u53c2\u6570\u200b\uff08\u200b\u5b57\u5178\u200b\u7c7b\u578b\u200b\uff09 docker_args docker\u200b\u547d\u4ee4\u200b\u7684\u200b\u53c2\u6570\u200b\uff08\u200b\u5b57\u5178\u200b\u7c7b\u578b\u200b\uff09 experiment_name \u200b\u8fd0\u884c\u200b\u9879\u76ee\u200b\u7684\u200b\u5b9e\u9a8c\u200b\u540d\u5b57\u200b experiment_id \u200b\u8fd0\u884c\u200b\u9879\u76ee\u200b\u7684\u200b\u5b9e\u9a8c\u200bID backend \u200b\u8fd0\u884c\u200b\u540e\u53f0\u200b\uff0cMLflow\u200b\u63d0\u4f9b\u200b\u5185\u7f6e\u200b\u652f\u6301\u200b\u7684\u200b\u540e\u53f0\u200b\u6709\u200b\u201clocal\"\uff0c\u201ddatabricks\u201c\uff0c\u201dkubernetes\u201c backend_config JSON\u200b\u6587\u4ef6\u200b\u7684\u200b\u8def\u5f84\u200b\uff0c\u200b\u8fd9\u4e2a\u200bJSON\u200b\u6587\u4ef6\u200b\u5c06\u200b\u7528\u4e8e\u200b\u914d\u7f6e\u200b\u540e\u53f0\u200b use_conda \u200b\u82e5\u200b\u4e3a\u200bTrue\uff0c\u200b\u5219\u200b\u521b\u5efa\u200b\u65b0\u200b\u7684\u200bconda\u200b\u73af\u5883\u200b\uff0c\u200b\u82e5\u200b\u4e3a\u200bFalse\uff0c\u200b\u5219\u200b\u4f7f\u7528\u200b\u5f53\u524d\u200bconda\u200b\u73af\u5883\u200b\u3002\u200b\u9ed8\u8ba4\u200b\u4e3a\u200bTrue storage_dir \u200b\u4ec5\u5f53\u200b\u540e\u53f0\u200b\u4e3a\u200b\u201dlocal\u201c\u200b\u65f6\u200b\u53ef\u7528\u200b\u3002artifacts\u200b\u5b58\u50a8\u200b\u4f4d\u7f6e\u200b synchronous \u200b\u5176\u4ed6\u200b\u9879\u76ee\u200b\u8fd0\u884c\u200b\u5b8c\u6210\u200b\u4e4b\u524d\u200b\u662f\u5426\u200b\u963b\u585e\u200b\u3002 \u200b\u9ed8\u8ba4\u200b\u4e3a\u200bTrue run_id \u200b\u82e5\u200b\u6307\u5b9a\u200b\uff0c\u200b\u5219\u200bMLflow\u200b\u4f1a\u200b\u5728\u200b\u6307\u5b9a\u200bID\u200b\u7684\u200brun\u200b\u4e0b\u200b\u8fd0\u884c\u200b\u9879\u76ee\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u521b\u5efa\u200b\u65b0\u200b\u7684\u200brun\u200b\u5bf9\u8c61\u200b\u3002 <ul> <li>\u200b\u8fd4\u56de\u503c\u200b\uff1a</li> </ul> <p>\u200b\u5305\u542b\u200b\u6240\u200b\u8fd0\u884c\u200b\u9879\u76ee\u200b\u76f8\u5173\u200b\u4fe1\u606f\u200b\uff08\u200b\u4f8b\u5982\u200brun id\uff09\u200b\u7684\u200bmlflow.projects.SubmittedRun\u200b\u5bf9\u8c61\u200b\u3002</p>","tags":["Python"]},{"location":"python/python_lib/libs/MLflow/#moflowmodels","title":"moflow.models\u200b\u6a21\u5757","text":"<p>\u200b   \u200b\u4e3a\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u6a21\u578b\u200b\u7684\u200b\u4fdd\u5b58\u200b\u63d0\u4f9b\u200b\u63a5\u53e3\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u6a21\u578b\u200b\u7528\u200b\u4e00\u79cd\u200b\u4e0b\u6e38\u200b\u5de5\u5177\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u7684\u200b\u201dflavors\u201c\u200b\u65b9\u5f0f\u200b\u4fdd\u5b58\u200b\u3002</p> <ul> <li>\u200b\u5185\u7f6e\u200b\u201dflavors\u201c\uff1a</li> </ul> built-in flavors mlflow.pyfunc mlflow.keras mlflow.lightgbm mlflow.pytorch mlflow.sklearn mlflow.spark mlflow.statsmodels mlflow.tensorflow mlflow.xgboost mlflow.spacy mlflow.fastai <ul> <li>\u200b\u5177\u4f53\u200b\u7684\u200b\u8c03\u7528\u51fd\u6570\u200b\u5728\u200b\u76f8\u5173\u200b\u4f9d\u8d56\u200b\u4e2d\u200b\uff0c\u200b\u4f8b\u5982\u200b\uff0c\u200b\u4fdd\u5b58\u200b\u4e00\u4e2a\u200bsklearn\u200b\u6a21\u578b\u200b\uff0c\u200b\u9996\u5148\u200b\u5f15\u5165\u200bmlflow.sklearn\u200b\u4f9d\u8d56\u200b\u5305\u200b\uff0c\u200b\u518d\u200b\u8c03\u7528\u200bmlflow.sklearn.autolog()\u200b\u51fd\u6570\u200b\u6216\u8005\u200bmlflow.sklearn.load_model()\u200b\u51fd\u6570\u200b\u3002\u200b\u5177\u4f53\u200b\u9700\u200b\u53c2\u89c1\u200b\u5bf9\u5e94\u200b\u7684\u200b\u4f9d\u8d56\u200b\u5305\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/","title":"Numpy -> \u200b\u6570\u636e\u5206\u6790\u200b\u5de5\u5177","text":"","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#_1","title":"\u603b\u7ed3\u200b\uff1a","text":"","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#numpy","title":"numpy\u200b\u6982\u8ff0","text":"<ul> <li>\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5728\u200bPython\u200b\u4e2d\u200b\u505a\u200b\u79d1\u5b66\u8ba1\u7b97\u200b\u7684\u200b\u57fa\u7840\u200b\u5e93\u200b\uff0c\u200b\u4e5f\u200b\u662f\u200b\u5927\u90e8\u5206\u200bPython\u200b\u79d1\u5b66\u8ba1\u7b97\u200b\u5e93\u200b\u7684\u200b\u57fa\u7840\u200b\u5e93\u200b</li> <li>\u200b\u91cd\u5728\u200b\u6570\u503c\u200b\u8ba1\u7b97\u200b</li> <li>\u200b\u591a\u200b\u7528\u4e8e\u200b\u5728\u200b\u5927\u578b\u200b\u3001\u200b\u591a\u7ef4\u200b\u6570\u7ec4\u200b\uff08\u200b\u77e9\u9635\u200b\uff09\u200b\u4e0a\u200b\u6267\u884c\u200b\u6570\u503c\u200b\u8ba1\u7b97\u200b\u3002</li> <li>\u200b\u7528\u6765\u200b\u5b58\u50a8\u200b\u548c\u200b\u5904\u7406\u200b\u5927\u578b\u200b\u77e9\u9635\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#_2","title":"\u5e38\u7528\u200b\u65b9\u6cd5","text":"","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#_3","title":"\u521b\u5efa\u200b\u6570\u7ec4","text":"<pre><code>list_1 = [1,2,3,4,5]\nlist_2 = [6,7,8,9,10]\na = np.array(list_1) # \u200b\u521b\u5efa\u200b\u4e00\u7ef4\u200b\u6570\u7ec4\u200b\uff08\u200b\u65b9\u6cd5\u200b\u4e00\u200b\uff09\nb = np.arange(temp1,temp2,temp3) # \u200b\u521b\u5efa\u200b\u4e00\u7ef4\u200b\u6570\u7ec4\u200b\uff08\u200b\u65b9\u6cd5\u200b\u4e8c\u200b\uff09 temp1:\u200b\u8d77\u59cb\u200b\uff0ctemp2:\u200b\u7ec8\u6b62\u200b\uff0ctemp3:\u200b\u6b65\u957f\u200b\nc = np.array([list_1,list_2]) # \u200b\u521b\u5efa\u200b\u4e8c\u7ef4\u200b\u6570\u7ec4\u200b\nd = np.zeros(5) # \u200b\u521b\u5efa\u200b\u5168\u200b0\u200b\u4e00\u7ef4\u200b\u77e9\u9635\u200b\uff08\u200b\u6570\u7ec4\u200b\uff09 \u200b\u6570\u636e\u7c7b\u578b\u200b\u662f\u200bfloat64\ne = np.zeros([2,3]) # \u200b\u521b\u5efa\u200b\u5168\u200b0\u200b\u4e8c\u7ef4\u200b\u77e9\u9635\u200b\uff08\u200b\u6570\u7ec4\u200b\uff09 \u200b\u6570\u636e\u7c7b\u578b\u200b\u662f\u200bfloat64\nf = np.eye(5) # 5*5\u200b\u7684\u200b\u5355\u4f4d\u77e9\u9635\u200b\uff08\u200b\u6570\u7ec4\u200b\uff09 \u200b\u6570\u636e\u7c7b\u578b\u200b\u662f\u200bfloat64\nnp.arange(12).reshape(3, 4)\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#_4","title":"\u6570\u7ec4\u200b\u7684\u200b\u5c5e\u6027","text":"<pre><code># \u200b\u67e5\u770b\u200b\u6570\u7ec4\u200b\u7684\u200b\u7c7b\u578b\u200b\ntype(a)\n\n# \u200b\u67e5\u770b\u200b\u6570\u636e\u200b\u7684\u200b\u7c7b\u578b\u200b\na.dtype\n\n# \u200b\u67e5\u770b\u200b\u6570\u7ec4\u200b\u7684\u200b\u5f62\u72b6\u200b\na.shape\n\n# \u200b\u67e5\u770b\u200b\u6570\u7ec4\u200b\u7684\u200b\u5143\u7d20\u200b\u4e2a\u6570\u200b\na.size\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#_5","title":"\u6570\u7ec4\u200b\u7684\u200b\u8bbf\u95ee","text":"<pre><code># \u200b\u4e00\u7ef4\u200b\u6570\u7ec4\u200b\na = np.arange(1,10) # out:array([1,2,3,4,5,6,7,8,9])\na[1] # out:2\na[1:5] # out:array([2,3,4,5])\n\n# \u200b\u4e8c\u7ef4\u200b\u6570\u7ec4\u200b\nb = np.array([[1,2,3],\n              [4,5,6]])  # [1,2,3]\u200b\u662f\u200b\u7b2c\u200b0\u200b\u884c\u200b\uff0c[4\uff0c5\uff0c6]\u200b\u662f\u200b\u7b2c\u4e00\u884c\u200b\nb[1][0] # out:4  \u200b\u8868\u793a\u200b\u8bbf\u95ee\u200b\u7b2c\u4e00\u884c\u200b\u7b2c\u200b0\u200b\u4e2a\u200b\u5143\u7d20\u200b\uff08\u200b\u8bbf\u95ee\u200b\u65b9\u5f0f\u200b\u4e00\u200b\uff09\nb[1, 0] # out:4 \uff08\u200b\u8bbf\u95ee\u200b\u65b9\u5f0f\u200b\u4e8c\u200b\uff09\n\nc = np.array([[1,2,3],\n             [4,5,6],\n             [7,8,9]])\nc[:2,1:] # \u200b\u8868\u793a\u200b \uff1a2\u200b\u884c\u200b\u6570\u200b\uff0c1\uff1a \u200b\u5217\u6570\u200b\n# out: \narray([[2,3],\n       [5,6]])\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#_6","title":"\u6307\u5b9a\u200b\u521b\u5efa\u200b\u6570\u7ec4\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b","text":"<pre><code>a = np.array([1,0,1,0], dtype=np.bool)  # \u200b\u6216\u8005\u200b\u4f7f\u7528\u200bdtype='?'\n\n# \u200b\u4fee\u6539\u200b\u6570\u7ec4\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\na.astype(\"i1\") # \u200b\u6216\u8005\u200b\u4f7f\u7528\u200ba.astype(np.int8)\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#_7","title":"\u4fee\u6539\u200b\u6d6e\u70b9\u200b\u578b\u200b\u7684\u200b\u5c0f\u6570\u4f4d\u200b\u6570","text":"<pre><code>np.round(b, 2)  # b\u200b\u662f\u200b\u6d6e\u70b9\u200b\u578b\u200b\u6570\u7ec4\u200b\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#_8","title":"\u6570\u7ec4\u200b\u7684\u200b\u5f62\u72b6","text":"<pre><code># \u200b\u67e5\u770b\u200b\u6570\u7ec4\u200b\u7684\u200b\u5f62\u72b6\u200b,\u200b\u5f97\u5230\u200b\u7684\u200b\u7ed3\u679c\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5143\u7ec4\u200b\uff0c\na.shape  # fg:(2,4)\u200b\u8868\u793a\u200b2\uff08\u200b\u884c\u200b\uff09*4\uff08\u200b\u5217\u200b\uff09\u200b\u7684\u200b\u6570\u7ec4\u200b\n\n# \u200b\u83b7\u53d6\u200b\u6570\u7ec4\u200b\u7684\u200b\u884c\u6570\u200b\na.shape[0]\n# \u200b\u83b7\u53d6\u200b\u6570\u7ec4\u200b\u7684\u200b\u5217\u6570\u200b\na.shape[1]\n\n# \u200b\u4fee\u6539\u200b\u6570\u7ec4\u200b\u7684\u200b\u5f62\u72b6\u200b\nb = a.reshape(2, 6)\n\n# \u200b\u628a\u200b\u6570\u7ec4\u200b\u8f6c\u5316\u200b\u4e3a\u200b\u4e00\u7ef4\u200b\u6570\u7ec4\u200b\na.flatten()\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#_9","title":"\u6570\u7ec4\u200b\u548c\u200b\u6570\u7ec4\u200b\u7684\u200b\u8ba1\u7b97","text":"<pre><code># \u200b\u5e7f\u64ad\u200b\u673a\u5236\u200b\na + 1\na * 3\n</code></pre> <p>\u200b\u5982\u679c\u200b\u4e24\u4e2a\u200b\u6570\u7ec4\u200b\u7684\u200b\u540e\u7f18\u200b\u7ef4\u5ea6\u200b\uff08\u200b\u5373\u200b\u4ece\u200b\u672b\u5c3e\u200b\u5f00\u59cb\u200b\u7b97\u8d77\u200b\u7684\u200b\u7ef4\u5ea6\u200b\uff09\u200b\u7684\u200b\u8f74\u200b\u957f\u5ea6\u200b\u76f8\u7b26\u200b\u6216\u200b\u5176\u4e2d\u200b\u4e00\u65b9\u200b\u7684\u200b\u957f\u5ea6\u200b\u4e3a\u200b1\uff0c\u200b\u5219\u200b\u8ba4\u4e3a\u200b\u5b83\u4eec\u200b\u662f\u200b\u5e7f\u64ad\u200b\u517c\u5bb9\u200b\u7684\u200b\u3002\u200b\u5e7f\u64ad\u200b\u4f1a\u200b\u5728\u200b\u7f3a\u5931\u200b\u548c\u200b\uff08\u200b\u6216\u200b\uff09\u200b\u957f\u5ea6\u200b\u4e3a\u200b1\u200b\u7684\u200b\u7ef4\u5ea6\u200b\u4e0a\u200b\u8fdb\u884c\u200b\u3002 \u200b\u53ef\u4ee5\u200b\u628a\u200b\u7ef4\u5ea6\u200b\u6307\u200b\u7684\u200b\u662f\u200bshape\u200b\u6240\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6570\u5b57\u200b\u3002 \u200b\u4e5f\u5c31\u662f\u8bf4\u200b\u4e24\u4e2a\u200b\u6570\u7ec4\u200bshape\u200b\u5f97\u5230\u200b\u7684\u200b\u5143\u7ec4\u200b\u7684\u200b\u540e\u200b2\u200b\u4f4d\u8981\u200b\u76f8\u540c\u200b\uff0c\u200b\u6216\u8005\u200b\u540e\u200b2\u200b\u4f4d\u4e2d\u200b\u4e00\u4e2a\u200b\u76f8\u540c\u200b\uff0c\u200b\u53e6\u5916\u200b\u4e00\u4e2a\u200b\u6570\u5b57\u200b\u6709\u200b\u4e00\u4e2a\u200b\u6570\u7ec4\u200b\u4e3a\u200b1</p>","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#numpy_1","title":"numpy\u200b\u8bfb\u53d6\u6570\u636e","text":"<p><pre><code>np.loadtxt(fname,dtype=np.float,delimiter=None,skiprows=0,usecols=None,unpack=False)\n# \u200b\u4f8b\u5982\u200b\uff1a\nnp.loadtxt(US_video_data_numbers_path, delimiter=\",\", dtype=int,unpack=1)\n</code></pre> | \u200b\u53c2\u6570\u200b | \u200b\u89e3\u91ca\u200b | | --- | --- | | frame | \u200b\u6587\u4ef6\u200b\u3001\u200b\u5b57\u7b26\u4e32\u200b\u6216\u200b\u4ea7\u751f\u5668\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u662f\u200b.gz\u200b\u6216\u200bbz2\u200b\u538b\u7f29\u6587\u4ef6\u200b | | dtype | \u200b\u6570\u636e\u7c7b\u578b\u200b\uff0c\u200b\u53ef\u200b\u9009\u200b\uff0ccsv\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u4ee5\u200b\u4ec0\u4e48\u200b\u6570\u636e\u7c7b\u578b\u200b\u8bfb\u5165\u200b\u6570\u7ec4\u200b\u4e2d\u200b\uff0c\u200b\u9ed8\u8ba4\u200bnp.float | | delimiter | \u200b\u5206\u5272\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u662f\u200b\u4efb\u4f55\u200b\u7a7a\u683c\u200b\uff0c\u200b\u6539\u4e3a\u200b\u9017\u53f7\u200b | | skiprows | \u200b\u8df3\u8fc7\u200b\u524d\u200bX\u200b\u884c\u200b\uff0c\u200b\u4e00\u822c\u200b\u8df3\u8fc7\u200b\u7b2c\u4e00\u884c\u200b\u8868\u5934\u200b | | usecols | \u200b\u8bfb\u53d6\u200b\u6307\u5b9a\u200b\u7684\u200b\u5217\u200b\uff0c\u200b\u7d22\u5f15\u200b\uff0c\u200b\u5143\u7ec4\u200b\u7c7b\u578b\u200b | | unpack | \u200b\u5982\u679c\u200bTrue\uff0c\u200b\u8bfb\u5165\u200b\u5c5e\u6027\u200b\u5c06\u200b\u5206\u522b\u200b\u5199\u5165\u200b\u4e0d\u540c\u200b\u6570\u7ec4\u200b\u53d8\u91cf\u200b\uff0cFalse\u200b\u8bfb\u5165\u200b\u6570\u636e\u200b\u53ea\u200b\u5199\u5165\u200b\u4e00\u4e2a\u200b\u6570\u7ec4\u200b\u53d8\u91cf\u200b\uff0c\u200b\u9ed8\u8ba4\u200bFalse\u3002\u200b\u76f8\u5f53\u4e8e\u200b\u8f6c\u7f6e\u200b\u7684\u200b\u6548\u679c\u200b |</p>","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#numpy_2","title":"numpy\u200b\u4e2d\u200b\u7684\u200b\u8f6c\u7f6e","text":"<p>\u200b\u8f6c\u7f6e\u200b\u662f\u200b\u4e00\u79cd\u200b\u53d8\u6362\u200b\uff0c\u200b\u5bf9\u4e8e\u200bnumpy\u200b\u4e2d\u200b\u7684\u200b\u6570\u7ec4\u200b\u6765\u8bf4\u200b\uff0c\u200b\u5c31\u662f\u200b\u5728\u200b\u5bf9\u89d2\u7ebf\u200b\u65b9\u5411\u200b\u4ea4\u6362\u200b\u6570\u636e\u200b\uff0c\u200b\u76ee\u7684\u200b\u4e5f\u200b\u662f\u200b\u4e3a\u4e86\u200b\u66f4\u200b\u65b9\u4fbf\u200b\u7684\u200b\u53bb\u200b\u5904\u7406\u200b\u6570\u636e\u200b\u3002 <pre><code># \u200b\u8f6c\u7f6e\u200b\u7684\u200b3\u200b\u79cd\u200b\u65b9\u6cd5\u200b\nt.transpose()\nt.swapaxes(1,0)\nt.T\n</code></pre></p>","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#numpy_3","title":"numpy\u200b\u7684\u200b\u7d22\u5f15\u200b\u548c\u200b\u5207\u7247","text":"<pre><code>a[1]  # \u200b\u53d6\u200b\u7b2c\u200b2\u200b\u884c\u200b\na[1:3]  # \u200b\u53d6\u200b\u7b2c\u200b2\u200b\u5230\u200b\u7b2c\u200b3\u200b\u884c\u200b\na[:, 2]  # \u200b\u53d6\u200b\u7b2c\u200b3\u200b\u5217\u200b\na[:, 2:4]  # \u200b\u53d6\u200b\u7b2c\u200b3\u200b\u5230\u200b\u7b2c\u200b4\u200b\u5217\u200b\na[[1,3], :]  # \u200b\u5206\u522b\u200b\u53d6\u200b\u7b2c\u200b2\u200b\u884c\u200b\u548c\u200b\u7b2c\u200b3\u200b\u884c\u200b\na[:[2,4]]  # \u200b\u5206\u522b\u200b\u53d6\u200b\u7b2c\u200b3\u200b\u5217\u200b\u548c\u200b\u7b2c\u200b4\u200b\u5217\u200b\na[[1:3],[2,4]]  # \u200b\u53d6\u200b\u7b2c\u200b2\u200b\u884c\u7b2c\u200b3\u200b\u884c\u200b\u548c\u200b\u7b2c\u200b3\u200b\u5217\u200b\u7b2c\u200b4\u200b\u5217\u200b\u7684\u200b\u4ea4\u96c6\u200b\na[:,2:8:2]  # \u200b\u53d6\u200b\u7b2c\u200b3\u200b\u5217\u5230\u200b\u7b2c\u200b8\u200b\u5217\u200b\uff0c\u200b\u6b65\u957f\u200b\u4e3a\u200b2\na[:,2:4] = 0  # \u200b\u628a\u200b\u7b2c\u200b3\u200b\u5217\u5230\u200b\u7b2c\u200b4\u200b\u5217\u200b\u7684\u200b\u503c\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b0\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#numpy_4","title":"numpy\u200b\u4e2d\u200b\u5e03\u5c14\u200b\u7d22\u5f15","text":"<pre><code>t = np.arange(24).reshape(4,6)\nprint(t &lt; 10)\n&gt;&gt;&gt;\narray([[ True,  True,  True,  True,  True,  True],\n       [ True,  True,  True,  True, False, False],\n       [False, False, False, False, False, False],\n       [False, False, False, False, False, False]])\n# \u200b\u4ee5\u4e0a\u200b\u662f\u200bt&lt;10\u200b\u7684\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\n\nt[t&lt;10]=0\nprint(t)\n&gt;&gt;&gt;\n[[ 0  0  0  0  0  0]\n [ 0  0  0  0 10 11]\n [12 13 14 15 16 17]\n [18 19 20 21 22 23]]\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#numpy_5","title":"numpy\u200b\u4e2d\u200b\u7684\u200b\u4e09\u5143\u200b\u8fd0\u7b97\u7b26","text":"<p>\u200b\u628a\u200bt\u200b\u4e2d\u200b\u5c0f\u4e8e\u200b10\u200b\u7684\u200b\u6570\u5b57\u200b\u66ff\u6362\u200b\u4e3a\u200b0\uff0c\u200b\u628a\u200b\u5927\u4e8e\u200b10\u200b\u7684\u200b\u66ff\u6362\u200b\u4e3a\u200b10 <pre><code>t = np.where(t&lt;10,0,10)\nprint(t)\n&gt;&gt;&gt;\n[[ 0  0  0  0  0  0]\n [ 0  0  0  0 10 10]\n [10 10 10 10 10 10]\n [10 10 10 10 10 10]]\n</code></pre></p>","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#numpyclip","title":"numpy\u200b\u4e2d\u200b\u7684\u200bclip\uff08\u200b\u88c1\u526a\u200b\uff09","text":"<p>\u200b\u628a\u200bt\u200b\u4e2d\u200b\u5c0f\u4e8e\u200b10\u200b\u7684\u200b\u6570\u5b57\u200b\u66ff\u6362\u200b\u4e3a\u200b0\uff0c\u200b\u5927\u4e8e\u200b20\u200b\u7684\u200b\u6570\u5b57\u200b\u66ff\u6362\u200b\u4e3a\u200b20\uff0c\u200b\u5176\u4ed6\u200b\u6570\u5b57\u200b\u4e0d\u53d8\u200b <pre><code>t = t.clip(10, 20)\nprint(t)\n&gt;&gt;&gt;\n[[10 10 10 10 10 10]\n [10 10 10 10 10 11]\n [12 13 14 15 16 17]\n [18 19 20 20 20 20]]\n</code></pre></p>","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#numpynaninf","title":"numpy\u200b\u4e2d\u200b\u7684\u200bnan\u200b\u548c\u200binf","text":"<p>nan(NAN,Nan):not a number\u200b\u8868\u793a\u200b\u4e0d\u662f\u200b\u4e00\u4e2a\u200b\u6570\u5b57\u200b</p> <p>\u200b\u4ec0\u4e48\u200b\u65f6\u5019\u200b\u4f1a\u200b\u51fa\u73b0\u200bnumpy\u200b\u4e2d\u200b\u7684\u200bnan\uff1a</p> <ul> <li>\u200b\u5f53\u200b\u6211\u4eec\u200b\u8bfb\u53d6\u200b\u672c\u5730\u200b\u7684\u200b\u6587\u4ef6\u200b\u4e3a\u200bfloat\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u5982\u679c\u200b\u6709\u200b\u7f3a\u5931\u200b\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u51fa\u73b0\u200bnan</li> <li>\u200b\u5f53\u505a\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u4e0d\u200b\u5408\u9002\u200b\u7684\u200b\u8ba1\u7b97\u200b\u7684\u200b\u65f6\u5019\u200b\uff08\u200b\u6bd4\u5982\u200b\u65e0\u7a77\u5927\u200b\uff08inf\uff09\u200b\u51cf\u53bb\u200b\u65e0\u7a77\u5927\u200b\uff09</li> </ul> <p>inf(-inf,inf):infinity\uff0cinf\u200b\u8868\u793a\u200b\u6b63\u200b\u65e0\u7a77\u200b\uff0c-inf\u200b\u8868\u793a\u200b\u8d1f\u200b\u65e0\u7a77\u200b</p>","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#inf-infinf","title":"\u4ec0\u4e48\u200b\u65f6\u5019\u200b\u4f1a\u200b\u51fa\u73b0\u200binf(-inf,inf):","text":"<ul> <li>\u200b\u6bd4\u5982\u200b\u4e00\u4e2a\u200b\u6570\u5b57\u200b\u9664\u4ee5\u200b0\uff0c\uff08python\u200b\u4e2d\u200b\u76f4\u63a5\u200b\u56de\u62a5\u200b\u9519\u200b\uff0cnumpy\u200b\u4e2d\u662f\u200b\u4e00\u4e2a\u200binf\u200b\u6216\u8005\u200b-inf\uff09</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#infnantypefloat","title":"inf\u200b\u548c\u200bnan\u200b\u7684\u200btype\u200b\u7c7b\u578b\u200b\u90fd\u200b\u662f\u200bfloat","text":"","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#nan","title":"nan\u200b\u4e2d\u200b\u7684\u200b\u6ce8\u610f\u200b\u70b9\u200b\uff1a","text":"<ul> <li>\u200b\u4e24\u4e2a\u200bnan\u200b\u662f\u200b\u4e0d\u200b\u76f8\u7b49\u200b\u7684\u200b\uff0c\u200b\u5373\u200bnp.nan != np.nan</li> <li>\u200b\u53ef\u4ee5\u200b\u5229\u7528\u200b\u4ee5\u4e0a\u200b\u7684\u200b\u7279\u6027\u200b\uff0c\u200b\u5224\u65ad\u200b\u6570\u7ec4\u200b\u4e2d\u200bnan\u200b\u7684\u200b\u4e2a\u6570\u200b </li> <li>np.count_nonzero(t != t)</li> <li>\u200b\u5982\u679c\u200b\u5224\u65ad\u200b\u4e00\u4e2a\u200b\u6570\u5b57\u200b\u662f\u5426\u200b\u4e3a\u200bnan\u200b\u5462\u200b\uff1f\u200b\u901a\u8fc7\u200bnp.isnan(a)\u200b\u6765\u200b\u5224\u65ad\u200b\uff0c\u200b\u8fd4\u56de\u200bbool\u200b\u7c7b\u578b\u200b\uff0c\u200b\u6bd4\u8f83\u200b\u628a\u200bnan\u200b\u66ff\u6362\u200b\u4e3a\u200b0 </li> <li>t[np.isnan(t)] = 0</li> <li>nan\u200b\u548c\u200b\u4efb\u4f55\u200b\u503c\u200b\u8ba1\u7b97\u200b\u90fd\u200b\u4e3a\u200bnan</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#numpy_6","title":"numpy\u200b\u4e2d\u200b\u5e38\u7528\u200b\u7edf\u8ba1\u200b\u51fd\u6570","text":"<ul> <li>\u200b\u6c42\u548c\u200b\uff1at.sum(axis=None)</li> <li>\u200b\u5747\u503c\u200b\uff1at.mean(a,axis=None) \u200b\u53d7\u200b\u79bb\u7fa4\u200b\u70b9\u200b\u7684\u200b\u5f71\u54cd\u200b\u8f83\u5927\u200b</li> <li>\u200b\u4e2d\u200b\u503c\u200b\uff1anp.median(t,axis=None)</li> <li>\u200b\u6700\u5927\u503c\u200b\uff1at.max(axis=None)</li> <li>\u200b\u6700\u5c0f\u503c\u200b\uff1at.min(axis=None)</li> <li>\u200b\u6781\u503c\u200b\uff1anp.ptp(t,axis=None) \u200b\u5373\u200b\u6700\u5927\u503c\u200b\u548c\u200b\u6700\u5c0f\u503c\u200b\u53ea\u5dee\u200b</li> <li>\u200b\u6807\u51c6\u5dee\u200b\uff1a t.std(axis=None)</li> </ul> <p>\u200b\u9ed8\u8ba4\u200b\u8fd4\u56de\u200b\u591a\u7ef4\u200b\u6570\u7ec4\u200b\u7684\u200b\u5168\u90e8\u200b\u7684\u200b\u7edf\u8ba1\u200b\u7ed3\u679c\u200b\uff0c\u200b\u5982\u679c\u200b\u6307\u5b9a\u200baxis\u200b\u5219\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u5f53\u524d\u200b\u8f74\u4e0a\u200b\u7684\u200b\u7ed3\u679c\u200b</p> <p>\u200b\u6807\u51c6\u5dee\u200b\uff1a\u200b\u662f\u200b\u4e00\u7ec4\u200b\u6570\u636e\u200b\u5e73\u5747\u503c\u200b\u5206\u6563\u200b\u7a0b\u5ea6\u200b\u7684\u200b\u4e00\u79cd\u200b\u5ea6\u91cf\u200b\u3002\u200b\u4e00\u4e2a\u200b\u8f83\u5927\u200b\u7684\u200b\u6807\u51c6\u5dee\u200b\uff0c\u200b\u4ee3\u8868\u200b\u5927\u90e8\u5206\u200b\u6570\u503c\u200b\u548c\u200b\u5176\u200b\u5e73\u5747\u503c\u200b\u4e4b\u95f4\u200b\u5dee\u5f02\u200b\u8f83\u5927\u200b\uff1b\u200b\u4e00\u4e2a\u200b\u8f83\u200b\u5c0f\u200b\u7684\u200b\u6807\u51c6\u5dee\u200b\uff0c\u200b\u4ee3\u8868\u200b\u8fd9\u4e9b\u200b\u6570\u503c\u200b\u8f83\u200b\u63a5\u8fd1\u200b\u5e73\u5747\u503c\u200b\u53cd\u6620\u200b\u51fa\u200b\u6570\u636e\u200b\u7684\u200b\u6ce2\u52a8\u200b\u7a33\u5b9a\u200b\u60c5\u51b5\u200b\uff0c\u200b\u8d8a\u5927\u200b\u8868\u793a\u200b\u6ce2\u52a8\u200b\u8d8a\u5927\u200b\uff0c\u200b\u8d8a\u200b\u4e0d\u200b\u7a33\u5b9a\u200b\u3002</p>","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#ndarry","title":"ndarry\u200b\u7f3a\u5931\u200b\u503c\u200b\u586b\u5145\u200b\u5747\u503c","text":"<pre><code>t = np.array([[  0.,   1.,   2.,   3.,   4.,   5.],\n       [  6.,   7.,  np.nan,   9.,  10.,  11.],\n       [ 12.,  13.,  14.,  np.nan,  16.,  17.],\n       [ 18.,  19.,  20.,  21.,  22.,  23.]])\n\ndef fill_nan_by_column_mean(t):\n  for i in range(t.shape[1]):\n    nan_num = np.count_nonzero(t[:, i][t[:, i] != t[:, i]])  # \u200b\u8ba1\u7b97\u200b\u975e\u200bnan\u200b\u7684\u200b\u4e2a\u6570\u200b\n    if nan_num &gt; 0:  # \u200b\u5b58\u5728\u200b\u7684\u200bnan\u200b\u503c\u200b\n      now_col = t[:, i]\n      now_col_not_nan = now_col[np.isnan(now_col) == False].sum()  # \u200b\u6c42\u548c\u200b\n      now_col_mean = now_col_not_nan / (t.shape[0] - nan_num)  # \u200b\u548c\u200b/\u200b\u4e2a\u6570\u200b\n      now_col[np.isnan(now_col)] = now_col_mean  # \u200b\u8d4b\u503c\u200b\u7ed9\u200bnow_col\n      t[:, i] = now_col  # \u200b\u8d4b\u503c\u200b\u7ed9\u200bt\uff0c\u200b\u5373\u200b\u66f4\u65b0\u200bt\u200b\u7684\u200b\u5f53\u200b\u524d\u5217\u200b\n\nfill_nan_by_column_mean(t)\nprint(t)\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#_10","title":"\u6570\u7ec4\u200b\u7684\u200b\u62fc\u63a5","text":"<pre><code>np.vstack((t1,t2))  # \u200b\u7ad6\u76f4\u200b\u62fc\u63a5\u200b\nnp.hstack((t1,t2))  # \u200b\u6c34\u5e73\u200b\u62fc\u63a5\u200b\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#_11","title":"\u6570\u7ec4\u200b\u7684\u200b\u884c\u5217\u200b\u4ea4\u6362","text":"<pre><code>t[[1,2],:] = t[[2,1],:]  # \u200b\u884c\u200b\u4ea4\u6362\u200b\nt[:,[0,2]] = t[:,[2,0]]  # \u200b\u5217\u200b\u4ea4\u6362\u200b\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#numpy_7","title":"numpy\u200b\u66f4\u200b\u591a\u200b\u597d\u200b\u7528\u200b\u7684\u200b\u65b9\u6cd5","text":"<ol> <li>\u200b\u83b7\u53d6\u200b\u6700\u5927\u503c\u200b\u6700\u5c0f\u503c\u200b\u7684\u200b\u4f4d\u7f6e\u200b </li> <li>np.argmax(t,axis=0)</li> <li> <p>np.argmin(t,axis=1)</p> </li> <li> <p>\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u5168\u200b0\u200b\u7684\u200b\u6570\u7ec4\u200b\uff1anp.zeros((3,4))</p> </li> <li>\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u5168\u200b1\u200b\u7684\u200b\u6570\u7ec4\u200b\uff1anp.ones((3,4))</li> <li>\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u5bf9\u89d2\u7ebf\u200b\u4e3a\u200b1\u200b\u7684\u200b\u6b63\u65b9\u5f62\u200b\u6570\u7ec4\u200b\uff08\u200b\u65b9\u9635\u200b\uff09\uff1anp,eye(3)</li> </ol>","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#_12","title":"\u751f\u6210\u200b\u968f\u673a\u6570","text":"","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#numpycopyview","title":"numpy\u200b\u7684\u200b\u6ce8\u610f\u200b\u70b9\u200bcopy\u200b\u548c\u200bview","text":"<ol> <li>a=b\u200b\u5b8c\u5168\u200b\u4e0d\u200b\u590d\u5236\u200b\uff0ca\u200b\u548c\u200bb\u200b\u76f8\u4e92\u5f71\u54cd\u200b</li> <li>a=b[:]\uff0c\u200b\u89c6\u56fe\u200b\u7684\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u4e00\u79cd\u200b\u5207\u7247\u200b\uff0c\u200b\u4f1a\u200b\u521b\u5efa\u200b\u65b0\u200b\u7684\u200b\u5bf9\u8c61\u200ba\uff0c\u200b\u4f46\u662f\u200ba\u200b\u7684\u200b\u6570\u636e\u200b\u5b8c\u5168\u200b\u7531\u200bb\u200b\u4fdd\u7ba1\u200b\uff0c\u200b\u4ed6\u4eec\u200b\u4e24\u4e2a\u200b\u7684\u200b\u6570\u636e\u200b\u53d8\u5316\u200b\u662f\u200b\u4e00\u81f4\u200b\u7684\u200b\u3002</li> <li>a=b.copy()\uff0c\u200b\u590d\u5236\u200b\uff0ca\u200b\u548c\u200bb\u200b\u4e92\u4e0d\u200b\u5f71\u54cd\u200b\u3002</li> </ol>","tags":["Python"]},{"location":"python/python_lib/libs/Numpy/#_13","title":"Numpy -> \u200b\u6570\u636e\u5206\u6790\u200b\u5de5\u5177","text":"","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/","title":"Pandas -> \u200b\u6570\u636e\u5206\u6790\u200b\u5de5\u5177","text":"","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_1","title":"\u5199\u200b\u5728\u200b\u524d\u9762","text":"<ul> <li>\u200b\u5b98\u7f51\u200b\uff1ahttp://pandas.pydata.org</li> <li>github\u200b\u5730\u5740\u200b\uff1ahttps://github.com/pandas-dev/pandas</li> <li>\u200b\u5b9e\u73b0\u200b\u8bed\u8a00\u200b\uff1aPython</li> <li>\u200b\u5f53\u524d\u200b\u7248\u672c\u200b\uff1aversion 1.5.1</li> <li>\u200b\u5f53\u524d\u200bstar\u200b\u6570\u200b\uff1a35.7k</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#pandas","title":"\u4ec0\u4e48\u200b\u662f\u200bPandas\uff1f","text":"<p>\u200b\u5b98\u7f51\u200b\u4ecb\u7ecd\u200b: pandas is open source, BSD-licensed library providing high-performance, easy-to-use data structures and data analysis tools for the Python programming language.</p>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_2","title":"\u540d\u79f0\u200b\u7531\u200b\u6765","text":"<ul> <li>\u200b\u6765\u81ea\u200bpanel data(\u200b\u9762\u677f\u200b\u6570\u636e\u200b) \u200b\u548c\u200b data analysis(\u200b\u6570\u636e\u5206\u6790\u200b)\u200b\u7684\u200b\u5408\u6210\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_3","title":"\u6982\u8ff0","text":"<ul> <li>\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5f3a\u5927\u200b\u7684\u200b\u5206\u6790\u200b\u7ed3\u6784\u5316\u200b\u6570\u636e\u200b\u7684\u200b\u5de5\u5177\u96c6\u200b\uff0c\u200b\u57fa\u4e8e\u200bNumpy\u200b\u6784\u5efa\u200b\uff0c\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u9ad8\u7ea7\u200b\u6570\u636e\u7ed3\u6784\u200b\u548c\u200b\u6570\u636e\u200b\u64cd\u4f5c\u200b\u5de5\u5177\u200b</li> <li>\u200b\u662f\u200bPython\u200b\u6210\u4e3a\u200b\u5f3a\u5927\u200b\u800c\u200b\u9ad8\u6548\u200b\u7684\u200b\u6570\u636e\u5206\u6790\u200b\u73af\u5883\u200b\u7684\u200b\u91cd\u8981\u200b\u56e0\u7d20\u200b\u4e4b\u4e00\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_4","title":"\u529f\u80fd\u200b\u7279\u6027","text":"<ul> <li>\u200b\u4e00\u4e2a\u200b\u5f3a\u5927\u200b\u7684\u200b\u5206\u6790\u200b\u548c\u200b\u64cd\u4f5c\u200b\u5927\u578b\u200b\u7ed3\u6784\u5316\u200b\u6570\u636e\u200b\u96c6\u6240\u200b\u9700\u8981\u200b\u7684\u200b\u5de5\u5177\u96c6\u200b</li> <li>\u200b\u57fa\u4e8e\u200bNumpy\uff0c\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u9ad8\u6027\u80fd\u200b\u77e9\u9635\u200b\u8fd0\u7b97\u200b</li> <li>\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u5927\u91cf\u200b\u80fd\u591f\u200b\u5feb\u901f\u200b\u4fbf\u6377\u200b\u5730\u200b\u5904\u7406\u200b\u6570\u636e\u200b\u7684\u200b\u51fd\u6570\u200b\u548c\u200b\u65b9\u6cd5\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_5","title":"\u76ee\u6807\u200b\u95ee\u9898\u200b\u57df","text":"<ul> <li>Numpy\u200b\u901a\u5e38\u200b\u7528\u4e8e\u200b\u5904\u7406\u200b\u6570\u503c\u200b\uff0cPandas\u200b\u65e2\u200b\u80fd\u200b\u5904\u7406\u200b\u6570\u503c\u200b\uff0c\u200b\u8fd8\u200b\u80fd\u200b\u5904\u7406\u200b\u5176\u4ed6\u200b\u7c7b\u578b\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u5982\u200b\u5b57\u7b26\u4e32\u200b\u3001\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u7b49\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_6","title":"\u5e94\u7528\u200b\u573a\u666f","text":"<ul> <li>\u200b\u5e94\u7528\u200b\u4e8e\u200b\u6570\u636e\u6316\u6398\u200b\u3001\u200b\u6570\u636e\u5206\u6790\u200b\u573a\u666f\u200b</li> <li>\u200b\u63d0\u4f9b\u6570\u636e\u200b\u6e05\u6d17\u200b\u529f\u80fd\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#pandas_1","title":"Pandas\u200b\u7684\u200b\u5b89\u88c5","text":"<ul> <li> <p>\u200b\u5b89\u88c5\u200b <pre><code>pip install pandas -i https://pypi.tuna.tsinghua.edu.cn/simple\n\u200b\u6216\u200b\nconda install pandas\n</code></pre></p> </li> <li> <p>\u200b\u4f7f\u7528\u200b <pre><code>import pandas as pd\n</code></pre></p> </li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#pandas_2","title":"Pandas\u200b\u7684\u200b\u5e38\u7528\u200b\u7ed3\u6784","text":"<ol> <li>Series: \u200b\u4e00\u7ef4\u200b\uff0c\u200b\u5e26\u200b\u6807\u7b7e\u200b\u6570\u7ec4\u200b</li> <li>DataFrame: \u200b\u4e8c\u7ef4\u200b\uff0c Series\u200b\u5bb9\u5668\u200b</li> </ol>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#series","title":"Series | \u200b\u4ecb\u7ecd","text":"<p>\u200b\u6982\u8ff0\u200b</p> <ul> <li>\u200b\u6982\u5ff5\u200b\uff1a</li> <li>\u200b\u662f\u200b\u4e00\u79cd\u200b\u7c7b\u4f3c\u200b\u4e8e\u200b\u4e00\u7ef4\u200b\u6570\u7ec4\u200b\u7684\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u7531\u200b\u4e00\u7ec4\u200b\u6570\u636e\u200b\uff08\u200b\u5404\u79cd\u200bNumpy\u200b\u6570\u636e\u7c7b\u578b\u200b\uff09\u200b\u4ee5\u53ca\u200b\u4e00\u7ec4\u200b\u4e0e\u200b\u4e4b\u200b\u5bf9\u5e94\u200b\u7684\u200b\u7d22\u5f15\u200b\uff08\u200b\u6570\u636e\u200b\u6807\u7b7e\u200b\uff09\u200b\u7ec4\u6210\u200b</li> <li>\u200b\u6982\u5ff5\u200b\u7406\u89e3\u200b\uff1a</li> <li>Series\u200b\u5bf9\u8c61\u200b\u672c\u8d28\u200b\u662f\u200b\u7531\u200b\u4e24\u4e2a\u200b\u6570\u7ec4\u200b\u7ec4\u6210\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u6570\u7ec4\u200b\u6784\u6210\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5efa\u200b\uff08index\uff0c\u200b\u7d22\u5f15\u200b\uff09,\u200b\u4e00\u4e2a\u200b\u6570\u7ec4\u200b\u6784\u6210\u200b\u5bf9\u8c61\u200b\u7684\u200b\u503c\u200b\uff08values\uff09, \u200b\u952e\u200b-&gt;\u200b\u503c\u200b</li> <li>\u200b\u56fe\u4f8b\u200b\uff1a    </li> <li>\u200b\u7c7b\u6bd4\u200b\uff1a</li> <li>numpy\u200b\u4e2d\u200b\u7684\u200bndarray\u200b\u7684\u200b\u5f88\u591a\u200b\u65b9\u6cd5\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u7528\u4e8e\u200b\u4e0e\u200bseries\u200b\u7c7b\u578b\u200b\uff0c\u200b\u6bd4\u5982\u200bargmax\uff0cclip\uff0c</li> <li>series\u200b\u5177\u6709\u200bwhere\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u4f46\u662f\u200b\u7ed3\u679c\u200b\u548c\u200bndarray\u200b\u4e0d\u540c\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#dataframe","title":"DataFrame | \u200b\u4ecb\u7ecd","text":"<p>\u200b\u6982\u8ff0\u200b</p> <ul> <li>\u200b\u6982\u5ff5\u200b\uff1a</li> <li>\u200b\u662f\u200b\u4e00\u4e2a\u200b\u8868\u683c\u200b\u578b\u200b\u6570\u636e\u7ed3\u6784\u200b\uff0c\u200b\u5b83\u200b\u6709\u200b\u4e00\u7ec4\u200b\u6709\u5e8f\u200b\u7684\u200b\u5217\u200b\uff0c\u200b\u6bcf\u5217\u200b\u53ef\u4ee5\u200b\u662f\u200b\u4e0d\u540c\u200b\u7c7b\u578b\u200b\u7684\u200b\u503c\u200b\uff0cDataFrame\u200b\u65e2\u6709\u200b\u884c\u200b\u7d22\u5f15\u200b\u53c8\u200b\u6709\u5217\u200b\u7d22\u5f15\u200b\uff0c\u200b\u901a\u5e38\u200b\u88ab\u200b\u770b\u505a\u200b\u7531\u200bSeries\u200b\u7ec4\u6210\u200b\u7684\u200b\u5b57\u5178\u200b\uff08\u200b\u540c\u4e00\u4e2a\u200b\u7d22\u5f15\u200b\uff09\uff0c\u200b\u6570\u636e\u200b\u662f\u200b\u4ee5\u200b\u4e8c\u7ef4\u200b\u7ed3\u6784\u200b\u5b58\u653e\u200b\u7684\u200b\u3002</li> <li>\u200b\u6982\u5ff5\u200b\u7406\u89e3\u200b\uff1a</li> <li>\u200b\u7c7b\u4f3c\u200b\u591a\u7ef4\u200b\u6570\u7ec4\u200b/\u200b\u8868\u683c\u200b\u6570\u636e\u200b\uff08excel\uff09</li> <li>\u200b\u6bcf\u5217\u200b\u6570\u636e\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u662f\u200b\u4e0d\u540c\u200b\u7c7b\u578b\u200b\u7684\u200b</li> <li>\u200b\u7d22\u5f15\u200b\u5305\u62ec\u200b\u884c\u200b\u7d22\u5f15\u200b\u3001\u200b\u5217\u200b\u7d22\u5f15\u200b</li> <li>\u200b\u56fe\u4f8b\u200b\uff1a    </li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#pandas_3","title":"Pandas\u200b\u7684\u200b\u57fa\u672c\u200b\u7528\u6cd5","text":"","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#series_1","title":"Series\u200b\u7684\u200b\u57fa\u672c\u200b\u7528\u6cd5","text":"","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_7","title":"\u521b\u5efa","text":"<pre><code>import pandas as pd\n\n# \u200b\u65b9\u5f0f\u200b\u4e00\u200b\uff1a\u200b\u901a\u8fc7\u200blist\u200b\u521b\u5efa\u200bSeries\nser1 = pd.Series(range(10, 20))\n# ---------------\u200b\u65b9\u5f0f\u200b\u4e00\u200b--------------------------\nIn [1]: import pandas as pd\nIn [2]: ser1 = pd.Series(range(10, 20))\nIn [3]: ser1\nOut[3]:\n0    10\n1    11\n...  ...\n8    18\n9    19\ndtype: int64\n\nIn [4]: print(type(ser1))\n&lt;class 'pandas.core.series.Series'&gt;\n\n# \u200b\u65b9\u5f0f\u200b\u4e8c\u200b\uff1a\u200b\u901a\u8fc7\u200bdict\u200b\u521b\u5efa\u200bSeries\nyear_data = {2021: 18.8, 2022: 28.8, 2023: 8.8}\nser2 = pd.Series(year_data)\n# ---------------\u200b\u65b9\u5f0f\u200b\u4e8c\u200b--------------------------\nIn [2]: year_data = {2021: 18.8, 2022: 28.8, 2023: 8.8}\n   ...: ser2 = pd.Series(year_data)\n\nIn [3]: ser2\nOut[3]:\n2021    18.8\n2022    28.8\n2023     8.8\ndtype: float64\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_8","title":"\u7d22\u5f15","text":"<ul> <li>\u200b\u7d22\u5f15\u200b\uff1a</li> <li>Series\u200b\u5bf9\u8c61\u200b\u672c\u8d28\u200b\u4e0a\u200b\u6709\u200b\u4e24\u4e2a\u200b\u6570\u7ec4\u200b\u6784\u6210\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u6570\u7ec4\u200b\u6784\u6210\u200b\u5bf9\u8c61\u200b\u7684\u200b\u952e\u200b\uff08index, \u200b\u7d22\u5f15\u200b\uff09\uff0c\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u6784\u6210\u200b\u5bf9\u8c61\u200b\u7684\u200b\u503c\u200b\uff08values\uff09</li> <li>\u200b\u7d22\u5f15\u200b\u64cd\u4f5c\u200b\u65f6\u200b\uff0c \u200b\u4e00\u4e2a\u200b\u7684\u200b\u65f6\u5019\u200b\u76f4\u63a5\u200b\u4f20\u5165\u200b\u5e8f\u53f7\u200b\u6216\u200bindex, \u200b\u591a\u4e2a\u200b\u7684\u200b\u65f6\u5019\u200b\u4f20\u5165\u200b\u5e8f\u53f7\u200b\u6216\u200bindex\u200b\u7684\u200b\u5217\u8868\u200b</li> <li>\u200b\u7d22\u5f15\u200b\u5bf9\u8c61\u200b\u4e0d\u53ef\u200b\u53d8\u200b\uff0c\u200b\u4fdd\u8bc1\u200b\u4e86\u200b\u6570\u636e\u200b\u7684\u200b\u5b89\u5168\u6027\u200b</li> <li>\u200b\u5e38\u89c1\u200b\u7684\u200bIndex\u200b\u79cd\u7c7b\u200b</li> <li>Index\uff1a\u200b\u7d22\u5f15\u200b</li> <li>Int64Index\uff1a \u200b\u6574\u6570\u200b\u7d22\u5f15\u200b</li> <li>MutiIndex: \u200b\u5c42\u7ea7\u200b\u7d22\u5f15\u200b</li> <li>DatatimeIndex: \u200b\u65f6\u95f4\u200b\u6233\u200b\u7d22\u5f15\u200b</li> <li> <p>\u200b\u5e38\u89c1\u200b\u7d22\u5f15\u200b\u64cd\u4f5c\u200b\uff1a <pre><code>ser[\u2018label\u2019], ser[pos]  # \u200b\u884c\u200b\u7d22\u5f15\u200b\n\nser[2:4], ser[\u2018label1\u2019: \u2019label3\u2019]  # \u200b\u5207\u7247\u200b\u7d22\u5f15\u200b\uff0c\uff08\u200b\u6309\u200b\u7d22\u5f15\u200b\u540d\u200b\u5207\u7247\u200b\u64cd\u4f5c\u200b\u65f6\u200b\uff0c\u200b\u662f\u200b\u5305\u542b\u200b\u7ec8\u6b62\u200b\u7d22\u5f15\u200b\u7684\u200b\uff09\n\nser[[\u2018label1\u2019, \u2019label2\u2019, \u2018label3\u2019]]  # \u200b\u4e0d\u200b\u8fde\u7eed\u200b\u7d22\u5f15\u200b\n\nser_bool = ser_bool &gt; 2  # \u200b\u5e03\u5c14\u200b\u7d22\u5f15\u200b\nser_obj[ser_bool]\nser_obj[ser_obj &gt; 2]\n</code></pre></p> </li> <li> <p>\u200b\u5b9e\u64cd\u200b\uff1a <pre><code>In [15]: import numpy as np\nIn [16]: ser3 = pd.Series(np.arange(5), index=list(\"ABCDE\"))\n\nIn [17]: ser3\nOut[17]:\nA    0\nB    1\nC    2\nD    3\nE    4\ndtype: int64\n\nIn [18]: ser3[1:4:2]  # \u200b\u5207\u7247\u200b\uff0c\u200b\u6b65\u957f\u200b\u4e3a\u200b2 \nOut[18]:\nB    1\nD    3\ndtype: int64\n\nIn [19]: ser3[2]  # \u200b\u53d6\u200b\u7d22\u5f15\u200b\nOut[19]: 2\n\nIn [20]: ser3[1:4]  # \u200b\u5207\u7247\u200b\uff0c\u200b\u6b65\u957f\u200b\u4e3a\u200b\u9ed8\u8ba4\u503c\u200b1\nOut[20]:\nB    1\nC    2\nD    3\ndtype: int64\n\nIn [21]: ser3[ser3&gt;3]  # \u200b\u503c\u200b\u5927\u4e8e\u200b3\u200b\u7684\u200b\u6240\u6709\u200b\u6570\u636e\u200b\nOut[21]:\nE    4\ndtype: int64\n\nIn [22]: ser3[\"B\"]  # \u200b\u7d22\u5f15\u200b\u4e3a\u200bB\u200b\u7684\u200b\u6570\u636e\u200b\nOut[22]: 1\n\nIn [24]: ser3[[\"A\", \"E\"]]  # \u200b\u7d22\u5f15\u200b\u4e3a\u200bA\u3001B\u200b\u7684\u200b\u6570\u636e\u200b\nOut[24]:\nA    0\nE    4\ndtype: int64\n\nIn [25]: ser3[[0,1,2]]  # \u200b\u53d6\u200b\u7d22\u5f15\u200b\u4e3a\u200b0\u30011\u30012\u200b\u7684\u200b\u6570\u636e\u200b\uff08\u200b\u4e0d\u200b\u8fde\u7eed\u200b\u7d22\u5f15\u200b\uff09\nOut[25]:\nA    0\nB    1\nC    2\ndtype: int64\n</code></pre></p> </li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_9","title":"\u7d22\u5f15\u200b\u548c\u200b\u503c","text":"<pre><code>In [26]: ser2\nOut[26]:\nABC\n2021    18.8\n2022    28.8\n2023     8.8\nName: AAA, dtype: float64\n\nIn [27]: ser2.index  # \u200b\u53d6\u200b\u7d22\u5f15\u200b\u503c\u200b\nOut[27]: Int64Index([2021, 2022, 2023], dtype='int64', name='ABC')\n\nIn [28]: ser2.values  # \u200b\u53d6\u503c\u200b\nOut[28]: array([18.8, 28.8,  8.8])\n\nIn [29]: type(ser2.index)  \nOut[29]: pandas.core.indexes.numeric.Int64Index\n\nIn [30]: type(ser2.values)\nOut[30]: numpy.ndarray\n\nIn [31]: ser2.name = \"Bobo\"  # \u200b\u8bbe\u7f6e\u200bSeries\u200b\u5bf9\u8c61\u200b\u540d\u200b\uff0c\u200b\u6ca1\u6709\u200b\u5c31\u200b\u65b0\u589e\u200b\uff0c\u200b\u6709\u200b\u5c31\u200b\u4fee\u6539\u200b\n\nIn [32]: ser2.index.name = \"YEAR\"  # \u200b\u8bbe\u7f6e\u200bSeries\u200b\u5bf9\u8c61\u200b\u7d22\u5f15\u200b\u540d\u200b\uff0c\u200b\u6ca1\u6709\u200b\u5c31\u200b\u65b0\u589e\u200b\uff0c\u200b\u6709\u200b\u5c31\u200b\u4fee\u6539\u200b\n\nIn [33]: ser2\nOut[33]:\nYEAR\n2021    18.8\n2022    28.8\n2023     8.8\nName: Bobo, dtype: float64\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#loc","title":"loc\u200b\u6807\u7b7e\u200b\u7d22\u5f15","text":"<pre><code>n [8]: ser4 = pd.Series(np.arange(5), index=list(\"abcde\"))\n\nIn [9]: ser4['a':'e']\nOut[9]:\na    0\nb    1\nc    2\nd    3\ne    4\ndtype: int64\n\nIn [10]: ser4.loc['a':'e']\nOut[10]:\na    0\nb    1\nc    2\nd    3\ne    4\ndtype: int64\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#iloc","title":"iloc\u200b\u4f4d\u7f6e\u200b\u7d22\u5f15","text":"<ul> <li>\u200b\u57fa\u4e8e\u200b\u7d22\u5f15\u200b\u7f16\u53f7\u200b\u7d22\u5f15\u200b <pre><code>In [15]: ser5 = pd.Series(np.arange(5), index=list(\"abcde\"))\n\nIn [16]: ser5\nOut[16]:\na    0\nb    1\nc    2\nd    3\ne    4\ndtype: int64\n\nIn [17]: ser5[1:4]\nOut[17]:\nb    1\nc    2\nd    3\ndtype: int64\n\nIn [18]: ser5.iloc[1:4]\nOut[18]:\nb    1\nc    2\nd    3\ndtype: int64\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#ix","title":"ix\u200b\u6807\u7b7e\u200b\u4e0e\u200b\u4f4d\u7f6e\u200b\u6df7\u5408\u200b\u7d22\u5f15\u200b(\u200b\u65b0\u200b\u7248\u672c\u200b\u4e2d\u200b\u79fb\u9664\u200b\u6b64\u200b\u5c5e\u6027\u200b)","text":"<ul> <li>ix\u200b\u662f\u200b\u4ee5\u4e0a\u200b\u4e8c\u8005\u200b\u7684\u200b\u7efc\u5408\u200b\uff0c\u200b\u65e2\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u7d22\u5f15\u200b\u7f16\u53f7\u200b\uff0c\u200b\u53c8\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u81ea\u5b9a\u4e49\u200b\u7d22\u5f15\u200b\uff0c\u200b\u8981\u89c6\u200b\u60c5\u51b5\u200b\u4e0d\u540c\u200b\u6765\u200b\u4f7f\u7528\u200b\uff0c</li> <li>\u200b\u5982\u679c\u200b\u7d22\u5f15\u200b\u65e2\u6709\u200b\u6570\u5b57\u200b\u53c8\u200b\u6709\u200b\u82f1\u6587\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\u662f\u200b\u4e0d\u200b\u5efa\u8bae\u200b\u4f7f\u7528\u200b\u7684\u200b\uff0c\u200b\u5bb9\u6613\u200b\u5bfc\u81f4\u200b\u5b9a\u4f4d\u200b\u7684\u200b\u6df7\u4e71\u200b\u3002 <pre><code>In [28]: ser5.ix['a':'c']\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\nInput In [28], in &lt;cell line: 1&gt;()\n----&gt; 1 ser5.ix['a':'c']\n\nFile /usr/local/Caskroom/miniforge/base/lib/python3.9/site-packages/pandas/core/generic.py:5907, in NDFrame.__getattr__(self, name)\n   5900 if (\n   5901     name not in self._internal_names_set\n   5902     and name not in self._metadata\n   5903     and name not in self._accessors\n   5904     and self._info_axis._can_hold_identifiers_and_holds_name(name)\n   5905 ):\n   5906     return self[name]\n-&gt; 5907 return object.__getattribute__(self, name)\n\nAttributeError: 'Series' object has no attribute 'ix'\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_10","title":"\u5bf9\u9f50\u200b\u8fd0\u7b97","text":"<p>\u200b\u662f\u200b\u6570\u636e\u200b\u6e05\u6d17\u200b\u7684\u200b\u91cd\u8981\u200b\u8fc7\u7a0b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6309\u200b\u7d22\u5f15\u200b\u5bf9\u9f50\u200b\u8fdb\u884c\u200b\u8fd0\u7b97\u200b\uff0c\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u5bf9\u9f50\u200b\u4f4d\u7f6e\u200b\u5219\u200b\u8865\u200bNaN</p> <ul> <li> <p>Series \u200b\u6309\u884c\u200b\u3001\u200b\u7d22\u5f15\u200b\u5bf9\u9f50\u200b <pre><code>In [3]: s1 = pd.Series(range(10,20), index=range(10))\n\nIn [5]: s1\nOut[5]:\n0    10\n1    11\n2    12\n3    13\n4    14\n5    15\n6    16\n7    17\n8    18\n9    19\ndtype: int64\n\nIn [6]: s2 = pd.Series(range(20,25), index=range(5))\n\nIn [7]: s2\nOut[7]:\n0    20\n1    21\n2    22\n3    23\n4    24\ndtype: int64\n\nIn [8]: s1 + s2\nOut[8]:\n0    30.0\n1    32.0\n2    34.0\n3    36.0\n4    38.0\n5     NaN\n6     NaN\n7     NaN\n8     NaN\n9     NaN\ndtype: float64\n</code></pre></p> </li> <li> <p>\u200b\u586b\u5145\u200b\u672a\u200b\u5bf9\u9f50\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u8fd0\u7b97\u200b</p> </li> <li>fill_value<ul> <li>\u200b\u4f7f\u7528\u200badd\u3001sub\u3001div\u3001mul \u200b\u7684\u200b\u540c\u65f6\u200b\uff0c\u200b\u901a\u8fc7\u200bfill_value\u200b\u6307\u5b9a\u200b\u586b\u5145\u200b\u503c\u200b\uff0c\u200b\u672a\u200b\u5bf9\u9f50\u200b\u7684\u200b\u6570\u636e\u200b\u5c06\u200b\u548c\u200b\u586b\u5145\u200b\u503c\u200b\u505a\u200b\u8fd0\u7b97\u200b <pre><code>In [27]: s1.add(s2, fill_value=5)\nOut[27]:\n0    30.0\n1    32.0\n2    34.0\n3    36.0\n4    38.0\n5    20.0\n6    21.0\n7    22.0\n8    23.0\n9    24.0\ndtype: float64\n\nIn [28]: s1.add(s2, fill_value=-2)\nOut[28]:\n0    30.0\n1    32.0\n2    34.0\n3    36.0\n4    38.0\n5    13.0\n6    14.0\n7    15.0\n8    16.0\n9    17.0\ndtype: float64\n</code></pre></li> </ul> </li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#tolist","title":"tolist()\u200b\u65b9\u6cd5","text":"<pre><code>In [35]: ser4 = pd.Series([1,2,4,1,4,3,2])\n\nIn [36]: ser4.tolist()\nOut[36]: [1, 2, 4, 1, 4, 3, 2]\n\nIn [37]: ser4.to_list()\nOut[37]: [1, 2, 4, 1, 4, 3, 2]\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#unique","title":"unique()\u200b\u65b9\u6cd5","text":"<pre><code>In [38]: ser4.unique()\nOut[38]: array([1, 2, 4, 3])\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_11","title":"\u5176\u4ed6\u200b\u65b9\u6cd5","text":"<pre><code>n [39]: ser4.unique()\n  abs()                   convert_dtypes()        first()                 last()\n  add()                   copy()                  first_valid_index()     last_valid_index()\n  add_prefix()            corr()                  flags                   le()\n  add_suffix()            count()                 floordiv()              loc\n  agg()                   cov()                   ge()                    lt()\n  aggregate()             cummax()                get()                   mad()\n  align()                 cummin()                groupby()               map()\n  all()                   cumprod()               gt()                    mask()\n  any()                   cumsum()                hasnans                 max()\n  append()                describe()              head()                  mean()\n  apply()                 diff()                  hist()                  median()\n  argmax()                div()                   iat                     memory_usage()\n  argmin()                divide()                idxmax()                min()\n  argsort()               divmod()                idxmin()                mod()\n  array                   dot()                   iloc                    mode()\n  asfreq()                drop()                  index                   mul()\n  asof()                  drop_duplicates()       infer_objects()         multiply()              &gt;\n  astype()                droplevel()             info()                  name\n  at                      dropna()                interpolate()           nbytes\n  at_time()               dtype                   is_monotonic            ndim\n  attrs                   dtypes                  is_monotonic_decreasing ne()\n  autocorr()              duplicated()            is_monotonic_increasing nlargest()\n  axes                    empty                   is_unique               notna()\n  backfill()              eq()                    isin()                  notnull()\n  between()               equals()                isna()                  nsmallest()\n  between_time()          ewm()                   isnull()                nunique()\n  bfill()                 expanding()             item()                  pad()\n  bool()                  explode()               items()                 pct_change()\n  clip()                  factorize()             iteritems()             pipe()\n  combine()               ffill()                 keys()                  plot\n  combine_first()         fillna()                kurt()                  pop()\n  compare()               filter()                kurtosis()              pow()\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#dataframe_1","title":"DataFrame\u200b\u7684\u200b\u57fa\u672c\u200b\u7528\u6cd5","text":"<pre><code>import pandas as pd\nimport numpy as np\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_12","title":"\u521b\u5efa","text":"<pre><code># \u200b\u65b9\u5f0f\u200b\u4e00\u200b\uff1a\u200b\u901a\u8fc7\u200bndarray\u200b\u521b\u5efa\u200b\nIn [3]: array = np.random.randn(5, 4)\n\nIn [4]: array\nOut[4]:\narray([[ 0.92360777, -0.40278525, -0.66873708,  1.80493655],\n       [-2.35582906,  0.18222298, -0.54358948,  0.10477355],\n       [-0.01014204, -0.29127566,  0.53816636, -0.39215923],\n       [ 2.02733253, -0.79347232, -0.39637719,  0.98461896],\n       [ 0.61317253, -1.95664987,  0.99766931, -0.43095178]])\n\nIn [5]: df1 = pd.DataFrame(array)\n\nIn [6]: df1\nOut[6]:\n          0         1         2         3\n0  0.923608 -0.402785 -0.668737  1.804937\n1 -2.355829  0.182223 -0.543589  0.104774\n2 -0.010142 -0.291276  0.538166 -0.392159\n3  2.027333 -0.793472 -0.396377  0.984619\n4  0.613173 -1.956650  0.997669 -0.430952\n\n\n# \u200b\u65b9\u5f0f\u200b\u4e8c\u200b\uff1a\u200b\u901a\u8fc7\u200bdict\u200b\u521b\u5efa\u200b\nIn [7]: dict_data = {'A': 1,\n   ...:              'B': pd.Timestamp('20221109'),\n   ...:              'C': pd.Series(1, index=list(range(4)),dtype='float32'),\n   ...:              'D': np.array([3] * 4,dtype='int32'),\n   ...:              'E': [\"Python\",\"Go\",\"C++\",\"C\"],\n   ...:              'F': 'sswang' }\n\nIn [8]: dict_data\nOut[8]:\n{'A': 1,\n 'B': Timestamp('2022-11-09 00:00:00'),\n 'C': 0    1.0\n 1    1.0\n 2    1.0\n 3    1.0\n dtype: float32,\n 'D': array([3, 3, 3, 3], dtype=int32),\n 'E': ['Python', 'Go', 'C++', 'C'],\n 'F': 'sswang'}\n\nIn [9]: df2 = pd.DataFrame(dict_data)\n\nIn [10]: df2\nOut[10]:\n   A          B    C  D       E       F\n0  1 2022-11-09  1.0  3  Python  sswang\n1  1 2022-11-09  1.0  3      Go  sswang\n2  1 2022-11-09  1.0  3     C++  sswang\n3  1 2022-11-09  1.0  3       C  sswang\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_13","title":"\u901a\u8fc7\u200b\u7d22\u5f15\u200b\u83b7\u53d6\u200b\u5217\u200b\u6570\u636e","text":"<p>Series\u200b\u7c7b\u578b\u200b</p> <ul> <li>df[col_idx] \u200b\u6216\u200b df.col_idx <pre><code>In [10]: df2\nOut[10]:\n   A          B    C  D       E       F\n0  1 2022-11-09  1.0  3  Python  sswang\n1  1 2022-11-09  1.0  3      Go  sswang\n2  1 2022-11-09  1.0  3     C++  sswang\n3  1 2022-11-09  1.0  3       C  sswang\n\nIn [11]: df2['A']\nOut[11]:\n0    1\n1    1\n2    1\n3    1\nName: A, dtype: int64\n\nIn [12]: df2['E']\nOut[12]:\n0    Python\n1        Go\n2       C++\n3         C\nName: E, dtype: object\n\nIn [13]: df2.B\nOut[13]:\n0   2022-11-09\n1   2022-11-09\n2   2022-11-09\n3   2022-11-09\nName: B, dtype: datetime64[ns]\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_14","title":"\u589e\u52a0\u200b\u5217\u200b\u6570\u636e","text":"<ul> <li>df[new_col_idx] = data</li> <li>\u200b\u7c7b\u4f3c\u200b\u4e8e\u200bdict\u200b\u7684\u200b\u589e\u52a0\u200bkey-value <pre><code>In [14]: df2['H'] = df2['D'] + 5\n\nIn [15]: df2\nOut[15]:\n   A          B    C  D       E       F  H\n0  1 2022-11-09  1.0  3  Python  sswang  8\n1  1 2022-11-09  1.0  3      Go  sswang  8\n2  1 2022-11-09  1.0  3     C++  sswang  8\n3  1 2022-11-09  1.0  3       C  sswang  8\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_15","title":"\u5220\u9664\u200b\u5217","text":"<ul> <li>del df[col_idx] <pre><code>In [15]: df2\nOut[15]:\n   A          B    C  D       E       F  H\n0  1 2022-11-09  1.0  3  Python  sswang  8\n1  1 2022-11-09  1.0  3      Go  sswang  8\n2  1 2022-11-09  1.0  3     C++  sswang  8\n3  1 2022-11-09  1.0  3       C  sswang  8\n\nIn [16]: del(df2['H'])\n\nIn [17]: df2\nOut[17]:\n   A          B    C  D       E       F\n0  1 2022-11-09  1.0  3  Python  sswang\n1  1 2022-11-09  1.0  3      Go  sswang\n2  1 2022-11-09  1.0  3     C++  sswang\n3  1 2022-11-09  1.0  3       C  sswang\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_16","title":"\u7d22\u5f15\u200b\u64cd\u4f5c","text":"<ul> <li> <p>columns\u200b\u6307\u5b9a\u200b\u5217\u200b\u7d22\u5f15\u200b\u540d\u200b <pre><code>In [19]: pd.DataFrame(np.random.randn(5,4), columns=['A','B','C','D'])\nOut[19]:\n          A         B         C         D\n0  0.901589 -0.973230  0.257040 -0.518793\n1  0.247386  1.722486  0.227000 -0.233353\n2  1.219715 -1.395651  0.899632  1.013356\n3 -0.083246  1.924391 -0.251804 -0.995503\n4  0.782573 -1.076885 -0.014058 -0.197052\n</code></pre></p> </li> <li> <p>\u200b\u5217\u200b\u7d22\u5f15\u200b</p> </li> <li> <p>df[['label']] <pre><code>In [24]: df3\nOut[24]:\n          A         B         C         D\n0  1.123462  1.105408  0.039270 -0.424612\n1 -1.451999  0.002271 -0.449790 -0.840314\n2 -1.323392 -1.312659 -0.477671 -0.475040\n3  0.852456 -0.725810  0.343415 -0.888764\n4 -0.634588  0.214208 -0.363505 -0.890744\n\nIn [25]: df3['A']\nOut[25]:\n0    1.123462\n1   -1.451999\n2   -1.323392\n3    0.852456\n4   -0.634588\nName: A, dtype: float64\n\nIn [28]: df3[['A']]\nOut[28]:\n          A\n0  1.123462\n1 -1.451999\n2 -1.323392\n3  0.852456\n4 -0.634588\n</code></pre></p> </li> <li> <p>\u200b\u4e0d\u200b\u8fde\u7eed\u200b\u7d22\u5f15\u200b</p> </li> <li>df[['label1','label2']] <pre><code>In [32]: df3 = pd.DataFrame(np.random.randn(5,4), columns=['A','B','C','D'])\n\nIn [33]: df3\nOut[33]:\n          A         B         C         D\n0  0.467779 -0.447015 -0.610554  0.718384\n1  0.680987  1.542523  0.828433  1.221965\n2  0.154291 -0.015539  0.234407 -1.376114\n3  2.084046  0.200158 -0.136955  1.275513\n4  0.779262 -0.220597 -2.309179  0.470001\n\nIn [34]: df3[['A','C']]\nOut[34]:\n          A         C\n0  0.467779 -0.610554\n1  0.680987  0.828433\n2  0.154291  0.234407\n3  2.084046 -0.136955\n4  0.779262 -2.309179\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_17","title":"\u9ad8\u7ea7\u200b\u7d22\u5f15","text":"","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#loc_1","title":"loc\u200b\u6807\u7b7e\u200b\u7d22\u5f15","text":"<ul> <li>DataFrame\u200b\u4e0d\u80fd\u200b\u76f4\u63a5\u200b\u5207\u7247\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200bloc\u200b\u6765\u200b\u505a\u200b\u5207\u7247\u200b</li> <li>loc\u200b\u662f\u200b\u57fa\u4e8e\u200b\u6807\u7b7e\u200b\u540d\u200b\u7d22\u5f15\u200b <pre><code>In [11]: df3 = pd.DataFrame(np.random.randn(5,4), columns=['A','B','C','D'])\n\nIn [12]: df3\nOut[12]:\n          A         B         C         D\n0 -0.705794  0.491632  0.460443 -0.217467\n1 -2.118379  0.839388  2.345748 -0.287588\n2 -2.052069 -0.389537 -0.531405 -0.580226\n3  1.368354 -0.104560  0.416091  2.155097\n4  1.499490 -0.189129  1.554696 -0.544609\n\nIn [13]: df3['A']\nOut[13]:\n0   -0.705794\n1   -2.118379\n2   -2.052069\n3    1.368354\n4    1.499490\nName: A, dtype: float64\n\nIn [14]: df3.loc[0:2, 'A']\nOut[14]:\n0   -0.705794\n1   -2.118379\n2   -2.052069\nName: A, dtype: float64\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#iloc_1","title":"iloc\u200b\u4f4d\u7f6e\u200b\u7d22\u5f15","text":"<ul> <li>\u200b\u57fa\u4e8e\u200b\u7d22\u5f15\u200b\u7f16\u53f7\u200b\u6765\u200b\u7d22\u5f15\u200b <pre><code>In [19]: df4 = pd.DataFrame(np.random.randn(5,4), columns=['A','B','C','D'])\n\nIn [20]: df4\nOut[20]:\n          A         B         C         D\n0  0.663622  0.157452 -0.789668  0.024412\n1 -0.468456  0.078273 -0.440615 -0.604088\n2  1.269526  0.430453  0.524557 -1.735621\n3 -0.242327  1.308116 -0.266340  0.795823\n4  1.806010 -0.328351 -0.622317  0.736839\n\nIn [21]: df4.iloc[0:3, 0]\nOut[21]:\n0    0.663622\n1   -0.468456\n2    1.269526\nName: A, dtype: float64\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#ix_1","title":"ix\u200b\u6807\u7b7e\u200b\u4e0e\u200b\u4f4d\u7f6e\u200b\u6df7\u5408\u200b\u7d22\u5f15\u200b(\u200b\u65b0\u200b\u7248\u672c\u200b\u4e2d\u200b\u79fb\u9664\u200b\u6b64\u200b\u5c5e\u6027\u200b)","text":"<ul> <li>ix\u200b\u662f\u200b\u4ee5\u4e0a\u200b\u4e8c\u8005\u200b\u7684\u200b\u7efc\u5408\u200b\uff0c\u200b\u65e2\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u7d22\u5f15\u200b\u7f16\u53f7\u200b\uff0c\u200b\u53c8\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u81ea\u5b9a\u4e49\u200b\u7d22\u5f15\u200b\uff0c\u200b\u8981\u89c6\u200b\u60c5\u51b5\u200b\u4e0d\u540c\u200b\u6765\u200b\u4f7f\u7528\u200b\uff0c</li> <li>\u200b\u5982\u679c\u200b\u7d22\u5f15\u200b\u65e2\u6709\u200b\u6570\u5b57\u200b\u53c8\u200b\u6709\u200b\u82f1\u6587\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\u662f\u200b\u4e0d\u200b\u5efa\u8bae\u200b\u4f7f\u7528\u200b\u7684\u200b\uff0c\u200b\u5bb9\u6613\u200b\u5bfc\u81f4\u200b\u5b9a\u4f4d\u200b\u7684\u200b\u6df7\u4e71\u200b\u3002 <pre><code>In [29]: df4\nOut[29]:\n          A         B         C         D\n0  0.663622  0.157452 -0.789668  0.024412\n1 -0.468456  0.078273 -0.440615 -0.604088\n2  1.269526  0.430453  0.524557 -1.735621\n3 -0.242327  1.308116 -0.266340  0.795823\n4  1.806010 -0.328351 -0.622317  0.736839\n\nIn [30]: df4.ix[0:3, 'A']\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\nInput In [30], in &lt;cell line: 1&gt;()\n----&gt; 1 df4.ix[0:3, 'A']\n\nFile /usr/local/Caskroom/miniforge/base/lib/python3.9/site-packages/pandas/core/generic.py:5907, in NDFrame.__getattr__(self, name)\n   5900 if (\n   5901     name not in self._internal_names_set\n   5902     and name not in self._metadata\n   5903     and name not in self._accessors\n   5904     and self._info_axis._can_hold_identifiers_and_holds_name(name)\n   5905 ):\n   5906     return self[name]\n-&gt; 5907 return object.__getattribute__(self, name)\n\nAttributeError: 'DataFrame' object has no attribute 'ix'\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_18","title":"\u5bf9\u9f50\u200b\u8fd0\u7b97","text":"<p>\u200b\u662f\u200b\u6570\u636e\u200b\u6e05\u6d17\u200b\u7684\u200b\u91cd\u8981\u200b\u8fc7\u7a0b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6309\u200b\u7d22\u5f15\u200b\u5bf9\u9f50\u200b\u8fdb\u884c\u200b\u8fd0\u7b97\u200b\uff0c\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u5bf9\u9f50\u200b\u4f4d\u7f6e\u200b\u5219\u200b\u8865\u200bNaN</p> <ul> <li> <p>DataFrame\u200b\u6309\u884c\u200b\u3001\u200b\u5217\u200b\u7d22\u5f15\u200b\u5bf9\u9f50\u200b <pre><code>In [9]: df1 = pd.DataFrame(np.ones((2,2)), columns=['a', 'b'])\n\nIn [10]: df1\nOut[10]:\n     a    b\n0  1.0  1.0\n1  1.0  1.0\n\nIn [11]: df2 = pd.DataFrame(np.ones((3,3)), columns=['a', 'b','c'])\n\nIn [12]: df2\nOut[12]:\n     a    b    c\n0  1.0  1.0  1.0\n1  1.0  1.0  1.0\n2  1.0  1.0  1.0\n\nIn [13]: df1 + df2\nOut[13]:\n     a    b   c\n0  2.0  2.0 NaN\n1  2.0  2.0 NaN\n2  NaN  NaN NaN\n</code></pre></p> </li> <li> <p>\u200b\u586b\u5145\u200b\u672a\u200b\u5bf9\u9f50\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u8fd0\u7b97\u200b</p> </li> <li>fill_value<ul> <li>\u200b\u4f7f\u7528\u200badd\u3001sub\u3001div\u3001mul \u200b\u7684\u200b\u540c\u65f6\u200b\uff0c\u200b\u901a\u8fc7\u200bfill_value\u200b\u6307\u5b9a\u200b\u586b\u5145\u200b\u503c\u200b\uff0c\u200b\u672a\u200b\u5bf9\u9f50\u200b\u7684\u200b\u6570\u636e\u200b\u5c06\u200b\u548c\u200b\u586b\u5145\u200b\u503c\u200b\u505a\u200b\u8fd0\u7b97\u200b <pre><code>In [19]: df1.sub(df2, fill_value=5.)\nOut[19]:\n     a    b    c\n0  0.0  0.0  4.0\n1  0.0  0.0  4.0\n2  4.0  4.0  4.0\n\nIn [21]: df1.sub(df2, fill_value=3)\nOut[21]:\n     a    b    c\n0  0.0  0.0  2.0\n1  0.0  0.0  2.0\n2  2.0  2.0  2.0\n\nIn [22]: df1.add(df2, fill_value=5)\nOut[22]:\n     a    b    c\n0  2.0  2.0  6.0\n1  2.0  2.0  6.0\n2  6.0  6.0  6.0\n</code></pre></li> </ul> </li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#pandas_4","title":"Pandas\u200b\u7684\u200b\u51fd\u6570\u200b\u5e94\u7528","text":"","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#numpy","title":"\u4f7f\u7528\u200bnumpy\u200b\u51fd\u6570","text":"<pre><code>In [3]: df = pd.DataFrame(np.random.randn(5,4) -1)\n\nIn [4]: df\nOut[4]:\n          0         1         2         3\n0  0.190219 -0.548120 -1.059652  0.480065\n1 -1.514674 -1.404162  0.373566 -0.930732\n2 -1.277141 -1.426694 -1.560795 -0.486730\n3 -0.868642 -1.076728 -1.100897 -0.389249\n4 -0.712614 -2.140464 -2.005097 -0.588321\n\nIn [5]: np.abs(df)\nOut[5]:\n          0         1         2         3\n0  0.190219  0.548120  1.059652  0.480065\n1  1.514674  1.404162  0.373566  0.930732\n2  1.277141  1.426694  1.560795  0.486730\n3  0.868642  1.076728  1.100897  0.389249\n4  0.712614  2.140464  2.005097  0.588321\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#apply","title":"apply()","text":"<ul> <li>apply\u200b\u5c06\u200b\u51fd\u6570\u200b\u5e94\u7528\u200b\u5230\u5217\u200b\u6216\u8005\u200b\u884c\u4e0a\u200b</li> <li>\u200b\u9ed8\u8ba4\u200baxis=0, \u200b\u5217\u200b\u65b9\u5411\u200b <pre><code>In [6]: f = lambda x: x.max()\n\nIn [7]: df.apply(f)\nOut[7]:\n0    0.190219\n1   -0.548120\n2    0.373566\n3    0.480065\ndtype: float64\n\nIn [8]: df.apply(f, axis=1)\nOut[8]:\n0    0.480065\n1    0.373566\n2   -0.486730\n3   -0.389249\n4   -0.588321\ndtype: float64\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#applymap","title":"applymap()","text":"<ul> <li>applymap\u200b\u5c06\u200b\u51fd\u6570\u200b\u5e94\u7528\u200b\u5230\u200b\u6bcf\u4e2a\u200b\u6570\u636e\u200b\u4e0a\u200b <pre><code>In [9]: f2 = lambda x: '%.2f' % x\n\nIn [10]: df.applymap(f2)\nOut[10]:\n       0      1      2      3\n0   0.19  -0.55  -1.06   0.48\n1  -1.51  -1.40   0.37  -0.93\n2  -1.28  -1.43  -1.56  -0.49\n3  -0.87  -1.08  -1.10  -0.39\n4  -0.71  -2.14  -2.01  -0.59\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_19","title":"\u6392\u5e8f","text":"","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_20","title":"\u7d22\u5f15\u200b\u6392\u5e8f","text":"<ul> <li>sort_index()</li> <li>axis=0,\u200b\u6309\u884c\u200b\uff0caxis=1\u200b\u6309\u5217\u200b</li> <li> <p>\u200b\u6392\u5e8f\u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b\u5347\u5e8f\u200b\u6392\u5e8f\u200b\uff0cascending=False \u200b\u4e3a\u200b\u964d\u5e8f\u200b\u6392\u5e8f\u200b <pre><code>In [11]: s1 = pd.Series(range(10,15), index=np.random.randint(5, size=5))\n\nIn [12]: s1\nOut[12]:\n3    10\n4    11\n2    12\n4    13\n1    14\ndtype: int64\n\nIn [13]: s1.sort_index()\nOut[13]:\n1    14\n2    12\n3    10\n4    11\n4    13\ndtype: int64\n</code></pre></p> </li> <li> <p>DataFrame <pre><code># DataFrame\u200b\u6392\u5e8f\u200b\u6ce8\u610f\u200b\u8f74\u5411\u200b\nIn [16]: df1 = pd.DataFrame(np.random.randn(3,5),index=np.random.randint(3, size=3),columns=np.random\n    ...: .randint(5, size=5))\n\nIn [17]: df1\nOut[17]:\n          2         2         0         4         4\n0  0.891979 -0.640110 -0.402756 -0.377881  0.080344\n1  0.617798  0.574241 -0.026625 -0.547804  0.191055\n1 -0.227055  0.225085 -0.064116 -0.649598 -0.209348\n\nIn [18]: df1_isort = df1.sort_index(axis=1, ascending=False)\n\nIn [19]: df1_isort\nOut[19]:\n          4         4         2         2         0\n0 -0.377881  0.080344  0.891979 -0.640110 -0.402756\n1 -0.547804  0.191055  0.617798  0.574241 -0.026625\n1 -0.649598 -0.209348 -0.227055  0.225085 -0.064116\n</code></pre></p> </li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_21","title":"\u6309\u503c\u200b\u6392\u5e8f","text":"<ul> <li>sort_values(by=\"columns name\")</li> <li>\u200b\u6839\u636e\u200b\u67d0\u4e2a\u200b\u552f\u4e00\u200b\u7684\u200b\u5217\u540d\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\uff0c\u200b\u5982\u679c\u200b\u51fa\u73b0\u200b\u91cd\u590d\u200b\u7684\u200b\u5217\u540d\u200b\u5219\u200b\u62a5\u9519\u200b <pre><code>In [21]: df1_vsort = df1.sort_values(by=0, ascending=False)\n\nIn [22]: df1_vsort\nOut[22]:\n          2         2         0         4         4\n1  0.617798  0.574241 -0.026625 -0.547804  0.191055\n1 -0.227055  0.225085 -0.064116 -0.649598 -0.209348\n0  0.891979 -0.640110 -0.402756 -0.377881  0.080344\n\nIn [23]: df2_vsort = df1.sort_values(by=4, ascending=False)\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\nInput In [23], in &lt;cell line: 1&gt;()\n----&gt; 1 df2_vsort = df1.sort_values(by=4, ascending=False)\nValueError: The column label '4' is not unique.\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_22","title":"\u5904\u7406\u200b\u7f3a\u5931\u200b\u6570\u636e","text":"<pre><code>In [25]: df3 = pd.DataFrame([np.random.randn(3), [1., 2., np.nan], [np.nan, 4., np.nan], [1.,2.,3.]])\n    ...:\n\nIn [26]: df3\nOut[26]:\n          0         1         2\n0  0.722605  0.537739  0.340062\n1  1.000000  2.000000       NaN\n2       NaN  4.000000       NaN\n3  1.000000  2.000000  3.000000\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#isnull","title":"\u5224\u65ad\u200b\u662f\u5426\u200b\u5b58\u5728\u200b\u7f3a\u5931\u200b\u503c\u200bisnull()","text":"<pre><code>In [27]: df3.isnull()\nOut[27]:\n       0      1      2\n0  False  False  False\n1  False  False   True\n2   True  False   True\n3  False  False  False\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#dropna","title":"\u4e22\u5f03\u200b\u7f3a\u5931\u200b\u503c\u200bdropna()","text":"<pre><code>In [28]: df3.dropna()\nOut[28]:\n          0         1         2\n0  0.722605  0.537739  0.340062\n3  1.000000  2.000000  3.000000\n\nIn [29]: df3.dropna(axis=1)\nOut[29]:\n          1\n0  0.537739\n1  2.000000\n2  4.000000\n3  2.000000\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#fillna","title":"\u586b\u5145\u200b\u7f3a\u5931\u200b\u503c\u200b fillna()","text":"<pre><code>In [32]: df3.fillna(-100.)\nOut[32]:\n            0         1           2\n0   -0.735379  0.985099   -0.733799\n1    1.000000  2.000000 -100.000000\n2 -100.000000  4.000000 -100.000000\n3    1.000000  2.000000    3.000000\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_23","title":"\u7edf\u8ba1\u200b\u8ba1\u7b97","text":"<ul> <li>sum</li> <li>mean</li> <li>max</li> <li>min</li> <li>describe \u200b\u4ea7\u751f\u200b\u591a\u4e2a\u200b\u7edf\u8ba1\u6570\u636e\u200b <p>skipna \u200b\u6392\u9664\u200b\u7f3a\u5931\u200b\u503c\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200bTrue\uff0c axis=0,\u200b\u6309\u5217\u200b\u7edf\u8ba1\u200b\uff0caxis=1\u200b\u6309\u884c\u200b\u7edf\u8ba1\u200b</p> </li> </ul> <p> <pre><code>In [12]: df1 = pd.DataFrame(np.random.randn(5,4), columns=['a','b','c','d'])\n\nIn [13]: df1\nOut[13]:\n          a         b         c         d\n0 -1.052080 -0.307690 -0.359616 -0.412333\n1  0.501699 -1.184435 -1.156710 -0.496644\n2 -0.591768  0.922715  0.600647 -0.838571\n3  0.863097 -0.048983  1.110432 -0.059342\n4 -0.353466  1.057952  0.093335  0.528852\n\nIn [14]: df1.sum()\nOut[14]:\na   -0.632518\nb    0.439558\nc    0.288090\nd   -1.278038\ndtype: float64\n\nIn [15]: df1.sum(axis=1)\nOut[15]:\n0   -2.131719\n1   -2.336090\n2    0.093023\n3    1.865204\n4    1.326673\ndtype: float64\n\nIn [16]: df1.max(axis=1)\nOut[16]:\n0   -0.307690\n1    0.501699\n2    0.922715\n3    1.110432\n4    1.057952\ndtype: float64\n\nIn [17]: df1.max()\nOut[17]:\na    0.863097\nb    1.057952\nc    1.110432\nd    0.528852\ndtype: float64\n\nIn [18]: df1.describe()\nOut[18]:\n              a         b         c         d\ncount  5.000000  5.000000  5.000000  5.000000\nmean  -0.126504  0.087912  0.057618 -0.255608\nstd    0.790352  0.926280  0.873678  0.518750\nmin   -1.052080 -1.184435 -1.156710 -0.838571\n25%   -0.591768 -0.307690 -0.359616 -0.496644\n50%   -0.353466 -0.048983  0.093335 -0.412333\n75%    0.501699  0.922715  0.600647 -0.059342\nmax    0.863097  1.057952  1.110432  0.528852\n\nIn [19]: df1.var()\nOut[19]:\na    0.624656\nb    0.857995\nc    0.763313\nd    0.269101\ndtype: float64\n</code></pre></p>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_24","title":"\u5206\u7ec4\u200b\u4e0e\u200b\u805a\u5408","text":"<ul> <li>groupby:\u200b\u5206\u7ec4\u200b</li> <li>\u200b\u5bf9\u200b\u6570\u636e\u200b\u96c6\u200b\u8fdb\u884c\u200b\u5206\u7ec4\u200b\uff0c\u200b\u7136\u540e\u200b\u5bf9\u200b\u6bcf\u7ec4\u200b\u8fdb\u884c\u200b\u7edf\u8ba1\u5206\u6790\u200b</li> <li>SQL\u200b\u80fd\u591f\u200b\u5bf9\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u8fc7\u6ee4\u200b\uff0c\u200b\u5206\u7ec4\u200b\u805a\u5408\u200b</li> <li>pandas\u200b\u80fd\u200b\u5229\u7528\u200bgroupby\u200b\u8fdb\u884c\u200b\u66f4\u200b\u590d\u6742\u200b\u7684\u200b\u5206\u7ec4\u200b\u8fd0\u7b97\u200b<ul> <li>\u200b\u5206\u7ec4\u200b\u8fd0\u7b97\u200b\u8fc7\u7a0b\u200b\uff1asplit-&gt;apply-combine<ul> <li>\u200b\u62c6\u5206\u200b\uff1a\u200b\u8fdb\u884c\u200b\u5206\u7ec4\u200b\u7684\u200b\u6839\u636e\u200b</li> <li>\u200b\u5e94\u7528\u200b\uff1a\u200b\u6bcf\u4e2a\u200b\u5206\u7ec4\u200b\u8fd0\u884c\u200b\u7684\u200b\u8ba1\u7b97\u200b\u89c4\u5219\u200b</li> <li>\u200b\u5408\u5e76\u200b\uff0c\u200b\u628a\u200b\u6bcf\u4e2a\u200b\u5206\u7ec4\u200b\u7684\u200b\u8ba1\u7b97\u200b\u5408\u5e76\u200b\u8d77\u6765\u200b</li> </ul> </li> </ul> </li> </ul> <pre><code>In [1]: import pandas as pd\n\nIn [2]: import numpy as np\n\nIn [3]: dict_obj = {'key1' : ['a', 'b', 'a', 'b',\n   ...:                       'a', 'b', 'a', 'a'],\n   ...:             'key2' : ['one', 'one', 'two', 'three',\n   ...:                       'two', 'two', 'one', 'three'],\n   ...:             'data1': np.random.randn(8),\n   ...:             'data2': np.random.randn(8)}\n\nIn [4]: pd.DataFrame(dict_obj)\nOut[4]:\n  key1   key2     data1     data2\n0    a    one  0.584048  0.659140\n1    b    one  0.560518  0.694774\n2    a    two  1.278102 -0.698619\n3    b  three  0.507953 -1.096678\n4    a    two -0.425591 -1.575006\n5    b    two  1.125378  0.239921\n6    a    one  1.399763 -0.357698\n7    a  three -0.505960  0.850917\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#groupby","title":"GroupBy\u200b\u5bf9\u8c61","text":"<p>groupby()\u200b\u8fdb\u884c\u200b\u5206\u7ec4\u200b\uff0cGroupBy\u200b\u5bf9\u8c61\u200b\u6ca1\u6709\u200b\u8fdb\u884c\u200b\u5b9e\u9645\u200b\u8fd0\u7b97\u200b\uff0c\u200b\u53ea\u662f\u200b\u5305\u542b\u200b\u5206\u7ec4\u200b\u7684\u200b\u4e2d\u95f4\u200b\u6570\u636e\u200b \u200b\u6309\u200b\u5217\u540d\u200b\u5206\u7ec4\u200b\uff1aobj.groupby('label')</p> <ul> <li>DataFrameGroupBy</li> <li>SeriesGroupBy <pre><code>In [5]: df = pd.DataFrame(dict_obj)\n\nIn [6]: df\nOut[6]:\n  key1   key2     data1     data2\n0    a    one  0.584048  0.659140\n1    b    one  0.560518  0.694774\n2    a    two  1.278102 -0.698619\n3    b  three  0.507953 -1.096678\n4    a    two -0.425591 -1.575006\n5    b    two  1.125378  0.239921\n6    a    one  1.399763 -0.357698\n7    a  three -0.505960  0.850917\n\nIn [7]: g1 = df.groupby('key1')\n\nIn [8]: g1\nOut[8]: &lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x10bc33c40&gt;\n\nIn [9]: g2 = df['data1'].groupby(df['key1'])\n\nIn [10]: g2\nOut[10]: &lt;pandas.core.groupby.generic.SeriesGroupBy object at 0x10ba21880&gt;\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_25","title":"\u5206\u7ec4\u200b\u8fd0\u7b97","text":"<ul> <li>\u200b\u5bf9\u200bGroupBy\u200b\u5bf9\u8c61\u200b\u8fdb\u884c\u200b\u5206\u7ec4\u200b\u8fd0\u7b97\u200b\u3001\u200b\u591a\u91cd\u200b\u5206\u7ec4\u200b\u8fd0\u7b97\u200b\uff0c\u200b\u5982\u200bmean()</li> <li>\u200b\u975e\u200b\u6570\u503c\u200b\u4e0d\u200b\u8fdb\u884c\u200b\u5206\u7ec4\u200b\u8fd0\u7b97\u200b</li> <li>size()\u200b\u8fd4\u56de\u200b\u6bcf\u4e2a\u200b\u5206\u7ec4\u200b\u5143\u7d20\u200b\u7684\u200b\u4e2a\u6570\u200b <pre><code>In [11]: g1.mean()\n&lt;ipython-input-11-71b5d8821406&gt;:1: FutureWarning: The default value of numeric_only in DataFrameGroupBy.mean is deprecated. In a future version, numeric_only will default to False. Either specify numeric_only or select only columns which should be valid for the function.\n  g1.mean()\nOut[11]:\n         data1     data2\nkey1\na     0.466072 -0.224253\nb     0.731283 -0.053994\n\nIn [12]: g2.mean()\nOut[12]:\nkey1\na    0.466072\nb    0.731283\nName: data1, dtype: float64\n\nIn [13]: g1.size()\nOut[13]:\nkey1\na    5\nb    3\ndtype: int64\n\nIn [14]: g2.size()\nOut[14]:\nkey1\na    5\nb    3\nName: data1, dtype: int64\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#key","title":"\u6309\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200bkey\u200b\u5206\u7ec4","text":"<ul> <li>\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200bkey\u200b\u53ef\u4ee5\u200b\u662f\u200b\u5217\u8868\u200b\u6216\u200b\u591a\u5c42\u200b\u5217\u8868\u200b</li> <li>obj.groupby(self_def_key)</li> <li>obj.groupby(['label1', 'label2'])  -&gt;\u200b\u591a\u5c42\u200bDataFrame <pre><code>In [15]: self_def_key = [0, 1, 2, 3, 3, 4, 5, 7]  # \u200b\u81ea\u5b9a\u4e49\u200bkey\u200b\u5217\u8868\u200b\n\nIn [16]: df.groupby(self_def_key)\nOut[16]: &lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x10bc57e50&gt;\n\nIn [17]: custome_group = df.groupby(self_def_key)\n\nIn [18]: custome_group.size()\nOut[18]:\n0    1\n1    1\n2    1\n3    2\n4    1\n5    1\n7    1\ndtype: int64\n\nIn [19]: custome_group\nOut[19]: &lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x10bc33b50&gt;\n\nIn [20]: custom_gourp2 = df.groupby([df['key1'],df['key2']])  # \u200b\u6309\u200b\u81ea\u5b9a\u4e49\u200bkey\u200b\u5206\u7ec4\u200b\uff0c\u200b\u591a\u5c42\u200b\u5217\u8868\u200b\n\nIn [21]: custom_gourp2.size()\nOut[21]:\nkey1  key2\na     one      2\n      three    1\n      two      2\nb     one      1\n      three    1\n      two      1\ndtype: int64\n\nIn [22]: custom_gourp3 = df.groupby(['key1', 'key2'])  # \u200b\u6309\u200b\u591a\u4e2a\u200b\u5217\u200b\u591a\u5c42\u200b\u5206\u7ec4\u200b\n\nIn [23]: custom_gourp3.size()\nOut[23]:\nkey1  key2\na     one      2\n      three    1\n      two      2\nb     one      1\n      three    1\n      two      1\ndtype: int64\n\nIn [24]: custom_gourp3.mean()  # \u200b\u591a\u5c42\u200b\u5206\u7ec4\u200b\u6309\u200bkey\u200b\u7684\u200b\u987a\u5e8f\u200b\u8fdb\u884c\u200b\nOut[24]:\n               data1     data2\nkey1 key2\na    one    0.991905  0.150721\n     three -0.505960  0.850917\n     two    0.426256 -1.136813\nb    one    0.560518  0.694774\n     three  0.507953 -1.096678\n     two    1.125378  0.239921\n\nIn [25]: custom_gourp3.mean().unstack()  # unstack\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u591a\u5c42\u200b\u7d22\u5f15\u200b\u7684\u200b\u7ed3\u679c\u200b\u8f6c\u6362\u6210\u200b\u5355\u5c42\u200b\u7684\u200bDataFrame\nOut[25]:\n         data1                         data2\nkey2       one     three       two       one     three       two\nkey1\na     0.991905 -0.505960  0.426256  0.150721  0.850917 -1.136813\nb     0.560518  0.507953  1.125378  0.694774 -1.096678  0.239921\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#groupby_1","title":"GroupBy\u200b\u5bf9\u8c61\u200b\u7684\u200b\u8fed\u4ee3\u200b\u64cd\u4f5c","text":"<ul> <li>\u200b\u6bcf\u6b21\u200b\u8fed\u4ee3\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u5143\u7ec4\u200b\uff08group_name, group_data\uff09</li> <li> <p>\u200b\u53ef\u200b\u7528\u4e8e\u200b\u5206\u7ec4\u200b\u6570\u636e\u200b\u7684\u200b\u5177\u4f53\u200b\u8ba1\u7b97\u200b</p> </li> <li> <p>\u200b\u5355\u5c42\u200b\u5206\u7ec4\u200b <pre><code># \u200b\u5355\u5c42\u200b\u5206\u7ec4\u200b\uff0c\u200b\u6839\u636e\u200bkey1\nfor group_name, group_data in groupd1:\n    print(group_name)\n    print(group_data)\n</code></pre></p> </li> <li> <p>\u200b\u591a\u5c42\u200b\u5206\u7ec4\u200b <pre><code># \u200b\u591a\u5c42\u200b\u5206\u7ec4\u200b\uff0c\u200b\u6839\u636e\u200bkey1 \u200b\u548c\u200b key2\nfor group_name, group_data in groupd2:\n    print(group_name)\n    print(group_data)\n</code></pre> <pre><code>In [27]: dict_obj = {'key1' : ['a', 'b', 'a', 'b',\n    ...:                       'a', 'b', 'a', 'a'],\n    ...:             'key2' : ['one', 'one', 'two', 'three',\n    ...:                       'two', 'two', 'one', 'three'],\n    ...:             'data1': np.random.randn(8),\n    ...:             'data2': np.random.randn(8)}\n\nIn [28]: df = pd.DataFrame(dict_obj)\n\nIn [29]: df\nOut[29]:\n  key1   key2     data1     data2\n0    a    one -0.547337  0.723809\n1    b    one  0.143368 -1.455575\n2    a    two  1.400180  0.091538\n3    b  three -0.827495 -1.104382\n4    a    two  0.991163  0.135557\n5    b    two -0.003753 -0.834571\n6    a    one -0.719334 -1.852736\n7    a  three  0.107079 -0.110314\n\nIn [30]: gd1 = df.groupby('key1')\n\nIn [31]: for gname, gdata in gd1:\n    ...:     print(gname)\n    ...:     print(gdata)\n    ...:\na\n  key1   key2     data1     data2\n0    a    one -0.547337  0.723809\n2    a    two  1.400180  0.091538\n4    a    two  0.991163  0.135557\n6    a    one -0.719334 -1.852736\n7    a  three  0.107079 -0.110314\nb\n  key1   key2     data1     data2\n1    b    one  0.143368 -1.455575\n3    b  three -0.827495 -1.104382\n5    b    two -0.003753 -0.834571\n\nIn [36]: gd2 = df.groupby(['key1','key2'])\n\nIn [37]: gd2\nOut[37]: &lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x1222883a0&gt;\n\nIn [38]: for gname, gdata in gd2:\n    ...:     print(gname)\n    ...:     print(gdata)\n    ...:\n('a', 'one')\n  key1 key2     data1     data2\n0    a  one -0.547337  0.723809\n6    a  one -0.719334 -1.852736\n('a', 'three')\n  key1   key2     data1     data2\n7    a  three  0.107079 -0.110314\n('a', 'two')\n  key1 key2     data1     data2\n2    a  two  1.400180  0.091538\n4    a  two  0.991163  0.135557\n('b', 'one')\n  key1 key2     data1     data2\n1    b  one  0.143368 -1.455575\n('b', 'three')\n  key1   key2     data1     data2\n3    b  three -0.827495 -1.104382\n('b', 'two')\n  key1 key2     data1     data2\n5    b  two -0.003753 -0.834571\n</code></pre> GroupBy\u200b\u5bf9\u8c61\u200b\u8f6c\u6362\u6210\u200b\u5217\u8868\u200b\u6216\u200b\u5b57\u5178\u200b <pre><code># GroupBy\u200b\u5bf9\u8c61\u200b\u8f6c\u6362\u200blist\nlist(groupd1)\n\n# GroupBy\u200b\u5bf9\u8c61\u200b\u8f6c\u6362\u200bdict\ndict(list(groupd1))\n</code></pre> <pre><code>In [39]: list(gd1)\nOut[39]:\n[('a',\n    key1   key2     data1     data2\n  0    a    one -0.547337  0.723809\n  2    a    two  1.400180  0.091538\n  4    a    two  0.991163  0.135557\n  6    a    one -0.719334 -1.852736\n  7    a  three  0.107079 -0.110314),\n ('b',\n    key1   key2     data1     data2\n  1    b    one  0.143368 -1.455575\n  3    b  three -0.827495 -1.104382\n  5    b    two -0.003753 -0.834571)]\n\n\nIn [41]: dict(list(gd1))\nOut[41]:\n{'a':   key1   key2     data1     data2\n 0    a    one -0.547337  0.723809\n 2    a    two  1.400180  0.091538\n 4    a    two  0.991163  0.135557\n 6    a    one -0.719334 -1.852736\n 7    a  three  0.107079 -0.110314,\n 'b':   key1   key2     data1     data2\n 1    b    one  0.143368 -1.455575\n 3    b  three -0.827495 -1.104382\n 5    b    two -0.003753 -0.834571}\n</code></pre></p> </li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_26","title":"\u6309\u5217\u200b\u5206\u7ec4\u200b\u3001\u200b\u6309\u200b\u6570\u636e\u7c7b\u578b\u200b\u5206\u7ec4","text":"<pre><code>In [42]: df.dtypes   # \u200b\u6309\u5217\u200b\u5206\u7ec4\u200b\nOut[42]:\nkey1      object\nkey2      object\ndata1    float64\ndata2    float64\ndtype: object\n\nIn [43]: df.groupby(df.dtypes, axis=1).size()  # \u200b\u6309\u200b\u6570\u636e\u7c7b\u578b\u200b\u5206\u7ec4\u200b\nOut[43]:\n   float64  object\n0        2       2\n1        2       2\n2        2       2\n3        2       2\n4        2       2\n5        2       2\n6        2       2\n7        2       2\n\nIn [44]: df.groupby(df.dtypes, axis=1).sum()  # \u200b\u6309\u200b\u6570\u636e\u7c7b\u578b\u200b\u5206\u7ec4\u200b\nOut[44]:\n    float64  object\n0  0.176472    aone\n1 -1.312207    bone\n2  1.491718    atwo\n3 -1.931876  bthree\n4  1.126720    atwo\n5 -0.838324    btwo\n6 -2.572070    aone\n7 -0.003235  athree\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_27","title":"\u901a\u8fc7\u200b\u5b57\u5178\u200b\u5206\u7ec4","text":"<pre><code>In [52]: dict1 = {'a':'Python', 'b':'Python', 'c':'Go', 'd':'C', 'e':'Java'}\n\nIn [53]: df1.groupby(dict1, axis=1).size()\nOut[53]:\n   C  Go  Java  Python\nA  1   1     1       2\nB  1   1     1       2\nC  1   1     1       2\nD  1   1     1       2\nE  1   1     1       2\n\nIn [54]: df.groupby(dict1, axis=1).count()\nOut[54]:\nEmpty DataFrame\nColumns: []\nIndex: [0, 1, 2, 3, 4, 5, 6, 7]\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_28","title":"\u901a\u8fc7\u200b\u51fd\u6570\u200b\u5206\u7ec4\u200b\uff0c\u200b\u51fd\u6570\u200b\u4f20\u5165\u200b\u7684\u200b\u53c2\u6570\u200b\u4e3a\u884c\u200b\u7d22\u5f15\u200b\u6216\u5217\u200b\u7d22\u5f15","text":"<pre><code>In [57]: df3 = pd.DataFrame(np.random.randint(1, 10, (5,5)),\n    ...:                        columns=['a', 'b', 'c', 'd', 'e'],\n    ...:                        index=['AA', 'BBB', 'CC', 'D', 'EE'])\n\nIn [58]: df3\nOut[58]:\n     a  b  c  d  e\nAA   8  4  1  4  5\nBBB  2  5  6  9  1\nCC   1  2  1  4  1\nD    2  1  6  5  7\nEE   7  8  4  8  5\n\nIn [59]: def group_key(idx):  # idx\u200b\u672a\u5217\u200b \u200b\u7d22\u5f15\u200b\u6216\u884c\u200b\u7d22\u5f15\u200b\n    ...:     return len(idx)\n    ...:\n\nIn [60]: df3.groupby(group_key).size()\nOut[60]:\n1    1\n2    3\n3    1\ndtype: int64\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_29","title":"\u901a\u8fc7\u200b\u7d22\u5f15\u200b\u7ea7\u522b\u200b\u5206\u7ec4","text":"<pre><code>In [61]: columns = pd.MultiIndex.from_arrays([['Python', 'Java', 'Python', 'Java', 'Python'],\n    ...:                                      ['A', 'A', 'B', 'C', 'B']], names=['language', 'index'])\n    ...: df_obj4 = pd.DataFrame(np.random.randint(1, 10, (5, 5)), columns=columns)\n\nIn [62]: df_obj4\nOut[62]:\nlanguage Python Java Python Java Python\nindex         A    A      B    C      B\n0             3    2      8    6      7\n1             2    3      7    8      3\n2             2    6      5    6      2\n3             6    8      3    2      3\n4             7    1      4    1      6\n\nIn [63]: df_obj4.groupby(level='language', axis=1).sum()\nOut[63]:\nlanguage  Java  Python\n0            8      18\n1           11      12\n2           12       9\n3           10      12\n4            2      17\n\nIn [64]: df_obj4.groupby(level='index', axis=1).sum()\nOut[64]:\nindex   A   B  C\n0       5  15  6\n1       5  10  8\n2       8   7  6\n3      14   6  2\n4       8  10  1\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#aggregation","title":"\u805a\u5408\u200b\uff08aggregation\uff09","text":"<ul> <li>\u200b\u6570\u636e\u200b\u4ea7\u751f\u200b\u6807\u91cf\u200b\u7684\u200b\u8fc7\u7a0b\u200b\uff0c\u200b\u5982\u200bmean(),count()</li> <li> <p>\u200b\u5e38\u7528\u200b\u4e8e\u200b\u5bf9\u200b\u5206\u7ec4\u200b\u540e\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u8ba1\u7b97\u200b <pre><code>In [66]: dict1 = {'key1' : ['a', 'b', 'a', 'b',\n    ...:                       'a', 'b', 'a', 'a'],\n    ...:             'key2' : ['one', 'one', 'two', 'three',\n    ...:                       'two', 'two', 'one', 'three'],\n    ...:             'data1': np.random.randint(1,10, 8),\n    ...:             'data2': np.random.randint(1,10, 8)}\n\nIn [68]: df1 = pd.DataFrame(dict1)\n\nIn [69]: df1\nOut[69]:\n  key1   key2  data1  data2\n0    a    one      9      8\n1    b    one      7      2\n2    a    two      1      6\n3    b  three      2      5\n4    a    two      4      9\n5    b    two      5      7\n6    a    one      5      7\n7    a  three      2      2\n</code></pre> \u200b\u5185\u7f6e\u200b\u805a\u5408\u200b\u51fd\u6570\u200b</p> </li> <li> <p>sum()</p> </li> <li>mean()</li> <li>max()</li> <li>min()</li> <li>count()</li> <li>size()</li> <li>describe() <pre><code>In [69]: df1\nOut[69]:\n  key1   key2  data1  data2\n0    a    one      9      8\n1    b    one      7      2\n2    a    two      1      6\n3    b  three      2      5\n4    a    two      4      9\n5    b    two      5      7\n6    a    one      5      7\n7    a  three      2      2\n\nIn [70]: df1.groupby('key1').sum()\n&lt;ipython-input-70-5b0424c20cbd&gt;:1: FutureWarning: The default value of numeric_only in DataFrameGroupBy.sum is deprecated. In a future version, numeric_only will default to False. Either specify numeric_only or select only columns which should be valid for the function.\n  df1.groupby('key1').sum()\nOut[70]:\n      data1  data2\nkey1\na        21     32\nb        14     14\n\nIn [71]: df1.groupby('key1').max()\nOut[71]:\n     key2  data1  data2\nkey1\na     two      9      9\nb     two      7      7\n\nIn [72]: df1.groupby('key1').min()\nOut[72]:\n     key2  data1  data2\nkey1\na     one      1      2\nb     one      2      2\n\nIn [73]: df1.groupby('key1').mean()\n&lt;ipython-input-73-061796447ee4&gt;:1: FutureWarning: The default value of numeric_only in DataFrameGroupBy.mean is deprecated. In a future version, numeric_only will default to False. Either specify numeric_only or select only columns which should be valid for the function.\n  df1.groupby('key1').mean()\nOut[73]:\n         data1     data2\nkey1\na     4.200000  6.400000\nb     4.666667  4.666667\n\nIn [74]: df1.groupby('key1').size()\nOut[74]:\nkey1\na    5\nb    3\ndtype: int64\n\nIn [75]: df1.groupby('key1').count()\nOut[75]:\n      key2  data1  data2\nkey1\na        5      5      5\nb        3      3      3\n\nIn [76]: df1.groupby('key1').describe()\nOut[76]:\n     data1                                     ...     data2\n     count      mean       std  min  25%  50%  ...       std  min  25%  50%  75%  max\nkey1                                           ...\na      5.0  4.200000  3.114482  1.0  2.0  4.0  ...  2.701851  2.0  6.0  7.0  8.0  9.0\nb      3.0  4.666667  2.516611  2.0  3.5  5.0  ...  2.516611  2.0  3.5  5.0  6.0  7.0\n\n[2 rows x 16 columns]\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#agg","title":"\u5b9a\u4e49\u200b\u51fd\u6570\u200b\uff0c\u200b\u4f20\u5165\u200bagg\u200b\u65b9\u6cd5\u200b\u4e2d","text":"<ul> <li>groupd.agg(func)</li> <li>func\u200b\u7684\u200b\u53c2\u6570\u200b\u4e3a\u200bgroupby\u200b\u7d22\u5f15\u200b\u5bf9\u5e94\u200b\u7684\u200b\u8bb0\u5f55\u200b <pre><code>In [78]: def peak_range(df):\n    ...:     return df.max() - df.min()\n    ...:\n\nIn [79]: df1.groupby('key1').agg(peak_range)\n&lt;ipython-input-79-06de1b0dad4b&gt;:1: FutureWarning: ['key2'] did not aggregate successfully. If any error is raised this will raise in a future version of pandas. Drop these columns/ops to avoid this warning.\n  df1.groupby('key1').agg(peak_range)\nOut[79]:\n      data1  data2\nkey1\na         8      7\nb         5      5\n\nIn [80]: df1.groupby('key1').agg(lambda df: df.max() - df.min())\n&lt;ipython-input-80-1c659816d76c&gt;:1: FutureWarning: ['key2'] did not aggregate successfully. If any error is raised this will raise in a future version of pandas. Drop these columns/ops to avoid this warning.\n  df1.groupby('key1').agg(lambda df: df.max() - df.min())\nOut[80]:\n      data1  data2\nkey1\na         8      7\nb         5      5\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_30","title":"\u5e94\u7528\u200b\u591a\u4e2a\u200b\u805a\u5408\u200b\u51fd\u6570","text":"<ul> <li>\u200b\u540c\u65f6\u200b\u5e94\u7528\u200b\u591a\u4e2a\u200b\u51fd\u6570\u200b\u8fdb\u884c\u200b\u805a\u5408\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u4f7f\u7528\u200b\u51fd\u6570\u200b\u5217\u8868\u200b <pre><code># \u200b\u9ed8\u8ba4\u200b\u5217\u540d\u200b\u4e3a\u200b\u51fd\u6570\u200b\u540d\u200b\nIn [81]: df1.groupby('key1').agg(['mean', 'std','count', peak_range])\n&lt;ipython-input-81-1cb38207e095&gt;:1: FutureWarning: ['key2'] did not aggregate successfully. If any error is raised this will raise in a future version of pandas. Drop these columns/ops to avoid this warning.\n  df1.groupby('key1').agg(['mean', 'std','count', peak_range])\nOut[81]:\n         data1                                data2\n          mean       std count peak_range      mean       std count peak_range\nkey1\na     4.200000  3.114482     5          8  6.400000  2.701851     5          7\nb     4.666667  2.516611     3          5  4.666667  2.516611     3          5\n\n# \u200b\u901a\u8fc7\u200b\u5143\u7ec4\u200b\u63d0\u4f9b\u200b\u65b0\u200b\u7684\u200b\u5217\u540d\u200b\nIn [83]: df1.groupby('key1').agg(['mean', 'std', 'count', ('range', peak_range)])\n&lt;ipython-input-83-987a71c7f6d8&gt;:1: FutureWarning: ['key2'] did not aggregate successfully. If any error is raised this will raise in a future version of pandas. Drop these columns/ops to avoid this warning.\n  df1.groupby('key1').agg(['mean', 'std', 'count', ('range', peak_range)])\nOut[83]:\n         data1                           data2\n          mean       std count range      mean       std count range\nkey1\na     4.200000  3.114482     5     8  6.400000  2.701851     5     7\nb     4.666667  2.516611     3     5  4.666667  2.516611     3     5\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#dict","title":"\u4f7f\u7528\u200bdict\u200b\u5bf9\u200b\u4e0d\u540c\u200b\u7684\u200b\u5217\u200b\u5206\u522b\u200b\u4f5c\u7528\u200b\u4e0d\u540c\u200b\u7684\u200b\u805a\u5408\u200b\u51fd\u6570","text":"<pre><code># \u200b\u6bcf\u5217\u200b\u4f5c\u7528\u200b\u4e0d\u540c\u200b\u7684\u200b\u805a\u5408\u200b\u51fd\u6570\u200b\nIn [85]: dict_mapping = {'data1':'mean',\n    ...:                 'data2':'sum'}\n\nIn [86]: df1.groupby('key1').agg(dict_mapping)\nOut[86]:\n         data1  data2\nkey1\na     4.200000     32\nb     4.666667     14\n\nIn [87]: dict_mapping = {'data1':['mean','max'],\n    ...:                 'data2':'sum'}\n\nIn [88]: df1.groupby('key1').agg(dict_mapping)\nOut[88]:\n         data1     data2\n          mean max   sum\nkey1\na     4.200000   9    32\nb     4.666667   7    14\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_31","title":"\u5e38\u7528\u200b\u7684\u200b\u5185\u7f6e\u200b\u805a\u5408\u200b\u51fd\u6570","text":"","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_32","title":"\u6570\u636e\u200b\u7684\u200b\u5206\u7ec4\u200b\u8fd0\u7b97","text":"<ul> <li>sum()</li> <li>\u200b\u7edf\u8ba1\u200b</li> <li>merge()</li> <li>\u200b\u5916\u200b\u8fde\u63a5\u200b</li> <li>transform</li> <li>transform\u200b\u7684\u200b\u8ba1\u7b97\u7ed3\u679c\u200b\u548c\u200b\u539f\u59cb\u6570\u636e\u200b\u7684\u200b\u5f62\u72b6\u200b\u4fdd\u6301\u4e00\u81f4\u200b\uff0c</li> <li>grouped.transform(np.sum)</li> <li>groupby.apply(func)</li> <li>func\u200b\u51fd\u6570\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5728\u200b\u5404\u200b\u5206\u7ec4\u200b\u4e0a\u200b\u5206\u522b\u200b\u8c03\u7528\u200b\uff0c\u200b\u6700\u540e\u200b\u7ed3\u679c\u200b\u901a\u8fc7\u200bpd.concat\u200b\u7ec4\u88c5\u200b\u5230\u200b\u4e00\u8d77\u200b\uff08\u200b\u6570\u636e\u200b\u5408\u5e76\u200b\uff09</li> <li>apply\u200b\u53ef\u4ee5\u200b\u7528\u6765\u200b\u5904\u7406\u200b\u4e0d\u540c\u200b\u5206\u7ec4\u200b\u5185\u200b\u7684\u200b\u7f3a\u5931\u200b\u6570\u636e\u200b\u586b\u5145\u200b\uff0c\u200b\u586b\u5145\u200b\u8be5\u200b\u5206\u7ec4\u200b\u7684\u200b\u5747\u503c\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_33","title":"\u6570\u636e\u200b\u6e05\u6d17","text":"","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#merge","title":"merge | \u200b\u6570\u636e\u200b\u8fde\u63a5","text":"<ul> <li> <p>pd.merge\uff1a \u200b\u6839\u636e\u200b\u5355\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b\u952e\u200b\u5c06\u200b\u4e0d\u540c\u200b\u7684\u200bDataFrame\u200b\u7684\u200b\u884c\u200b\u8fde\u63a5\u8d77\u6765\u200b <pre><code>In [1]: import numpy as np\n\nIn [2]: import pandas as pd\n\nIn [3]: df1 = pd.DataFrame({'key': ['b', 'b', 'a', 'c', 'a', 'a', 'b'], 'data1' : np.random.randint(0,1\n   ...: 0,7)})\n\nIn [4]: df1\nOut[4]:\n  key  data1\n0   b      4\n1   b      3\n2   a      3\n3   c      4\n4   a      8\n5   a      3\n6   b      2\n\nIn [5]: df2 = pd.DataFrame({'key': ['a', 'b', 'd'],  'data2' : np.random.randint(0,10,3)})\n\nIn [6]: df2\nOut[6]:\n  key  data2\n0   a      1\n1   b      3\n2   d      2\n</code></pre></p> </li> <li> <p>\u200b\u9ed8\u8ba4\u200b\u5c06\u200b\u91cd\u53e0\u200b\u7684\u200b\u5217\u540d\u200b\u4f5c\u4e3a\u200b\u5916\u952e\u200b\u8fdb\u884c\u200b\u8fde\u63a5\u200b <pre><code>In [7]: pd.merge(df1, df2)\nOut[7]:\n  key  data1  data2\n0   b      4      3\n1   b      3      3\n2   b      2      3\n3   a      3      1\n4   a      8      1\n5   a      3      1\n</code></pre></p> </li> <li> <p>on:\u200b\u663e\u793a\u200b\u6307\u5b9a\u200b\u5916\u952e\u200b</p> </li> <li>left_on: \u200b\u5de6\u4fa7\u200b\u6570\u636e\u200b\u7684\u200b\u5916\u952e\u200b\uff0c</li> <li> <p>right_on\uff1a\u200b\u53f3\u4fa7\u200b\u6570\u636e\u200b\u7684\u200b\u5916\u952e\u200b <pre><code>In [8]: pd.merge(df1, df2, on='key')  # \u200b\u663e\u793a\u200b\u6307\u5b9a\u200b\u5916\u952e\u200b\nOut[8]:\n  key  data1  data2\n0   b      4      3\n1   b      3      3\n2   b      2      3\n3   a      3      1\n4   a      8      1\n5   a      3      1\n\nIn [9]: df1 = df1.rename(columns={'key':'key1'})\n\nIn [10]: df1\nOut[10]:\n  key1  data1\n0    b      4\n1    b      3\n2    a      3\n3    c      4\n4    a      8\n5    a      3\n6    b      2\n\nIn [11]: df2 = df2.rename(columns={'key':'key2'})\n\nIn [12]: df2\nOut[12]:\n  key2  data2\n0    a      1\n1    b      3\n2    d      2\n\nIn [13]: pd.merge(df1,df2, left_on='key1', right_on='key2')\nOut[13]:\n  key1  data1 key2  data2\n0    b      4    b      3\n1    b      3    b      3\n2    b      2    b      3\n3    a      3    a      1\n4    a      8    a      1\n5    a      3    a      1\n</code></pre></p> </li> <li> <p>\u200b\u8fde\u63a5\u200b\uff1a\u200b\u9ed8\u8ba4\u200b\u662f\u200b\u5185\u200b\u8fde\u63a5\u200b\uff0c\u200b\u7ed3\u679c\u200b\u4e2d\u200b\u7684\u200b\u952e\u200b\u662f\u200b\u4ea4\u96c6\u200b</p> </li> <li>how\uff1a \u200b\u6307\u5b9a\u200b\u8fde\u63a5\u200b\u65b9\u5f0f\u200b</li> <li>outer: \u200b\u5916\u200b\u8fde\u63a5\u200b</li> <li>left\uff1a \u200b\u5de6\u200b\u8fde\u63a5\u200b</li> <li> <p>right: \u200b\u53f3\u200b\u8fde\u63a5\u200b <pre><code>In [14]: pd.merge(df1, df2,left_on='key1', right_on='key2', how='outer')\nOut[14]:\n  key1  data1 key2  data2\n0    b    4.0    b    3.0\n1    b    3.0    b    3.0\n2    b    2.0    b    3.0\n3    a    3.0    a    1.0\n4    a    8.0    a    1.0\n5    a    3.0    a    1.0\n6    c    4.0  NaN    NaN\n7  NaN    NaN    d    2.0\n\nIn [15]: pd.merge(df1, df2,left_on='key1', right_on='key2', how='left')\nOut[15]:\n  key1  data1 key2  data2\n0    b      4    b    3.0\n1    b      3    b    3.0\n2    a      3    a    1.0\n3    c      4  NaN    NaN\n4    a      8    a    1.0\n5    a      3    a    1.0\n6    b      2    b    3.0\n\nIn [16]: pd.merge(df1, df2,left_on='key1', right_on='key2', how='right')\nOut[16]:\n  key1  data1 key2  data2\n0    a    3.0    a      1\n1    a    8.0    a      1\n2    a    3.0    a      1\n3    b    4.0    b      3\n4    b    3.0    b      3\n5    b    2.0    b      3\n6  NaN    NaN    d      2\n</code></pre></p> </li> <li> <p>\u200b\u5904\u7406\u200b\u91cd\u590d\u200b\u5217\u540d\u200b</p> </li> <li> <p>suffixes:  \u200b\u9ed8\u8ba4\u200b\u662f\u200b_x, _y <pre><code>In [17]: df1 = pd.DataFrame({'key': ['b', 'b', 'a', 'c', 'a', 'a', 'b'], 'data' : np.random.randint(0,1, 0,7)})\n\nIn [18]: df2 = pd.DataFrame({'key': ['a', 'b', 'd'],  'data' : np.random.randint(0,10,3)})\n\nIn [19]: pd.merge(df1, df2, on='key', suffixes=('_left', '_right'))\nOut[19]:\n  key  data_left  data_right\n0   b          1           3\n1   b          0           3\n2   b          2           3\n3   a          2           4\n4   a          9           4\n5   a          2           4\n</code></pre></p> </li> <li> <p>\u200b\u6309\u200b\u7d22\u5f15\u200b\u8fde\u63a5\u200b</p> </li> <li>left_index=True</li> <li>right_index=True <pre><code>In [20]: df3 = pd.DataFrame({'key': ['b', 'b', 'a', 'c', 'a', 'a', 'b'], 'data1' : np.random.randint(0,10,7)})\n\nIn [21]: df4 = pd.DataFrame({'key': ['a', 'b', 'd'],  'data2' : np.random.randint(0,10,3)},index=['a',' b','d'])\n\nIn [24]: pd.merge(df3,df4,left_on='key', right_index=True)\nOut[24]:\n  key key_x  data1 key_y  data2\n0   b     b      7     b      8\n1   b     b      7     b      8\n6   b     b      0     b      8\n2   a     a      1     a      5\n4   a     a      3     a      5\n5   a     a      1     a      5\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#concat","title":"concat | \u200b\u6570\u636e\u200b\u5408\u5e76","text":"<ul> <li> <p>\u200b\u6cbf\u8f74\u200b\u65b9\u5411\u200b\u5c06\u200b\u591a\u4e2a\u200b\u5bf9\u8c61\u200b\u5408\u5e76\u200b\u5230\u200b\u4e00\u8d77\u200b</p> </li> <li> <p>numpy\u200b\u7684\u200bconcat</p> <ul> <li>np.concatenate <pre><code>In [3]: arr1 = np.random.randint(0, 10, (3,4))\n\nIn [4]: arr2 = np.random.randint(0, 10, (3,4))\n\nIn [5]: arr1\nOut[5]:\narray([[2, 4, 2, 7],\n       [1, 0, 8, 5],\n       [0, 9, 6, 5]])\n\nIn [6]: arr2\nOut[6]:\narray([[4, 2, 9, 1],\n       [7, 7, 6, 1],\n       [2, 9, 1, 9]])\n\nIn [7]: np.concatenate([arr1, arr2])\nOut[7]:\narray([[2, 4, 2, 7],\n       [1, 0, 8, 5],\n       [0, 9, 6, 5],\n       [4, 2, 9, 1],\n       [7, 7, 6, 1],\n       [2, 9, 1, 9]])\n\nIn [8]: np.concatenate([arr1, arr2], axis=1)\nOut[8]:\narray([[2, 4, 2, 7, 4, 2, 9, 1],\n       [1, 0, 8, 5, 7, 7, 6, 1],\n       [0, 9, 6, 5, 2, 9, 1, 9]])\n</code></pre></li> </ul> </li> <li> <p>pd.concat</p> </li> <li>\u200b\u9ed8\u8ba4\u200b\u8f74\u5411\u200baxis=0, \u200b\u5217\u200b</li> <li>join\u200b\u6307\u5b9a\u200b\u5408\u5e76\u200b\u65b9\u5411\u200b\uff0c\u200b\u9ed8\u8ba4\u200bouter</li> <li> <p>Series\u200b\u5408\u5e76\u200b\u65f6\u200b\u67e5\u770b\u200b\u884c\u200b\u7d22\u5f15\u200b\u6709\u65e0\u200b\u91cd\u590d\u200b <pre><code># index \u200b\u4e0d\u200b\u91cd\u590d\u200b\u65f6\u200b\nIn [12]: ser1= pd.Series(np.random.randint(0, 10, 5),index=range(0,5))\n\nIn [13]: ser2= pd.Series(np.random.randint(0, 10, 4),index=range(5,9))\n\nIn [14]: ser3= pd.Series(np.random.randint(0, 10, 3),index=range(9,12))\n\nIn [15]: ser1\nOut[15]:\n0    9\n1    7\n2    4\n3    0\n4    3\ndtype: int64\n\nIn [16]: ser2\nOut[16]:\n5    0\n6    6\n7    7\n8    0\ndtype: int64\n\nIn [17]: ser3\nOut[17]:\n9     4\n10    3\n11    4\ndtype: int64\n\nIn [18]: pd.concat([ser1, ser2, ser3])\nOut[18]:\n0     9\n1     7\n2     4\n3     0\n4     3\n5     0\n6     6\n7     7\n8     0\n9     4\n10    3\n11    4\ndtype: int64\n\nIn [19]: pd.concat([ser1, ser2, ser3], axis=1)\nOut[19]:\n      0    1    2\n0   9.0  NaN  NaN\n1   7.0  NaN  NaN\n2   4.0  NaN  NaN\n3   0.0  NaN  NaN\n4   3.0  NaN  NaN\n5   NaN  0.0  NaN\n6   NaN  6.0  NaN\n7   NaN  7.0  NaN\n8   NaN  0.0  NaN\n9   NaN  NaN  4.0\n10  NaN  NaN  3.0\n11  NaN  NaN  4.0\n</code></pre></p> </li> <li> <p>index\u200b\u91cd\u590d\u200b\u65f6\u200b <pre><code>In [22]: ser5 = pd.Series(np.random.randint(0, 10,4), index=range(4))\n\nIn [23]: ser6 = pd.Series(np.random.randint(0, 10,3), index=range(3))\n\nIn [24]: ser4\nOut[24]:\n0    3\n1    4\n2    8\n3    7\n4    1\ndtype: int64\n\nIn [25]: ser5\nOut[25]:\n0    7\n1    0\n2    6\n3    9\ndtype: int64\n\nIn [26]: ser6\nOut[26]:\n0    3\n1    3\n2    1\ndtype: int64\n\nIn [27]: pd.concat([ser4, ser5,ser6])\nOut[27]:\n0    3\n1    4\n2    8\n3    7\n4    1\n0    7\n1    0\n2    6\n3    9\n0    3\n1    3\n2    1\ndtype: int64\n\nIn [28]: pd.concat([ser4, ser5,ser6], axis=1)\nOut[28]:\n   0    1    2\n0  3  7.0  3.0\n1  4  0.0  3.0\n2  8  6.0  1.0\n3  7  9.0  NaN\n4  1  NaN  NaN\n\nIn [29]: pd.concat([ser4, ser5,ser6], axis=1, join='inner')\nOut[29]:\n   0  1  2\n0  3  7  3\n1  4  0  3\n2  8  6  1\n</code></pre></p> </li> <li> <p>DataFrame\u200b\u5408\u5e76\u200b\u65f6\u200b\u540c\u65f6\u200b\u67e5\u770b\u200b\u884c\u200b\u7d22\u5f15\u200b\u548c\u200b\u5217\u200b\u7d22\u5f15\u200b\u6709\u65e0\u200b\u91cd\u590d\u200b <pre><code>In [30]: df5 = pd.DataFrame(np.random.randint(0, 10, (3,2)), index=['a','b','c'], columns=['A','B'])\n\nIn [31]: df6 = pd.DataFrame(np.random.randint(0, 10, (2, 2)), index=['a','b'], columns=['C','D'])\n\nIn [32]: df5\nOut[32]:\n   A  B\na  3  3\nb  9  9\nc  7  8\n\nIn [33]: df6\nOut[33]:\n   C  D\na  1  4\nb  0  8\n\nIn [34]: pd.concat([df5, df6])\nOut[34]:\n     A    B    C    D\na  3.0  3.0  NaN  NaN\nb  9.0  9.0  NaN  NaN\nc  7.0  8.0  NaN  NaN\na  NaN  NaN  1.0  4.0\nb  NaN  NaN  0.0  8.0\n\nIn [35]: pd.concat([df5, df6], axis=1, join='inner')\nOut[35]:\n   A  B  C  D\na  3  3  1  4\nb  9  9  0  8\n</code></pre></p> </li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#stack","title":"stack | \u200b\u6570\u636e\u200b\u91cd\u6784","text":"<ul> <li>\u200b\u5c06\u5217\u200b\u7d22\u5f15\u200b\u65cb\u8f6c\u200b\u4e3a\u884c\u200b\u7d22\u5f15\u200b\uff0c\u200b\u5b8c\u6210\u200b\u5c42\u7ea7\u200b\u7d22\u5f15\u200b</li> <li> <p>DataFrame -&gt; Series <pre><code>In [36]: df6 = pd.DataFrame(np.random.randint(0, 10, (5, 2)), columns=['data1','data2'])\n\nIn [37]: df6\nOut[37]:\n   data1  data2\n0      5      9\n1      2      5\n2      2      0\n3      9      6\n4      2      4\n\nIn [38]: stacked = df6.stack()\n\nIn [39]: stacked\nOut[39]:\n0  data1    5\n   data2    9\n1  data1    2\n   data2    5\n2  data1    2\n   data2    0\n3  data1    9\n   data2    6\n4  data1    2\n   data2    4\ndtype: int64\n</code></pre></p> </li> <li> <p>unstack | \u200b\u5c06\u200b\u5c42\u7ea7\u200b\u7d22\u5f15\u200b\u5c55\u5f00\u200b</p> </li> <li>Series -&gt; DataFrame</li> <li>\u200b\u9ed8\u8ba4\u200b\u64cd\u4f5c\u200b\u5185\u5c42\u200b\u7d22\u5f15\u200b\uff0c\u200b\u5373\u200blevel=1 <pre><code>In [39]: stacked\nOut[39]:\n0  data1    5\n   data2    9\n1  data1    2\n   data2    5\n2  data1    2\n   data2    0\n3  data1    9\n   data2    6\n4  data1    2\n   data2    4\ndtype: int64\n\nIn [40]: stacked.unstack()\nOut[40]:\n   data1  data2\n0      5      9\n1      2      5\n2      2      0\n3      9      6\n4      2      4\n\nIn [41]: stacked.unstack(level=0)\nOut[41]:\n       0  1  2  3  4\ndata1  5  2  2  9  2\ndata2  9  5  0  6  4\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_34","title":"\u6570\u636e\u200b\u8f6c\u6362","text":"<ul> <li>\u200b\u5904\u7406\u200b\u91cd\u590d\u200b\u6570\u636e\u200b</li> <li>duplicated()\uff1a \u200b\u8fd4\u56de\u200b\u5e03\u5c14\u200b\u578b\u200bSeries\u200b\u8868\u793a\u200b\u6bcf\u884c\u200b\u662f\u5426\u200b\u4e3a\u200b\u91cd\u590d\u200b\u884c\u200b</li> <li>drop_duplicates(): \u200b\u8fc7\u6ee4\u200b\u91cd\u590d\u200b\u884c\u200b</li> <li> <p>\u200b\u9ed8\u8ba4\u200b\u662f\u200b\u5168\u90e8\u5217\u200b\uff0c \u200b\u53ef\u200b\u6307\u5b9a\u200b\u6309\u200b\u67d0\u4e2a\u200b\u5217\u200b\u5224\u65ad\u200b <pre><code>In [4]: df1 = pd.DataFrame({'data1': ['a'] * 4 + ['b'] * 4, 'data2': np.random.randint(0,4,8)})\n\nIn [5]: df1\nOut[5]:\n  data1  data2\n0     a      3\n1     a      1\n2     a      3\n3     a      2\n4     b      2\n5     b      0\n6     b      3\n7     b      0\n\nIn [6]: df1.duplicated()\nOut[6]:\n0    False\n1    False\n2     True\n3    False\n4    False\n5    False\n6    False\n7     True\ndtype: bool\n\nIn [8]: df1.drop_duplicates()\nOut[8]:\n  data1  data2\n0     a      3\n1     a      1\n3     a      2\n4     b      2\n5     b      0\n6     b      3\n\nIn [10]: df1.drop_duplicates('data2')\nOut[10]:\n  data1  data2\n0     a      2\n1     a      1\n4     b      0\n</code></pre></p> </li> <li> <p>map</p> </li> <li>\u200b\u6839\u636e\u200bmap\u200b\u4f20\u5165\u200b\u7684\u200b\u51fd\u6570\u200b\u5bf9\u200b\u6bcf\u884c\u200b\u6216\u200b\u6bcf\u5217\u200b\u8fdb\u884c\u200b\u8f6c\u6362\u200b</li> <li>Series\u200b\u6839\u636e\u200bmap\u200b\u4f20\u5165\u200b\u7684\u200b\u51fd\u6570\u200b\u5bf9\u200b\u6bcf\u884c\u200b\u6216\u200b\u6bcf\u5217\u200b\u8fdb\u884c\u200b\u8f6c\u6362\u200b <pre><code>In [11]: ser1 = pd.Series(np.random.randint(0, 10, 10))\n\nIn [12]: ser1\nOut[12]:\n0    9\n1    7\n2    2\n3    2\n4    2\n5    5\n6    1\n7    6\n8    5\n9    1\ndtype: int64\n\nIn [13]: ser1.map(lambda x: x ** 2)\nOut[13]:\n0    81\n1    49\n2     4\n3     4\n4     4\n5    25\n6     1\n7    36\n8    25\n9     1\ndtype: int64\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Pandas/#_35","title":"\u6570\u636e\u200b\u66ff\u6362","text":"<ul> <li>replace \uff1a \u200b\u6839\u636e\u200b\u503c\u200b\u7684\u200b\u5185\u5bb9\u200b\u8fdb\u884c\u200b\u66ff\u6362\u200b <pre><code>In [3]: ser_obj = pd.Series(np.random.randint(0,10,10))\n\nIn [4]: ser_obj\nOut[4]:\n0    6\n1    5\n2    2\n3    2\n4    6\n5    4\n6    3\n7    1\n8    8\n9    8\ndtype: int64\n\nIn [5]: ser_obj.replace(1, -100)\nOut[5]:\n0      6\n1      5\n2      2\n3      2\n4      6\n5      4\n6      3\n7   -100\n8      8\n9      8\ndtype: int64\n\nIn [6]: ser_obj.replace([6,8], -100)\nOut[6]:\n0   -100\n1      5\n2      2\n3      2\n4   -100\n5      4\n6      3\n7      1\n8   -100\n9   -100\ndtype: int64\n\nIn [10]: ser_obj.replace([4, 2], [-100, -200])\nOut[10]:\n0      6\n1      5\n2   -200\n3   -200\n4      6\n5   -100\n6      3\n7      1\n8      8\n9      8\ndtype: int64\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/PyFlink/","title":"PyFlink -> \u200b\u5206\u5e03\u5f0f\u8ba1\u7b97","text":"<p>\u200b\u6b64\u6587\u200b\u5185\u5bb9\u200b\u57fa\u4e8e\u200bapache-flink-1.17.1\u200b\u7248\u672c\u200b\uff0c\u200b\u5982\u200b\u6709\u200b\u504f\u5dee\u200b\u8be6\u89c1\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b</p>","tags":["Python"]},{"location":"python/python_lib/libs/PyFlink/#_1","title":"\u6587\u6863\u200b\u8bf4\u660e\u200b\uff1a","text":"<p>\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\uff1a</p> <ul> <li>Flink\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b</li> <li>Python API \u200b\u6587\u6863\u200b</li> </ul> <p>\u200b\u5f00\u53d1\u200b\u6587\u6863\u200b\uff1a</p> <ul> <li>pyflink\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b</li> </ul> <p>\u200b\u90e8\u7f72\u200b\u6587\u6863\u200b\uff1a</p> <ul> <li>\u200b\u547d\u4ee4\u884c\u200b\u90e8\u7f72\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/PyFlink/#pyflink","title":"\u5b89\u88c5\u200bpyflink","text":"<ul> <li>\u200b\u73af\u5883\u200b\u51c6\u5907\u200b\uff1a</li> <li>Java\u200b\u73af\u5883\u200b\uff1aJava8+</li> <li>python\u200b\u73af\u5883\u200b\uff1a python3.7+\uff0c conda(miniconda)\u200b\u6216\u200b\u5176\u4ed6\u200b,</li> <li>\u200b\u57fa\u7840\u200b\u73af\u5883\u200b\u5b89\u88c5\u200b\uff1a</li> <li>java\u200b\u73af\u5883\u200b\u5b89\u88c5\u200b\u6b65\u9aa4\u200b\u7565\u200b</li> <li>conda\u200b\u73af\u5883\u200b\u5b89\u88c5\u200b\u6b65\u9aa4\u200b\u7565\u200b</li> <li> <p>pyflink\u200b\u5b89\u88c5\u200b <pre><code># \u200b\u521b\u5efa\u200b\u865a\u62df\u73af\u5883\u200b\nconda create -n pyflink-py38env python=3.8 -y\n\nconda activate pyflink-py38env\n\npip install apache-flink==1.17.1  -i https://pypi.tuna.tsinghua.edu.cn/simple\n</code></pre></p> </li> <li> <p>\u200b\u73af\u5883\u200b\u9a8c\u8bc1\u200b <pre><code>conda activate pyflink-py38env\n\ncd -/pyflink-py38env/lib/python3.8/site-packages/pyflink/ \n\npython examples/table/word_count.py \n-----------&lt;log&gt;----------------\n(pyflink-py38env) [root@node80 pyflink]# python examples/table/word_count.py \nUsing Any for unsupported type: typing.Sequence[~T]\nNo module named google.cloud.bigquery_storage_v1. As a result, the ReadFromBigQuery transform *CANNOT* be used with `method=DIRECT_READ`.\nExecuting word_count example with default input data set.\nUse --input to specify file input.\nPrinting result to stdout. Use --output to specify output path.\n+I[To, 1]\n+I[be,, 1]\n+I[or, 1]\n+I[not, 1]\n+I[to, 1]\n+I[be,--that, 1]\n+I[is, 1]\n+I[the, 1]\n+I[question:--, 1]\n+I[Whether, 1]\n...\n\n# pyflink\u200b\u5b89\u88c5\u200b\u6210\u529f\u200b\n</code></pre></p> </li> <li> <p>\u200b\u91cd\u8981\u200b\u63d0\u793a\u200b\uff1a</p> </li> <li>\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u5c06\u200bpyflink\u200b\u7a0b\u5e8f\u200b\u63d0\u4ea4\u200b\u5230\u200b\u8fdc\u7a0b\u200b\u7684\u200bYARN\u200b\u96c6\u7fa4\u200b\uff0c\u200b\u9700\u8981\u200b\u4ece\u200b\u96c6\u7fa4\u200b\u62f7\u8d1d\u200b\u5982\u4e0b\u200b\u914d\u7f6e\u6587\u4ef6\u200b\uff0c\u200b\u5e76\u200b\u5230\u200b\u5230\u200b\u8be5\u200b\u865a\u62df\u73af\u5883\u200b\u7684\u200bpyflink/conf\u200b\u76ee\u5f55\u200b\u4e0b\u200b<ul> <li>core-site.xml</li> <li>hdfs-site.xml</li> <li>flink-conf.yaml</li> </ul> </li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/PyFlink/#pyflink_1","title":"\u5f00\u53d1\u200bpyflink\u200b\u7a0b\u5e8f","text":"","tags":["Python"]},{"location":"python/python_lib/libs/PyFlink/#kafka","title":"Kafka\u200b\u6e90\u200b\u7684\u200b\u4f7f\u7528","text":"<ul> <li>\u200b\u5b98\u65b9\u200b\u4f7f\u7528\u200b\u8bf4\u660e\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/PyFlink/#_2","title":"\u7b2c\u4e09\u65b9\u200b\u4f9d\u8d56\u200b\u7684\u200b\u4f7f\u7528","text":"<p>\u200b\u5728\u200b\u4f7f\u7528\u200bpyflink\u200b\u8fdb\u884c\u200b\u7a0b\u5e8f\u5f00\u53d1\u200b\u65f6\u200b\uff0c\u200b\u7528\u6237\u200b\u5728\u200b\u5f00\u53d1\u200bUDF\u200b\u7b97\u5b50\u200b\u65f6\u200b\u5e38\u5e38\u200b\u4f1a\u200b\u5f15\u5165\u200b\u7b2c\u4e09\u65b9\u200b\u4f9d\u8d56\u200b\u5e93\u200b,\u200b\u6b64\u65f6\u200b\u5bf9\u200b\u4f9d\u8d56\u200b\u5305\u200b\u5f15\u5165\u200b\u548c\u200b\u8fd0\u884c\u200b\u7684\u200b\u7ba1\u7406\u200b\u5c31\u200b\u4f1a\u200b\u6210\u4e3a\u200b\u521a\u9700\u200b\uff1b\u200b\u5f53\u200b\u5728\u200b\u672c\u5730\u200b\u6267\u884c\u200bpyflink\u200b\u65f6\u200b\uff0c\u200b\u7528\u6237\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u7b2c\u4e09\u65b9\u200bpython\u200b\u5e93\u200b\u4e0b\u8f7d\u5b89\u88c5\u200b\u5230\u200b\u672c\u5730\u200b\u540e\u200b\u5728\u200b\u8fdb\u884c\u200b\u6267\u884c\u200b\uff0c\u200b\u4f46\u200b\u5f53\u200bpyflink\u200b\u7a0b\u5e8f\u200b\u9700\u8981\u200b\u63d0\u4ea4\u200b\u5230\u200b\u8fdc\u7a0b\u200b\u6267\u884c\u200b\u65f6\u200b\uff0c\u200b\u6b64\u200b\u65b9\u6cd5\u200b\u5c31\u200b\u884c\u4e0d\u901a\u200b\u3002\u200b\u4e8e\u662f\u200bpyflink\u200b\u5b98\u65b9\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u5bf9\u200b\u4f9d\u8d56\u200b\u5305\u200b\u7684\u200b\u7ba1\u7406\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5176\u4e2d\u200b\u5728\u200bDataStream API \u200b\u548c\u200b Table API\u200b\u5b9e\u73b0\u200b\u65b9\u5f0f\u200b\u662f\u200b\u4e0d\u540c\u200b\u7684\u200b\u3002</p> <ul> <li>\u200b\u76ee\u524d\u200b\u5b98\u65b9\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u5bf9\u200bJar\u200b\u4f9d\u8d56\u200b\u548c\u200bPython\u200b\u4f9d\u8d56\u200b\u7ba1\u7406\u200b\u7684\u200b\u8bf4\u660e\u200b\u548c\u200b\u793a\u4f8b\u200b\uff0c\u200b\u8be6\u89c1\u200b\u5b98\u65b9\u200b\u94fe\u63a5\u200b\uff0c</li> <li>\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u662f\u200b\uff0c\u200b\u5728\u200bpyflink\u200b\u4ee3\u7801\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u4f9d\u8d56\u200b\u65f6\u200b\uff0c\u200b\u76ee\u524d\u200b\u53ea\u200b\u652f\u6301\u200b\u672c\u5730\u200b\u6587\u4ef6\u200b\u7684\u200b\u5f15\u5165\u200b\uff08\u200b\u5373\u200b\uff1afile:///)\uff0c\u200b\u4e0d\u200b\u652f\u6301\u200b\u8fdc\u7a0b\u200b\uff08\u200b\u5982\u200b hdfs:///\uff09\u200b\u65b9\u5f0f\u200b\u7684\u200b\u5f15\u5165\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/PyFlink/#pyflink_2","title":"\u63d0\u4ea4\u200bpyflink\u200b\u7a0b\u5e8f\u200b\uff08\u200b\u90e8\u7f72\u200b\uff09","text":"","tags":["Python"]},{"location":"python/python_lib/libs/PyFlink/#_3","title":"\u63d0\u4ea4\u200b\u6a21\u5f0f\u200b\u6982\u8ff0","text":"<p>\u200b\u5f53\u200b\u901a\u8fc7\u200bflink run \u200b\u63d0\u4ea4\u200bpyflink\u200b\u7a0b\u5e8f\u200b\u65f6\u200b\uff0cflink\u200b\u5c06\u200b\u6267\u884c\u200bpython\u200b\u547d\u4ee4\u200b\uff0c\u200b\u89e3\u6790\u200b\u7f16\u8bd1\u200bpyflink\u200b\u7a0b\u5e8f\u200b\uff0c\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200bjar\u200b\u7a0b\u5e8f\u200b\uff0c\u200b\u6b64\u200b\u8fc7\u7a0b\u200b\u4e5f\u200b\u88ab\u200b\u79f0\u4e3a\u200bJobGraph\u200b\u5bf9\u8c61\u200b\u751f\u6210\u200b\uff0c\u200b\u5176\u672c\u8d28\u200b\u662f\u200bpython vm \u200b\u4e0e\u200bjava vm \u200b\u901a\u8fc7\u200bRPC\u200b\u7684\u200b\u65b9\u5f0f\u200b\u8fdb\u884c\u200b\u901a\u4fe1\u200b\uff0c\u200b\u5f53\u7136\u200b\uff0c\u200b\u4e0d\u540c\u200b\u7684\u200b\u63d0\u4ea4\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u5176\u200b\u5b9e\u73b0\u200b\u903b\u8f91\u200b\u4f1a\u200b\u4e0d\u540c\u200b\uff1b\u200b\u76ee\u524d\u200b\uff0c\u200b\u63d0\u4ea4\u200b\u6a21\u5f0f\u200b\u5206\u4e3a\u200b\u4ee5\u4e0b\u200b\u51e0\u79cd\u200b\uff1a</p> <ul> <li>Session\u200b\u6a21\u5f0f\u200b</li> <li>Standalone\u200b\u6a21\u5f0f\u200b</li> <li>Application\u200b\u6a21\u5f0f\u200b\uff08\u200b\u6b64\u200b\u6a21\u5f0f\u200b\u76ee\u524d\u200b\u652f\u6301\u200bYARN \u200b\u6216\u200b K8S\uff0c\u200b\u4e5f\u200b\u662f\u200b\u5b98\u65b9\u200b\u63a8\u8350\u200b\u7684\u200b\u6a21\u5f0f\u200b\uff09</li> <li>Per-job \u200b\u6a21\u5f0f\u200b\uff08\u200b\u5728\u200b1.17\u200b\u7248\u672c\u200b\u4e2d\u200b\u5df2\u200b\u88ab\u200b\u5f03\u7528\u200b\uff09</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/PyFlink/#_4","title":"\u63d0\u4ea4\u200b\u53c2\u6570\u200b\u8bf4\u660e","text":"<ul> <li> <p>\u200b\u5b98\u65b9\u200b\u53c2\u6570\u200b\u4f7f\u7528\u200b\u8bf4\u660e\u200b</p> </li> <li> \u200b\u9009\u9879\u200b** \u200b\u63cf\u8ff0\u200b -py\u3001--python \u200b\u5e26\u6709\u200b\u7a0b\u5e8f\u200b\u5165\u53e3\u200b\u70b9\u200b\u7684\u200b Python \u200b\u811a\u672c\u200b\u3002\u200b\u53ef\u4ee5\u200b\u7528\u200b --pyFiles \u200b\u9009\u9879\u200b\u914d\u7f6e\u200b\u4f9d\u8d56\u200b\u8d44\u6e90\u200b\u3002 -pym\u3001--pyModule \u200b\u5e26\u6709\u200b\u7a0b\u5e8f\u200b\u5165\u53e3\u200b\u70b9\u200b\u7684\u200b Python \u200b\u6a21\u5757\u200b\u3002\u200b\u8be5\u200b\u9009\u9879\u200b\u5fc5\u987b\u200b\u4e0e\u200b --pyFiles \u200b\u4e00\u8d77\u200b\u4f7f\u7528\u200b\u3002 -pyfs\u3001--pyFiles \u200b\u4e3a\u200b\u4f5c\u4e1a\u200b\u9644\u52a0\u200b\u81ea\u5b9a\u4e49\u200b\u6587\u4ef6\u200b\u3002\u200b\u652f\u6301\u200b .py/.egg/.zip/.whl \u200b\u4e4b\u7c7b\u200b\u7684\u200b\u6807\u51c6\u200b\u8d44\u6e90\u200b\u6587\u4ef6\u200b\u540e\u7f00\u200b\u6216\u200b\u76ee\u5f55\u200b\u3002\u200b\u8fd9\u4e9b\u200b\u6587\u4ef6\u200b\u5c06\u200b\u88ab\u200b\u6dfb\u52a0\u200b\u5230\u200b\u672c\u5730\u200b\u5ba2\u6237\u7aef\u200b\u548c\u200b\u8fdc\u7a0b\u200b Python UDF Worker \u200b\u7684\u200b PYTHONPATH \u200b\u4e2d\u200b\u3002\u200b\u4ee5\u200b .zip \u200b\u4e3a\u200b\u540e\u7f00\u200b\u7684\u200b\u6587\u4ef6\u200b\u5c06\u200b\u88ab\u200b\u89e3\u538b\u7f29\u200b\uff0c\u200b\u5e76\u4e14\u200b\u88ab\u200b\u6dfb\u52a0\u200b\u5230\u200b PYTHONPATH\u3002\u200b\u9017\u53f7\u200b\uff08\u201c,\u201d\uff09\u200b\u53ef\u4ee5\u200b\u7528\u4f5c\u200b\u6307\u5b9a\u200b\u591a\u4e2a\u200b\u6587\u4ef6\u200b\u7684\u200b\u5206\u9694\u7b26\u200b\uff08\u200b\u6bd4\u5982\u200b\uff0c--pyFiles file:///tmp/myresource.zip,hdfs:///$namenode_address/myresource2.zip\uff09\u3002 -pyarch\u3001--pyArchives \u200b\u4e3a\u200b\u4f5c\u4e1a\u200b\u6dfb\u52a0\u200b Python \u200b\u5f52\u6863\u6587\u4ef6\u200b\u3002\u200b\u5f52\u6863\u6587\u4ef6\u200b\u5c06\u200b\u88ab\u200b\u89e3\u538b\u7f29\u200b\u5230\u200b Python UDF Worker \u200b\u7684\u200b\u5de5\u4f5c\u200b\u76ee\u5f55\u200b\u3002\u200b\u53ef\u4ee5\u200b\u4e3a\u200b\u6bcf\u4e2a\u200b\u5f52\u6863\u6587\u4ef6\u200b\u6307\u5b9a\u200b\u76ee\u6807\u76ee\u5f55\u200b\u3002\u200b\u5982\u679c\u200b\u6307\u5b9a\u200b\u76ee\u6807\u76ee\u5f55\u200b\u540d\u79f0\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5f52\u6863\u6587\u4ef6\u200b\u5c06\u200b\u88ab\u200b\u89e3\u538b\u7f29\u200b\u5230\u200b\u5177\u6709\u200b\u6307\u5b9a\u200b\u540d\u79f0\u200b\u7684\u200b\u76ee\u5f55\u200b\u3002\u200b\u5426\u5219\u200b\uff0c\u200b\u5f52\u6863\u6587\u4ef6\u200b\u5c06\u200b\u88ab\u200b\u89e3\u538b\u7f29\u200b\u5230\u200b\u4e0e\u200b\u5f52\u6863\u6587\u4ef6\u200b\u540c\u540d\u200b\u7684\u200b\u76ee\u5f55\u200b\u4e2d\u200b\u3002\u200b\u901a\u8fc7\u200b\u8be5\u200b\u9009\u9879\u200b\u4e0a\u4f20\u200b\u7684\u200b\u6587\u4ef6\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u76f8\u5bf9\u8def\u5f84\u200b\u8bbf\u95ee\u200b\u3002\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b \u201c#\u201d \u200b\u4f5c\u4e3a\u200b\u5f52\u6863\u6587\u4ef6\u200b\u8def\u5f84\u200b\u548c\u200b\u76ee\u6807\u76ee\u5f55\u200b\u540d\u79f0\u200b\u7684\u200b\u5206\u9694\u7b26\u200b\u3002\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b \u201c,\u201d \u200b\u4f5c\u4e3a\u200b\u6307\u5b9a\u200b\u591a\u4e2a\u200b\u5f52\u6863\u6587\u4ef6\u200b\u7684\u200b\u5206\u9694\u7b26\u200b\u3002\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u8be5\u200b\u9009\u9879\u200b\u4e0a\u4f20\u200b Python UDF \u200b\u4e2d\u200b\u4f7f\u7528\u200b\u7684\u200b\u865a\u62df\u73af\u5883\u200b\u548c\u200b\u6570\u636e\u6587\u4ef6\u200b\uff08\u200b\u6bd4\u5982\u200b\uff0c--pyArchives file:///tmp/py37.zip,file:///tmp/data.zip#data --pyExecutable py37.zip/py37/bin/python\uff09\u3002\u200b\u5728\u200b Python UDF \u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u8bbf\u95ee\u200b\u6570\u636e\u6587\u4ef6\u200b\uff0c\u200b\u6bd4\u5982\u200b\uff1af = open('data/data.txt', 'r')\u3002 -pyclientexec\u3001--pyClientExecutable \u200b\u5f53\u200b\u901a\u8fc7\u200b \u201cflink run\u201d \u200b\u63d0\u4ea4\u200b Python \u200b\u4f5c\u4e1a\u200b\u6216\u200b\u7f16\u8bd1\u200b\u5305\u542b\u200b Python UDF \u200b\u7684\u200b Java/Scala \u200b\u4f5c\u4e1a\u200b\u65f6\u200b\uff0c\u200b\u7528\u4e8e\u200b\u53d1\u8d77\u200b Python \u200b\u8fdb\u7a0b\u200b\u7684\u200b Python \u200b\u89e3\u91ca\u5668\u200b\u7684\u200b\u8def\u5f84\u200b\uff08\u200b\u6bd4\u5982\u200b\uff0c--pyArchives file:///tmp/py37.zip --pyClientExecutable py37.zip/py37/python\uff09\u3002 -pyexec\u3001--pyExecutable \u200b\u6307\u5b9a\u200b\u7528\u4e8e\u200b\u6267\u884c\u200b Python UDF Worker \u200b\u7684\u200b Python \u200b\u89e3\u91ca\u5668\u200b\u7684\u200b\u8def\u5f84\u200b\uff08\u200b\u6bd4\u5982\u200b\uff0c--pyExecutable /usr/local/bin/python3\uff09\u3002Python UDF Worker \u200b\u4f9d\u8d56\u200b Python 3.7+\u3001Apache Beam\uff08\u200b\u7248\u672c\u200b == 2.43.0\uff09\u3001Pip\uff08\u200b\u7248\u672c\u200b &gt;= 20.3\uff09\u200b\u548c\u200b SetupTools\uff08\u200b\u7248\u672c\u200b &gt;= 37.0.0\uff09\u3002\u200b\u8bf7\u200b\u786e\u4fdd\u200b\u6307\u5b9a\u200b\u7684\u200b\u73af\u5883\u200b\u6ee1\u8db3\u200b\u4e0a\u8ff0\u200b\u8981\u6c42\u200b\u3002 -pyreq\u3001--pyRequirements \u200b\u6307\u5b9a\u200b\u5b9a\u4e49\u200b\u7b2c\u4e09\u65b9\u200b\u4f9d\u8d56\u200b\u7684\u200b requirements.txt \u200b\u6587\u4ef6\u200b\u3002\u200b\u8fd9\u4e9b\u200b\u4f9d\u8d56\u200b\u5c06\u200b\u88ab\u200b\u5b89\u88c5\u200b\uff0c\u200b\u5e76\u4e14\u200b\u88ab\u200b\u6dfb\u52a0\u200b\u5230\u200b Python UDF Worker \u200b\u7684\u200b PYTHONPATH\u3002\u200b\u53ef\u9009\u5730\u200b\u6307\u5b9a\u200b\u5305\u542b\u200b\u8fd9\u4e9b\u200b\u4f9d\u8d56\u200b\u7684\u200b\u5b89\u88c5\u5305\u200b\u7684\u200b\u76ee\u5f55\u200b\u3002\u200b\u5982\u679c\u200b\u53ef\u200b\u9009\u200b\u53c2\u6570\u200b\u5b58\u5728\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4f7f\u7528\u200b\u201c#\u201d\u200b\u4f5c\u4e3a\u200b\u5206\u9694\u7b26\u200b\uff08--pyRequirements file:///tmp/requirements.txt#file:///tmp/cached_dir\uff09\u3002 </li> <li> <p>Note: \u200b\u901a\u8fc7\u200b -pyarch \u200b\u6307\u5b9a\u200b\u7684\u200b\u5f52\u6863\u6587\u4ef6\u200b\u5c06\u200b\u901a\u8fc7\u200b Blob \u200b\u670d\u52a1\u200b\u88ab\u200b\u5206\u53d1\u200b\u5230\u200b TaskManager\uff0c\u200b\u6587\u4ef6\u5927\u5c0f\u200b\u9650\u5236\u200b\u662f\u200b 2GB\u3002\u200b\u5982\u679c\u200b\u5f52\u6863\u6587\u4ef6\u200b\u7684\u200b\u5927\u5c0f\u200b\u8d85\u8fc7\u200b 2GB\uff0c\u200b\u90a3\u4e48\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u5b83\u200b\u4e0a\u200b\u4f20\u5230\u200b\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u200b\uff0c\u200b\u7136\u540e\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u9009\u9879\u200b -pyarch \u200b\u4e2d\u200b\u4f7f\u7528\u200b\u8def\u5f84\u200b</p> </li> <li> <p>\u200b\u6253\u5305\u200bpyflink\u200b\u8fd0\u884c\u200b\u73af\u5883\u200b <pre><code># \u200b\u627e\u5230\u200b minconda(\u200b\u5b89\u88c5\u200b\u8def\u5f84\u200b envs\u200b\u76ee\u5f55\u200b\u4e0b\u200b) \u200b\u6216\u8005\u200b\u5bf9\u5e94\u200b\u865a\u62df\u73af\u5883\u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200b\n# \u200b\u6253\u5305\u200b pyflink-py38env \u200b\u865a\u62df\u73af\u5883\u200b\ncd -/conda/envs/pyflink-py38env\nzip -r pyflink-py38env.zip pyflink-py38env  #\n</code></pre></p> </li> <li> <p>Note\uff1a \u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u6253\u5305\u200b\u540e\u200b\u7684\u200bzip\u200b\u662f\u200b\u5355\u5c42\u200b\uff08pyflink-py38env.zip/bin/python\uff09\u200b\u7684\u200b\u8fd8\u662f\u200b\u53cc\u5c42\u200b\u7684\u200b(pyflink-py38env.zip/pyflink-py38env/bin/python)</p> </li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/PyFlink/#_5","title":"\u672c\u5730\u200b\u8fd0\u884c","text":"<ul> <li> <p>\u200b\u65e0\u200b\u4f9d\u8d56\u200b\u7684\u200b\u8fd0\u884c\u200b <pre><code>./bin/flink run --python examples/python/table/word_count.py   # pyflink/bin/flink\n</code></pre></p> </li> <li> <p>\u200b\u5f15\u5165\u200b\u5916\u90e8\u200b\u8d44\u6e90\u200b\u65f6\u200b\u8fd0\u884c\u200b <pre><code>./bin/flink run \\\n      --python examples/python/table/word_count.py \\\n      --pyFiles file:///user.txt,hdfs:///$namenode_address/username.txt\n</code></pre></p> </li> <li> <p>\u200b\u8fd0\u884c\u200b\u5f15\u7528\u200b Java UDF \u200b\u6216\u200b\u5916\u90e8\u200b\u8fde\u63a5\u5668\u200b\u7684\u200b PyFlink \u200b\u4f5c\u4e1a\u200b\u3002\u200b\u5728\u200b --jarfile \u200b\u6307\u5b9a\u200b\u7684\u200b\u6587\u4ef6\u200b\u5c06\u200b\u88ab\u200b\u4e0a\u200b\u4f20\u5230\u200b\u96c6\u7fa4\u200b\u3002 <pre><code>./bin/flink run \\\n      --python examples/python/table/word_count.py \\\n      --jarfile &lt;jarFile&gt;\n</code></pre></p> </li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/PyFlink/#jobmanager","title":"\u63d0\u4ea4\u200b\u5230\u200bJobManager","text":"<ul> <li>Tips\uff1a</li> <li>\u200b\u5982\u679c\u200b\u63d0\u4ea4\u200b\u7684\u200bpyflink\u200b\u7a0b\u5e8f\u200b\u53ca\u5176\u200b\u4f9d\u8d56\u200b\u5728\u200b\u672c\u5730\u200b\uff1a\u200b\u8def\u5f84\u200b\u53c2\u6570\u200b\u91c7\u7528\u200b\uff1afile:///</li> <li>\u200b\u5982\u679c\u200b\u63d0\u4ea4\u200b\u7684\u200bpyflink\u200b\u7a0b\u5e8f\u200b\u5728\u200b\u6587\u4ef6\u7cfb\u7edf\u200b\uff08\u200b\u5982\u200bhdfs\uff09,\u200b\u8def\u5f84\u200b\u53c2\u6570\u200b\u91c7\u7528\u200b\uff1ahdfs:///</li> <li> <p>\u200b\u5355\u200b\u6587\u4ef6\u200b\u63d0\u4ea4\u200b <pre><code>./flink run \\\n--jobmanager localhost:8081 \\\n-pyarch file:///path/pyflink-py38env.zip \\\n-pyexec pyflink-py38env.zip/bin/python3 \\\n-pyclientexec pyflink-py38env.zip/bin/python3 \\\n-py /pyflink-py38env/lib/python3.8/site-packages/pyflink/examples/table/word_count.py\n</code></pre></p> </li> <li> <p>\u200b\u4ee5\u200b\u5de5\u7a0b\u200b\uff08\u200b\u6587\u4ef6\u5939\u200b\uff09\u200b\u7684\u200b\u65b9\u5f0f\u200b\u63d0\u4ea4\u200b <pre><code>./flink run \\\n--jobmanager localhost:8081 \\\n-pyarch file:///path/pyflink-py38env.zip \\\n-pyexec pyflink-py38env.zip/bin/python3 \\\n-pyfs /pyflink-py38env/lib/python3.8/site-packages/pyflink/examples/table \\\n-pym word_count  # \u200b\u5165\u53e3\u200b\u7a0b\u5e8f\u200b\n</code></pre></p> </li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/PyFlink/#yarnflink-on-yarn","title":"\u63d0\u4ea4\u200b\u5230\u200bYARN\uff08Flink On YARN\uff09","text":"<p>\u200b\u6b64\u5904\u200b\u4f7f\u7528\u200b\u7684\u200brun-application\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u5176\u4ed6\u200b\u6a21\u5f0f\u200b\u7c7b\u4f3c\u200b</p> <ul> <li> <p>\u200b\u63d0\u4ea4\u200b\u7a0b\u5e8f\u200b\u5728\u200b\u672c\u5730\u200b <pre><code>./bin/flink run-application \\\n-t yarn-application \\\n-Dyarn.ship-files=/data/bluewhale/modelhub/model-pyflink-stream \\\n-Dyarn.application.name=pyflink-battery-calculate01 \\\n-pyarch model-pyflink-stream/pyflink-py38env.zip \\\n-pyclientexec pyflink-py38env/bin/python \\\n-pyexec pyflink-py38env/bin/python \\\n-pyfs model-pyflink-stream \\\n-pym evcrrc_calculate_code_by_kafka \\\n--jarfile /data/workspace/flink-1.17.1/lib/flink-sql-connector-kafka-1.17.1.jar\n</code></pre></p> </li> <li> <p>\u200b\u63d0\u4ea4\u200b\u7a0b\u5e8f\u200b\u5728\u200bhdfs</p> </li> <li>\u200b\u5728\u200b\u63d0\u4ea4\u200b\u7a0b\u5e8f\u200b\u524d\u200b\uff0c\u200b\u5148\u200b\u5c06\u200b\u7a0b\u5e8f\u200b\u548c\u200b\u76f8\u5173\u200b\u4f9d\u8d56\u200b\u4e0a\u200b\u4f20\u5230\u200bhdfs <pre><code>./bin/flink run-application \n-t yarn-application \\\n-pyarch hdfs:///data/mmodelhub/model-pyflink-stream/pyflink-py38env.zip \\\n-Dyarn.application.name=pyflink-stream-model-1 \\\n-pyclientexec pyflink-py38env.zip/bin/python \\\n-pyexec pyflink-py38env.zip/bin/python \\\n-py hdfs:///data/mmodelhub/model-pyflink-stream/pyflink-stream-kafka.py \\\n--jarfile /data/workspace/flink-1.17.1/lib/flink-sql-connector-kafka-1.17.1.jar\n</code></pre></li> </ul> <p>\u200b\u63d0\u4ea4\u200b\u7684\u200b\u662f\u200bpyflink-datastream\u200b\u6a21\u578b\u200b\uff0c\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u4e00\u4e0b\u200b\u53c2\u6570\u200b</p> <ul> <li>Dyarn.ship-files\uff1a \u200b\u8be5\u200b\u53c2\u6570\u200b\u9700\u8981\u200b\u6307\u5b9a\u200b\u4e86\u200bpyflink\u200b\u6d41\u200b\u6a21\u578b\u200b\u7684\u200b\u7edd\u5bf9\u8def\u5f84\u200b \uff0c\u200b\u8def\u5f84\u200b\u6307\u200b\u5230\u200b\u6a21\u578b\u200b\u6587\u4ef6\u5939\u200b  (\u200b\u672c\u5730\u200b\u63d0\u4ea4\u200b\u65f6\u624d\u200b\u4f1a\u200b\u6307\u5b9a\u200b)</li> <li>-pyfs\u200b\u548c\u200b-pym\u200b\u9700\u8981\u200b\u4e00\u8d77\u200b\u4f7f\u7528\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/PyFlink/#_6","title":"\u5b9e\u8df5\u200b\u603b\u7ed3","text":"<ul> <li>\u200b\u4f7f\u7528\u200bApplication\u200b\u6a21\u5f0f\u200b\u63d0\u4ea4\u200bpyflink\u200b\u7a0b\u5e8f\u200b\u65f6\u200b\uff0c\u200b\u5efa\u8bae\u200b\u4f18\u5148\u200b\u5c06\u200bpyflink\u200b\u7a0b\u5e8f\u200b\u4f7f\u7528\u200b\u5230\u200b\u7684\u200b\u4f9d\u8d56\u200b\u5305\u200b\uff0c\u200b\u6267\u884c\u200b\u73af\u5883\u200b\u63d0\u524d\u200b\u4e0a\u200b\u4f20\u5230\u200bHDFS\u200b\u6587\u4ef6\u7cfb\u7edf\u200b\uff08\u200b\u6216\u200b\u5176\u4ed6\u200b\u6587\u4ef6\u7cfb\u7edf\u200b\uff09\u200b\u4e0a\u200b\uff0c\u200b\u518d\u200b\u5728\u200bShell \u200b\u547d\u4ee4\u200b\u4e2d\u4ee5\u200bhdfs:///\u200b\u7684\u200b\u65b9\u5f0f\u200b\u6307\u5b9a\u200b\u9700\u8981\u200b\u7528\u5230\u200b\u7684\u200b\u8d44\u6e90\u200b\u8def\u5f84\u200b\uff0c\u200b\u4ee5\u200b\u63d0\u9ad8\u200b\u4f5c\u4e1a\u200b\u63d0\u4ea4\u200b\u7684\u200b\u6548\u7387\u200b\u3002</li> <li>\u200b\u5728\u200b\u5f00\u53d1\u200bpyflink\u200b\u7a0b\u5e8f\u200b\u65f6\u200b\uff0c\u200b\u82e5\u200b\u9700\u8981\u200b\u5f15\u5165\u200b\u7b2c\u4e09\u65b9\u200bJar\uff0c\u200b\u5efa\u8bae\u200b\u5728\u200b\u63d0\u4ea4\u200b\u4efb\u52a1\u200b\u65f6\u200b\u901a\u8fc7\u200b--jarfile \u200b\u6307\u5b9a\u200bJar\u200b\u5305\u200b\uff0c\u200b\u4e0d\u200b\u5efa\u8bae\u200b\u5728\u200b\u4ee3\u7801\u200b\u4e2d\u200b\u901a\u8fc7\u200badd_jar\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u6b64\u200b\u65b9\u5f0f\u200b\u76ee\u524d\u200b\u4ec5\u200b\u652f\u6301\u200b\u6307\u5b9a\u200b\u672c\u5730\u200bJar\u200b\u8def\u5f84\u200b\uff0c\u200b\u4e0d\u200b\u652f\u6301\u200b\u6307\u5b9a\u200bhdfs\u200b\u8def\u5f84\u200b\u3002</li> <li>\u200b\u5728\u200bFlink On Yarn\u200b\u9ad8\u200b\u53ef\u7528\u200b\u67b6\u6784\u200b\u4e0b\u200b\uff0c\u200b\u76ee\u524d\u200b\u9047\u5230\u200b\u63d0\u4ea4\u200b\u591a\u4e2a\u200b\u4efb\u52a1\u200b\uff0c\u200b\u5728\u200b\u96c6\u7fa4\u200b\u4e2d\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u4efb\u52a1\u200b\u6b63\u5e38\u200b\u6267\u884c\u200b\uff0c\u200b\u5176\u4ed6\u200b\u4efb\u52a1\u200b\u63d0\u4ea4\u200b\u6210\u529f\u200b\u4f46\u200b\u672a\u200b\u6267\u884c\u200b\u7684\u200b\u95ee\u9898\u200b\uff0c\u200b\u76ee\u524d\u200b\u89e3\u51b3\u65b9\u6848\u200b\u662f\u200b\uff1a\u200b\u5728\u200bflink-conf.yaml\u200b\u914d\u7f6e\u200b\u4e2d\u200b\uff0c\u200b\u5c06\u200bcluster.id\u200b\u914d\u7f6e\u200b\u5185\u5bb9\u200b\u6ce8\u91ca\u200b\u6389\u200b\uff0c\u200b\u6b64\u200b\u914d\u7f6e\u200b\u4e3b\u8981\u200b\u7528\u4e8e\u200bzookeeper\u200b\u7ba1\u7406\u200b\u591a\u4e2a\u200bflink\u200b\u96c6\u7fa4\u200b\uff0c\u200b\u81f3\u4e8e\u200b\u9ad8\u200b\u53ef\u7528\u200b\u90e8\u7f72\u200b\u573a\u666f\u200b\u8be5\u200b\u914d\u7f6e\u200b\u662f\u5426\u200b\u4e3a\u200b\u5fc5\u200b\u914d\u7f6e\u200b\u9879\u200b\uff0c\u200b\u6682\u672a\u200b\u6df1\u5165\u5206\u6790\u200b\uff1b\u200b\u53c2\u8003\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/PyFlink/#_7","title":"\u62d3\u5c55\u200b\uff1a","text":"","tags":["Python"]},{"location":"python/python_lib/libs/PyFlink/#pyflink_3","title":"pyflink\u200b\u76f8\u5173\u200b\u5f00\u6e90\u200b\u9879\u76ee\u200b\uff1a","text":"<ul> <li>Provide docker environment and examples for PyFlink</li> <li>\u200b\u5feb\u901f\u200b\u5165\u95e8\u200bpyflink</li> <li>Gathers Python deployment, infrastructure and practices.</li> </ul> <p>\u200b\u53c2\u8003\u200b\u535a\u6587\u200b\uff1a</p> <ul> <li>https://devpress.csdn.net/big-data/647a9c5d762a09416a07f59b.html</li> <li>https://developer.aliyun.com/article/743088</li> <li>https://www.modb.pro/db/128620\uff1aPyFlink\u200b\u6838\u5fc3\u6280\u672f\u200b\u63ed\u79d8\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Supervisor/","title":"Supervisor -> \u200b\u8fdb\u7a0b\u200b\u7ba1\u7406\u5de5\u5177","text":"","tags":["Python"]},{"location":"python/python_lib/libs/Supervisor/#_1","title":"\u6982\u8ff0\u200b\uff1a","text":"<p>\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\uff1ahttp://supervisord.org/</p> <p>supervisor\u200b\u662f\u200b\u7528\u200bpython\u200b\u5f00\u53d1\u200b\u7684\u200b\u4e00\u6b3e\u200b\u7528\u4e8e\u200blinux\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u7ba1\u7406\u5de5\u5177\u200b\uff0csupervisor\u200b\u53ef\u4ee5\u200b\u9ad8\u6548\u200b\u5730\u200b\u5b9e\u73b0\u200b\u5bf9\u200b\u8fdb\u7a0b\u200b\u72b6\u6001\u200b\u7684\u200b\u76d1\u63a7\u200b\u53ca\u200b\u7edf\u4e00\u200b\u7ba1\u7406\u200b</p> <ul> <li>supervisor\u200b\u5206\u4e3a\u200bsupervisord\uff08\u200b\u670d\u52a1\u7aef\u200b\uff09\u200b\u548c\u200bsupervisorctl\uff08\u200b\u5ba2\u6237\u7aef\u200b\uff09\u200b\u4e24\u200b\u90e8\u5206\u200b</li> <li>supervisord\u200b\u4f5c\u4e3a\u200b\u670d\u52a1\u7aef\u200b\u8d1f\u8d23\u200b\u6240\u6709\u200b\u7684\u200b\u6ce8\u518c\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u542f\u52a8\u200b\u53ca\u200b\u76d1\u63a7\u200b\uff0c\u200b\u51fa\u73b0\u200b\u5d29\u6e83\u200b\u7684\u200b\u670d\u52a1\u200b\u65f6\u4f1a\u200b\u81ea\u52a8\u200b\u91cd\u542f\u200b</li> <li>supervisorctl\u200b\u662f\u200b\u5ba2\u6237\u7aef\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b\u5bf9\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u7ba1\u7406\u200b\uff0c\u200b\u5982\u200b\u542f\u52a8\u200b\u3001\u200b\u505c\u6b62\u200b\u3001\u200b\u91cd\u542f\u200b\u7b49\u200b</li> </ul> <p>\u200b\u6ce8\u610f\u200b\uff1a</p> <ul> <li>supervisord \u200b\u8981\u6c42\u200b\u7ba1\u7406\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u662f\u975e\u200b daemon \u200b\u7a0b\u5e8f\u200b\uff0c \u200b\u56e0\u6b64\u200b\u7528\u200bsupervisord \u200b\u6765\u200b\u7ba1\u7406\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u8fdb\u7a0b\u200b\u9700\u8981\u200b\u4ee5\u975e\u200bdaemon\u200b\u7684\u200b\u65b9\u5f0f\u200b\u542f\u52a8\u200b\u3002</li> <li>\u200b\u4f8b\u5982\u200b\uff1a\u200b\u7ba1\u7406\u200bnginx\uff0c\u200b\u5fc5\u987b\u200b\u5728\u200b nginx \u200b\u7684\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u91cc\u200b\u6dfb\u52a0\u200b\u4e00\u884c\u200b\u8bbe\u7f6e\u200b daemon off \u200b\u8ba9\u200b nginx \u200b\u4ee5\u975e\u200b daemon \u200b\u65b9\u5f0f\u200b\u542f\u52a8\u200b\u3002</li> <li>\u200b\u6bcf\u6b21\u200b\u4fee\u6539\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u540e\u200b\u9700\u200b\u8fdb\u5165\u200b supervisorctl\uff0c\u200b\u6267\u884c\u200b reload\uff0c \u200b\u6539\u52a8\u200b\u90e8\u5206\u200b\u624d\u80fd\u200b\u751f\u6548\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Supervisor/#_2","title":"\u4f7f\u7528\u200b\uff1a","text":"","tags":["Python"]},{"location":"python/python_lib/libs/Supervisor/#_3","title":"\u5b89\u88c5","text":"<pre><code>pip install supervisor\n\n# \u200b\u751f\u6210\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u5230\u200b\u6307\u5b9a\u200b\u8def\u5f84\u200b\uff08\u200b\u6b64\u5904\u200b\u8def\u5f84\u200b\u6307\u5b9a\u200b\u4e3a\u4e86\u200b/etc/supervisord.conf\uff09\necho_supervisord_conf &gt; /etc/supervisord.conf\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Supervisor/#_4","title":"\u5e38\u7528\u547d\u4ee4\u200b\uff1a","text":"<ul> <li> <p>supervisord: \u200b\u670d\u52a1\u7aef\u200b\u547d\u4ee4\u200b\uff1a <pre><code># \u200b\u542f\u52a8\u200b\u670d\u52a1\u200b\nsupervisord -c /etc/supervisord.conf\n\n# \u200b\u67e5\u770b\u200b\u662f\u5426\u200b\u5728\u200b\u8fd0\u884c\u200b\nps aux | grep supervisord\n</code></pre></p> </li> <li> <p>supervisorctl: \u200b\u5ba2\u6237\u7aef\u200b\u547d\u4ee4\u200b\uff1a <pre><code>supervisorctl status                         # \u200b\u67e5\u770b\u200b\u8fdb\u7a0b\u200b\u72b6\u6001\u200b\nsupervisorctl start program_name             # \u200b\u542f\u52a8\u200bprogram_name\u200b\u8fdb\u7a0b\u200b\nsupervisorctl stop program_name              # \u200b\u7ec8\u6b62\u200bprogram_name\u200b\u8fdb\u7a0b\u200b\nsupervisorctl restart program_name           # \u200b\u91cd\u542f\u200bprogram_name\u200b\u8fdb\u7a0b\u200b\nsupervisorctl reread                         # \u200b\u66f4\u65b0\u200b\u914d\u7f6e\u200b\uff0c\u200b\u6839\u636e\u200b\u6700\u65b0\u200b\u7684\u200b\u914d\u7f6e\u200b\u542f\u52a8\u200b\u6240\u6709\u200b\u7a0b\u5e8f\u200b\nsupervisorctl update                         # \u200b\u66f4\u65b0\u200b\u914d\u7f6e\u200b\uff0c\u200b\u91cd\u542f\u200b\u914d\u7f6e\u200b\u6709\u200b\u53d8\u5316\u200b\u7684\u200b\u8fdb\u7a0b\u200b\n</code></pre></p> </li> <li> <p>supervisorctl: shell\u200b\u547d\u4ee4\u200b\uff1a <pre><code>supervisorctl                # \u200b\u8fdb\u5165\u200bshell\u200b\u547d\u4ee4\u884c\u200b\n&gt; status                     # \u200b\u67e5\u770b\u200b\u8fdb\u7a0b\u200b\u72b6\u6001\u200b\n&gt; start program_name         # \u200b\u542f\u52a8\u200bprogram_name\u200b\u8fdb\u7a0b\u200b\n&gt; stop program_name          # \u200b\u7ec8\u6b62\u200bprogram_name\u200b\u8fdb\u7a0b\u200b\n&gt; restart program_name       # \u200b\u91cd\u542f\u200bprogram_name\u200b\u8fdb\u7a0b\u200b\n&gt; reread                     # \u200b\u66f4\u65b0\u200b\u914d\u7f6e\u200b\uff0c\u200b\u6839\u636e\u200b\u6700\u65b0\u200b\u7684\u200b\u914d\u7f6e\u200b\u542f\u52a8\u200b\u6240\u6709\u200b\u7a0b\u5e8f\u200b\n&gt; update                     # \u200b\u66f4\u65b0\u200b\u914d\u7f6e\u200b\uff0c\u200b\u91cd\u542f\u200b\u914d\u7f6e\u200b\u6709\u200b\u53d8\u5316\u200b\u7684\u200b\u8fdb\u7a0b\u200b\n&gt; start fastapi:*            # \u200b\u542f\u52a8\u200b fastapi\u200b\u7ec4\u200b \u200b\u7a0b\u5e8f\u200b\n&gt; stop fastapi:*             # \u200b\u505c\u6b62\u200b fastapi\u200b\u7ec4\u200b \u200b\u7a0b\u5e8f\u200b\n</code></pre></p> </li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Supervisor/#_5","title":"\u5feb\u901f\u200b\u4f7f\u7528\u200b\uff1a","text":"<ul> <li>step1\uff1a\u200b\u7f16\u8f91\u200bsupervisor\u200b\u914d\u7f6e\u6587\u4ef6\u200b</li> <li> <p>\u200b\u5728\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u7684\u200b\u672b\u5c3e\u200b\u52a0\u4e0a\u200b[include]\u200b\u5185\u5bb9\u200b <pre><code>...\n[include]\nfiles=/etc/supervisor.d/*.conf  #\u200b\u82e5\u200b\u4f60\u200b\u672c\u5730\u200b\u65e0\u200b/etc/supervisor.d\u200b\u76ee\u5f55\u200b\uff0c\u200b\u8bf7\u200b\u81ea\u5efa\u200b\n...\n</code></pre></p> </li> <li> <p>step2\uff1a\u200b\u65b0\u5efa\u200b/etc/supervisor.d/.demo.conf \u200b\u914d\u7f6e\u6587\u4ef6\u200b <pre><code>[program:\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u670d\u52a1\u200b\u540d\u79f0\u200b]\ncommand=python3 /xxxx/main.py  #\u200b\u670d\u52a1\u200b\u7684\u200b\u542f\u52a8\u200b\u547d\u4ee4\u200b\uff0c\u200b\u5728\u200b\u8fd9\u91cc\u200b\u7528\u200b\u7684\u200bpython\u200b\u73af\u5883\u200b\u4e3a\u200bsupervisor\u200b\u5b89\u88c5\u200b\u7684\u200b\u73af\u5883\u200b\uff0c\u200b\u82e5\u60f3\u200b\u6307\u5b9a\u200b\u5176\u4ed6\u200bpython\u200b\u73af\u5883\u200b\u5219\u200b\u53ef\u200b\u6307\u5b9a\u200bpython\u200b\u5305\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u5982\u200bcommand=xxxx/xxxx/bin/python3 /xxxx/main.py\u200b\u4fbf\u200b\u53ef\u200b\nprocess_name=%(program_name)s\nstdout_logfile=/home/task.log  #\u200b\u8f93\u51fa\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\uff0c\u200b\u53ef\u200b\u6839\u636e\u200b\u9700\u8981\u200b\u81ea\u5b9a\u4e49\u200b\nstderr_logfile=/home/task.log  #\u200b\u62a5\u9519\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\uff0c\u200b\u53ef\u200b\u6839\u636e\u200b\u9700\u8981\u200b\u81ea\u5b9a\u4e49\u200b\n</code></pre></p> </li> <li> <p>step3:\u200b\u542f\u52a8\u200b <pre><code>supervisord -c /etc/supervisor.conf\n</code></pre></p> </li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Supervisor/#_6","title":"\u914d\u7f6e\u6587\u4ef6\u200b\u89e3\u8bfb\u200b\uff1a","text":"","tags":["Python"]},{"location":"python/python_lib/libs/Supervisor/#_7","title":"\u5e38\u7528\u200b\u914d\u7f6e\u200b\u89e3\u8bfb","text":"<ul> <li>\u200b\u6253\u5f00\u200b\u914d\u7f6e\u6587\u4ef6\u200b\uff1a /etc/supervisord.conf <pre><code>[unix_http_server]\nfile=/tmp/supervisor.sock   ;UNIX socket \u200b\u6587\u4ef6\u200b\uff0csupervisorctl \u200b\u4f1a\u200b\u4f7f\u7528\u200b\n;chmod=0700                 ;socket\u200b\u6587\u4ef6\u200b\u7684\u200bmode\uff0c\u200b\u9ed8\u8ba4\u200b\u662f\u200b0700\n;chown=nobody:nogroup       ;socket\u200b\u6587\u4ef6\u200b\u7684\u200bowner\uff0c\u200b\u683c\u5f0f\u200b\uff1auid:gid\n\n[inet_http_server]         ;HTTP\u200b\u670d\u52a1\u5668\u200b\uff0c\u200b\u63d0\u4f9b\u200bweb\u200b\u7ba1\u7406\u200b\u754c\u9762\u200b\nport=0.0.0.0:9001          ;Web\u200b\u7ba1\u7406\u200b\u540e\u53f0\u200b\u8fd0\u884c\u200b\u7684\u200bIP\u200b\u548c\u200b\u7aef\u53e3\u200b\uff0c\u200b\u5982\u679c\u200b\u5f00\u653e\u200b\u5230\u200b\u516c\u7f51\u200b\uff0c\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u5b89\u5168\u6027\u200b\nusername=user              ;\u200b\u767b\u5f55\u200b\u7ba1\u7406\u200b\u540e\u53f0\u200b\u7684\u200b\u7528\u6237\u540d\u200b\npassword=123               ;\u200b\u767b\u5f55\u200b\u7ba1\u7406\u200b\u540e\u53f0\u200b\u7684\u200b\u5bc6\u7801\u200b\n\n[supervisord]\nlogfile=/tmp/supervisord.log ;\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u662f\u200b $CWD/supervisord.log\nlogfile_maxbytes=50MB        ;\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u5927\u5c0f\u200b\uff0c\u200b\u8d85\u51fa\u200b\u4f1a\u200brotate\uff0c\u200b\u9ed8\u8ba4\u200b 50MB\uff0c\u200b\u5982\u679c\u200b\u8bbe\u200b\u6210\u200b0\uff0c\u200b\u8868\u793a\u200b\u4e0d\u200b\u9650\u5236\u200b\u5927\u5c0f\u200b\nlogfile_backups=10           ;\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b\u4fdd\u7559\u200b\u5907\u4efd\u200b\u6570\u91cf\u200b\u9ed8\u8ba4\u200b10\uff0c\u200b\u8bbe\u200b\u4e3a\u200b0\u200b\u8868\u793a\u200b\u4e0d\u200b\u5907\u4efd\u200b\nloglevel=info                ;\u200b\u65e5\u5fd7\u200b\u7ea7\u522b\u200b\uff0c\u200b\u9ed8\u8ba4\u200binfo\uff0c\u200b\u5176\u5b83\u200b: debug,warn,trace\npidfile=/tmp/supervisord.pid ;pid \u200b\u6587\u4ef6\u200b\nnodaemon=false               ;\u200b\u662f\u5426\u200b\u5728\u200b\u524d\u53f0\u200b\u542f\u52a8\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u662f\u200bfalse\uff0c\u200b\u5373\u4ee5\u200b daemon \u200b\u7684\u200b\u65b9\u5f0f\u200b\u542f\u52a8\u200b\nminfds=1024                  ;\u200b\u53ef\u4ee5\u200b\u6253\u5f00\u200b\u7684\u200b\u6587\u4ef6\u200b\u63cf\u8ff0\u7b26\u200b\u7684\u200b\u6700\u5c0f\u503c\u200b\uff0c\u200b\u9ed8\u8ba4\u200b 1024\nminprocs=200                 ;\u200b\u53ef\u4ee5\u200b\u6253\u5f00\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u6570\u200b\u7684\u200b\u6700\u5c0f\u503c\u200b\uff0c\u200b\u9ed8\u8ba4\u200b 200\n\n[supervisorctl]\nserverurl=unix:///tmp/supervisor.sock ;\u200b\u901a\u8fc7\u200bUNIX socket\u200b\u8fde\u63a5\u200bsupervisord\uff0c\u200b\u8def\u5f84\u200b\u4e0e\u200bunix_http_server\u200b\u90e8\u5206\u200b\u7684\u200bfile\u200b\u4e00\u81f4\u200b\n;serverurl=http://127.0.0.1:9001 ; \u200b\u901a\u8fc7\u200bHTTP\u200b\u7684\u200b\u65b9\u5f0f\u200b\u8fde\u63a5\u200bsupervisord\n\n\n# \u200b\u4ee5\u4e0a\u200b\u4e1c\u897f\u200b\u90fd\u200b\u4e0d\u200b\u9700\u8981\u200b\u6539\u200b\uff0c\u200b\u5c31\u52a0\u200b\u4e0b\u9762\u200b\u8fd9\u200b\u884c\u200b\n[include]\nfiles=/etc/supervisor.d/*.conf  #\u200b\u82e5\u200b\u4f60\u200b\u672c\u5730\u200b\u65e0\u200b/etc/supervisor.d\u200b\u76ee\u5f55\u200b\uff0c\u200b\u8bf7\u200b\u81ea\u5efa\u200b\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Supervisor/#_8","title":"\u8be6\u7ec6\u200b\u914d\u7f6e\u200b\u89e3\u8bfb\u200b\uff1a","text":"<pre><code>[unix_http_server]            \n\nfile=/tmp/supervisor.sock   ; socket\u200b\u6587\u4ef6\u200b\u7684\u200b\u8def\u5f84\u200b\uff0csupervisorctl\u200b\u7528\u200bXML_RPC\u200b\u548c\u200bsupervisord\u200b\u901a\u4fe1\u200b\u5c31\u662f\u200b\u901a\u8fc7\u200b\u5b83\u200b\u8fdb\u884c\u200b\n\n                              \u200b\u7684\u200b\u3002\u200b\u5982\u679c\u200b\u4e0d\u200b\u8bbe\u7f6e\u200b\u7684\u8bdd\u200b\uff0csupervisorctl\u200b\u4e5f\u200b\u5c31\u200b\u4e0d\u80fd\u200b\u7528\u200b\u4e86\u200b  \n\n                              \u200b\u4e0d\u200b\u8bbe\u7f6e\u200b\u7684\u8bdd\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200bnone\u3002 \u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b        \n\n;chmod=0700                 ; \u200b\u8fd9\u4e2a\u200b\u7b80\u5355\u200b\uff0c\u200b\u5c31\u662f\u200b\u4fee\u6539\u200b\u4e0a\u9762\u200b\u7684\u200b\u90a3\u4e2a\u200bsocket\u200b\u6587\u4ef6\u200b\u7684\u200b\u6743\u9650\u200b\u4e3a\u200b0700\n\n                              \u200b\u4e0d\u200b\u8bbe\u7f6e\u200b\u7684\u8bdd\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b0700\u3002 \u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;chown=nobody:nogroup       ; \u200b\u8fd9\u4e2a\u200b\u4e00\u6837\u200b\uff0c\u200b\u4fee\u6539\u200b\u4e0a\u9762\u200b\u7684\u200b\u90a3\u4e2a\u200bsocket\u200b\u6587\u4ef6\u200b\u7684\u200b\u5c5e\u200b\u7ec4\u4e3a\u200buser.group\n\n                              \u200b\u4e0d\u200b\u8bbe\u7f6e\u200b\u7684\u8bdd\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b\u542f\u52a8\u200bsupervisord\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u7528\u6237\u200b\u53ca\u200b\u5c5e\u200b\u7ec4\u200b\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;username=user              ; \u200b\u4f7f\u7528\u200bsupervisorctl\u200b\u8fde\u63a5\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u8ba4\u8bc1\u200b\u7684\u200b\u7528\u6237\u200b\n\n                               \u200b\u4e0d\u200b\u8bbe\u7f6e\u200b\u7684\u8bdd\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b\u4e0d\u200b\u9700\u8981\u200b\u7528\u6237\u200b\u3002 \u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;password=123               ; \u200b\u548c\u200b\u4e0a\u9762\u200b\u7684\u200b\u7528\u6237\u540d\u200b\u5bf9\u5e94\u200b\u7684\u200b\u5bc6\u7801\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b\u660e\u7801\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200bSHA\u200b\u52a0\u5bc6\u200b\n\n                              \u200b\u5982\u200b\uff1a{SHA}82ab876d1387bfafe46cc1c8a2ef074eae50cb1d\n\n                              \u200b\u9ed8\u8ba4\u200b\u4e0d\u200b\u8bbe\u7f6e\u200b\u3002\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;[inet_http_server]         ; \u200b\u4fa6\u542c\u200b\u5728\u200bTCP\u200b\u4e0a\u200b\u7684\u200bsocket\uff0cWeb Server\u200b\u548c\u200b\u8fdc\u7a0b\u200b\u7684\u200bsupervisorctl\u200b\u90fd\u200b\u8981\u200b\u7528\u5230\u200b\u4ed6\u200b\n\n                              \u200b\u4e0d\u200b\u8bbe\u7f6e\u200b\u7684\u8bdd\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b\u4e0d\u200b\u5f00\u542f\u200b\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;port=127.0.0.1:9001        ; \u200b\u8fd9\u4e2a\u200b\u662f\u200b\u4fa6\u542c\u200b\u7684\u200bIP\u200b\u548c\u200b\u7aef\u53e3\u200b\uff0c\u200b\u4fa6\u542c\u200b\u6240\u6709\u200bIP\u200b\u7528\u200b :9001\u200b\u6216\u200b*:9001\u3002\n\n                              \u200b\u8fd9\u4e2a\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\uff0c\u200b\u53ea\u8981\u200b\u4e0a\u9762\u200b\u7684\u200b[inet_http_server]\u200b\u5f00\u542f\u200b\u4e86\u200b\uff0c\u200b\u5c31\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\u5b83\u200b\n\n;username=user              ; \u200b\u8fd9\u4e2a\u200b\u548c\u200b\u4e0a\u9762\u200b\u7684\u200buinx_http_server\u200b\u4e00\u4e2a\u6837\u200b\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;password=123               ; \u200b\u8fd9\u4e2a\u200b\u4e5f\u200b\u4e00\u4e2a\u6837\u200b\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n[supervisord]                ;\u200b\u8fd9\u4e2a\u200b\u4e3b\u8981\u200b\u662f\u200b\u5b9a\u4e49\u200bsupervisord\u200b\u8fd9\u4e2a\u200b\u670d\u52a1\u7aef\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u4e00\u4e9b\u200b\u53c2\u6570\u200b\u7684\u200b\n\n                              \u200b\u8fd9\u4e2a\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\uff0c\u200b\u4e0d\u200b\u8bbe\u7f6e\u200b\uff0csupervisor\u200b\u5c31\u200b\u4e0d\u7528\u200b\u5e72\u6d3b\u200b\u4e86\u200b\n\nlogfile=/tmp/supervisord.log ; \u200b\u8fd9\u4e2a\u200b\u662f\u200bsupervisord\u200b\u8fd9\u4e2a\u200b\u4e3b\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u65e5\u5fd7\u200b\u8def\u5f84\u200b\uff0c\u200b\u6ce8\u610f\u200b\u548c\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u65e5\u5fd7\u200b\u4e0d\u200b\u642d\u200b\u560e\u200b\u3002\n\n                               \u200b\u9ed8\u8ba4\u200b\u8def\u5f84\u200b$CWD/supervisord.log\uff0c$CWD\u200b\u662f\u200b\u5f53\u524d\u76ee\u5f55\u200b\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\nlogfile_maxbytes=50MB        ; \u200b\u8fd9\u4e2a\u200b\u662f\u200b\u4e0a\u9762\u200b\u90a3\u4e2a\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b\u7684\u200b\u6700\u5927\u200b\u7684\u200b\u5927\u5c0f\u200b\uff0c\u200b\u5f53\u200b\u8d85\u8fc7\u200b50M\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u4f1a\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u65e5\u200b \n\n                               \u200b\u5fd7\u200b\u6587\u4ef6\u200b\u3002\u200b\u5f53\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b0\u200b\u65f6\u200b\uff0c\u200b\u8868\u793a\u200b\u4e0d\u200b\u9650\u5236\u200b\u6587\u4ef6\u5927\u5c0f\u200b\n\n                               \u200b\u9ed8\u8ba4\u503c\u200b\u662f\u200b50M\uff0c\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\u3002              \n\nlogfile_backups=10           ; \u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b\u4fdd\u6301\u200b\u7684\u200b\u6570\u91cf\u200b\uff0c\u200b\u4e0a\u9762\u200b\u7684\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b\u5927\u4e8e\u200b50M\u200b\u65f6\u200b\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u6587\u4ef6\u200b\u3002\u200b\u6587\u4ef6\u200b\n\n                               \u200b\u6570\u91cf\u200b\u5927\u4e8e\u200b10\u200b\u65f6\u200b\uff0c\u200b\u6700\u521d\u200b\u7684\u200b\u8001\u200b\u6587\u4ef6\u200b\u88ab\u200b\u65b0\u200b\u6587\u4ef6\u200b\u8986\u76d6\u200b\uff0c\u200b\u6587\u4ef6\u200b\u6570\u91cf\u200b\u5c06\u200b\u4fdd\u6301\u200b\u4e3a\u200b10\n\n                               \u200b\u5f53\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b0\u200b\u65f6\u200b\uff0c\u200b\u8868\u793a\u200b\u4e0d\u200b\u9650\u5236\u200b\u6587\u4ef6\u200b\u7684\u200b\u6570\u91cf\u200b\u3002\n\n                               \u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u4e3a\u200b10\u3002\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\nloglevel=info                ; \u200b\u65e5\u5fd7\u200b\u7ea7\u522b\u200b\uff0c\u200b\u6709\u200bcritical, error, warn, info, debug, trace, or blather\u200b\u7b49\u200b\n\n                               \u200b\u9ed8\u8ba4\u200b\u4e3a\u200binfo\u3002\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\u9879\u200b\n\npidfile=/tmp/supervisord.pid ; supervisord\u200b\u7684\u200bpid\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\u3002\n\n                               \u200b\u9ed8\u8ba4\u200b\u4e3a\u200b$CWD/supervisord.pid\u3002\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\nnodaemon=false               ; \u200b\u5982\u679c\u200b\u662f\u200btrue\uff0csupervisord\u200b\u8fdb\u7a0b\u200b\u5c06\u200b\u5728\u200b\u524d\u53f0\u200b\u8fd0\u884c\u200b\n\n                               \u200b\u9ed8\u8ba4\u200b\u4e3a\u200bfalse\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u540e\u53f0\u200b\u4ee5\u200b\u5b88\u62a4\u200b\u8fdb\u7a0b\u200b\u8fd0\u884c\u200b\u3002\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\nminfds=1024                  ; \u200b\u8fd9\u4e2a\u200b\u662f\u200b\u6700\u5c11\u200b\u7cfb\u7edf\u200b\u7a7a\u95f2\u200b\u7684\u200b\u6587\u4ef6\u200b\u63cf\u8ff0\u7b26\u200b\uff0c\u200b\u4f4e\u4e8e\u200b\u8fd9\u4e2a\u200b\u503c\u200bsupervisor\u200b\u5c06\u200b\u4e0d\u4f1a\u200b\u542f\u52a8\u200b\u3002\n\n                               \u200b\u7cfb\u7edf\u200b\u7684\u200b\u6587\u4ef6\u200b\u63cf\u8ff0\u7b26\u200b\u5728\u200b\u8fd9\u91cc\u200b\u8bbe\u7f6e\u200bcat /proc/sys/fs/file-max\n\n                               \u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u4e3a\u200b1024\u3002\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\nminprocs=200                 ; \u200b\u6700\u5c0f\u200b\u53ef\u7528\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u63cf\u8ff0\u7b26\u200b\uff0c\u200b\u4f4e\u4e8e\u200b\u8fd9\u4e2a\u200b\u503c\u200bsupervisor\u200b\u4e5f\u200b\u5c06\u200b\u4e0d\u4f1a\u200b\u6b63\u5e38\u200b\u542f\u52a8\u200b\u3002\n\n                              ulimit  -u\u200b\u8fd9\u4e2a\u200b\u547d\u4ee4\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u67e5\u770b\u200blinux\u200b\u4e0b\u9762\u200b\u7528\u6237\u200b\u7684\u200b\u6700\u5927\u200b\u8fdb\u7a0b\u200b\u6570\u200b\n\n                              \u200b\u9ed8\u8ba4\u200b\u4e3a\u200b200\u3002\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;umask=022                   ; \u200b\u8fdb\u7a0b\u200b\u521b\u5efa\u200b\u6587\u4ef6\u200b\u7684\u200b\u63a9\u7801\u200b\n\n                               \u200b\u9ed8\u8ba4\u200b\u4e3a\u200b022\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\u9879\u200b\n\n;user=chrism                 ; \u200b\u8fd9\u4e2a\u200b\u53c2\u6570\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u4e00\u4e2a\u200b\u975e\u200broot\u200b\u7528\u6237\u200b\uff0c\u200b\u5f53\u200b\u6211\u4eec\u200b\u4ee5\u200broot\u200b\u7528\u6237\u200b\u542f\u52a8\u200bsupervisord\u200b\u4e4b\u540e\u200b\u3002\n\n                               \u200b\u6211\u200b\u8fd9\u200b\u91cc\u9762\u200b\u8bbe\u7f6e\u200b\u7684\u200b\u8fd9\u4e2a\u200b\u7528\u6237\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5bf9\u200bsupervisord\u200b\u8fdb\u884c\u200b\u7ba1\u7406\u200b\n\n                               \u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200b\u662f\u200b\u4e0d\u200b\u8bbe\u7f6e\u200b\u3002\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\u9879\u200b\n\n;identifier=supervisor       ; \u200b\u8fd9\u4e2a\u200b\u53c2\u6570\u200b\u662f\u200bsupervisord\u200b\u7684\u200b\u6807\u8bc6\u7b26\u200b\uff0c\u200b\u4e3b\u8981\u200b\u662f\u200b\u7ed9\u200bXML_RPC\u200b\u7528\u200b\u7684\u200b\u3002\u200b\u5f53\u200b\u4f60\u200b\u6709\u200b\u591a\u4e2a\u200b\n\n                               supervisor\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u800c\u4e14\u200b\u60f3\u200b\u8c03\u7528\u200bXML_RPC\u200b\u7edf\u4e00\u200b\u7ba1\u7406\u200b\uff0c\u200b\u5c31\u200b\u9700\u8981\u200b\u4e3a\u200b\u6bcf\u4e2a\u200b\n\n                               supervisor\u200b\u8bbe\u7f6e\u200b\u4e0d\u540c\u200b\u7684\u200b\u6807\u8bc6\u7b26\u200b\u4e86\u200b\n\n                               \u200b\u9ed8\u8ba4\u200b\u662f\u200bsupervisord\u3002\u3002\u3002\u200b\u975e\u200b\u5fc5\u9700\u200b\u8bbe\u7f6e\u200b\n\n;directory=/tmp              ; \u200b\u8fd9\u4e2a\u200b\u53c2\u6570\u200b\u662f\u200b\u5f53\u200bsupervisord\u200b\u4f5c\u4e3a\u200b\u5b88\u62a4\u200b\u8fdb\u7a0b\u200b\u8fd0\u884c\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u8bbe\u7f6e\u200b\u8fd9\u4e2a\u200b\u53c2\u6570\u200b\u7684\u8bdd\u200b\uff0c\u200b\u542f\u52a8\u200b\n\n                               supervisord\u200b\u8fdb\u7a0b\u200b\u4e4b\u524d\u200b\uff0c\u200b\u4f1a\u5148\u200b\u5207\u6362\u200b\u5230\u200b\u8fd9\u4e2a\u200b\u76ee\u5f55\u200b\n\n                               \u200b\u9ed8\u8ba4\u200b\u4e0d\u200b\u8bbe\u7f6e\u200b\u3002\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;nocleanup=true              ; \u200b\u8fd9\u4e2a\u200b\u53c2\u6570\u200b\u5f53\u4e3a\u200bfalse\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u4f1a\u200b\u5728\u200bsupervisord\u200b\u8fdb\u7a0b\u200b\u542f\u52a8\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u628a\u200b\u4ee5\u524d\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\n\n                               \u200b\u4ea7\u751f\u200b\u7684\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b(\u200b\u8def\u5f84\u200b\u4e3a\u200bAUTO\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b)\u200b\u6e05\u9664\u200b\u6389\u200b\u3002\u200b\u6709\u65f6\u5019\u200b\u54b1\u4eec\u200b\u60f3\u8981\u200b\u770b\u200b\u5386\u53f2\u200b\u65e5\u5fd7\u200b\uff0c\u200b\u5f53\u200b \n\n                               \u200b\u7136\u200b\u4e0d\u60f3\u200b\u65e5\u5fd7\u200b\u88ab\u200b\u6e05\u9664\u200b\u4e86\u200b\u3002\u200b\u6240\u4ee5\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u4e3a\u200btrue\n\n                               \u200b\u9ed8\u8ba4\u200b\u662f\u200bfalse\uff0c\u200b\u6709\u200b\u8c03\u8bd5\u200b\u9700\u6c42\u200b\u7684\u200b\u540c\u5b66\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u4e3a\u200btrue\u3002\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;childlogdir=/tmp            ; \u200b\u5f53\u5b50\u200b\u8fdb\u7a0b\u200b\u65e5\u5fd7\u200b\u8def\u5f84\u200b\u4e3a\u200bAUTO\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b\u7684\u200b\u5b58\u653e\u200b\u8def\u5f84\u200b\u3002\n\n                               \u200b\u9ed8\u8ba4\u200b\u8def\u5f84\u200b\u662f\u200b\u8fd9\u4e2a\u200b\u4e1c\u897f\u200b\uff0c\u200b\u6267\u884c\u200b\u4e0b\u9762\u200b\u7684\u200b\u8fd9\u4e2a\u200b\u547d\u4ee4\u200b\u770b\u770b\u200b\u5c31\u200bOK\u200b\u4e86\u200b\uff0c\u200b\u5904\u7406\u200b\u7684\u200b\u4e1c\u897f\u200b\u5c31\u200b\u9ed8\u8ba4\u200b\u8def\u5f84\u200b\n\n                               python -c \"import tempfile;print tempfile.gettempdir()\"\n\n                               \u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;environment=KEY=\"value\"     ; \u200b\u8fd9\u4e2a\u200b\u662f\u200b\u7528\u6765\u200b\u8bbe\u7f6e\u200b\u73af\u5883\u53d8\u91cf\u200b\u7684\u200b\uff0csupervisord\u200b\u5728\u200blinux\u200b\u4e2d\u200b\u542f\u52a8\u200b\u9ed8\u8ba4\u200b\u7ee7\u627f\u200b\u4e86\u200blinux\u200b\u7684\u200b\n\n                               \u200b\u73af\u5883\u53d8\u91cf\u200b\uff0c\u200b\u5728\u200b\u8fd9\u91cc\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200bsupervisord\u200b\u8fdb\u7a0b\u200b\u7279\u6709\u200b\u7684\u200b\u5176\u4ed6\u200b\u73af\u5883\u53d8\u91cf\u200b\u3002\n\n                               supervisord\u200b\u542f\u52a8\u5b50\u200b\u8fdb\u7a0b\u200b\u65f6\u200b\uff0c\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u4f1a\u200b\u62f7\u8d1d\u200b\u7236\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u5185\u5b58\u7a7a\u95f4\u200b\u5185\u5bb9\u200b\u3002 \u200b\u6240\u4ee5\u200b\u8bbe\u7f6e\u200b\u7684\u200b\n\n                               \u200b\u8fd9\u4e9b\u200b\u73af\u5883\u53d8\u91cf\u200b\u4e5f\u200b\u4f1a\u200b\u88ab\u5b50\u200b\u8fdb\u7a0b\u200b\u7ee7\u627f\u200b\u3002\n\n                               \u200b\u5c0f\u200b\u4f8b\u5b50\u200b\uff1aenvironment=name=\"haha\",age=\"hehe\"\n\n                               \u200b\u9ed8\u8ba4\u200b\u4e3a\u200b\u4e0d\u200b\u8bbe\u7f6e\u200b\u3002\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;strip_ansi=false            ; \u200b\u8fd9\u4e2a\u200b\u9009\u9879\u200b\u5982\u679c\u200b\u8bbe\u7f6e\u200b\u4e3a\u200btrue\uff0c\u200b\u4f1a\u200b\u6e05\u9664\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u65e5\u5fd7\u200b\u4e2d\u200b\u7684\u200b\u6240\u6709\u200bANSI \u200b\u5e8f\u5217\u200b\u3002\u200b\u4ec0\u4e48\u200b\u662f\u200bANSI\n\n                               \u200b\u5e8f\u5217\u200b\u5462\u200b\uff1f\u200b\u5c31\u662f\u200b\u6211\u4eec\u200b\u7684\u200b\\n,\\t\u200b\u8fd9\u4e9b\u200b\u4e1c\u897f\u200b\u3002\n\n                               \u200b\u9ed8\u8ba4\u200b\u4e3a\u200bfalse\u3002\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n; the below section must remain in the config file for RPC\n\n; (supervisorctl/web interface) to work, additional interfaces may be\n\n; added by defining them in separate rpcinterface: sections\n\n[rpcinterface:supervisor]    ;\u200b\u8fd9\u4e2a\u200b\u9009\u9879\u200b\u662f\u200b\u7ed9\u200bXML_RPC\u200b\u7528\u200b\u7684\u200b\uff0c\u200b\u5f53\u7136\u200b\u4f60\u200b\u5982\u679c\u200b\u60f3\u200b\u4f7f\u7528\u200bsupervisord\u200b\u6216\u8005\u200bweb server \u200b\u8fd9\u200b \n\n                              \u200b\u4e2a\u200b\u9009\u9879\u200b\u5fc5\u987b\u200b\u8981\u200b\u5f00\u542f\u200b\u7684\u200b\n\nsupervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface \n\n[supervisorctl]              ;\u200b\u8fd9\u4e2a\u200b\u4e3b\u8981\u200b\u662f\u200b\u9488\u5bf9\u200bsupervisorctl\u200b\u7684\u200b\u4e00\u4e9b\u200b\u914d\u7f6e\u200b  \n\nserverurl=unix:///tmp/supervisor.sock ; \u200b\u8fd9\u4e2a\u200b\u662f\u200bsupervisorctl\u200b\u672c\u5730\u8fde\u63a5\u200bsupervisord\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u672c\u5730\u200bUNIX socket\n\n                                        \u200b\u8def\u5f84\u200b\uff0c\u200b\u6ce8\u610f\u200b\u8fd9\u4e2a\u200b\u662f\u200b\u548c\u200b\u524d\u9762\u200b\u7684\u200b[unix_http_server]\u200b\u5bf9\u5e94\u200b\u7684\u200b\n\n                                        \u200b\u9ed8\u8ba4\u503c\u200b\u5c31\u662f\u200bunix:///tmp/supervisor.sock\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;serverurl=http://127.0.0.1:9001 ; \u200b\u8fd9\u4e2a\u200b\u662f\u200bsupervisorctl\u200b\u8fdc\u7a0b\u200b\u8fde\u63a5\u200bsupervisord\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u7528\u5230\u200b\u7684\u200bTCP socket\u200b\u8def\u5f84\u200b\n\n                                   \u200b\u6ce8\u610f\u200b\u8fd9\u4e2a\u200b\u548c\u200b\u524d\u9762\u200b\u7684\u200b[inet_http_server]\u200b\u5bf9\u5e94\u200b\n\n                                   \u200b\u9ed8\u8ba4\u200b\u5c31\u662f\u200bhttp://127.0.0.1:9001\u3002\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u9879\u200b\n\n\n\n;username=chris              ; \u200b\u7528\u6237\u540d\u200b\n\n                               \u200b\u9ed8\u8ba4\u200b\u7a7a\u200b\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;password=123                ; \u200b\u5bc6\u7801\u200b\n\n                              \u200b\u9ed8\u8ba4\u200b\u7a7a\u200b\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;prompt=mysupervisor         ; \u200b\u8f93\u5165\u200b\u7528\u6237\u540d\u200b\u5bc6\u7801\u200b\u65f6\u5019\u200b\u7684\u200b\u63d0\u793a\u7b26\u200b\n\n                               \u200b\u9ed8\u8ba4\u200bsupervisor\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;history_file=~/.sc_history  ; \u200b\u8fd9\u4e2a\u200b\u53c2\u6570\u200b\u548c\u200bshell\u200b\u4e2d\u200b\u7684\u200bhistory\u200b\u7c7b\u4f3c\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u7528\u200b\u4e0a\u4e0b\u200b\u952e\u6765\u200b\u67e5\u627e\u200b\u524d\u9762\u200b\u6267\u884c\u200b\u8fc7\u200b\u7684\u200b\u547d\u4ee4\u200b\n\n                               \u200b\u9ed8\u8ba4\u200b\u662f\u200bno file\u200b\u7684\u200b\u3002\u3002\u200b\u6240\u4ee5\u200b\u6211\u4eec\u200b\u60f3\u8981\u200b\u6709\u200b\u8fd9\u79cd\u200b\u529f\u80fd\u200b\uff0c\u200b\u5fc5\u987b\u200b\u6307\u5b9a\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u3002\u3002\u3002\u200b\u975e\u200b\n\n                               \u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n; The below sample program section shows all possible program subsection values,\n\n; create one or more 'real' program: sections to be able to control them under\n\n; supervisor.\n\n;[program:theprogramname]      ;\u200b\u8fd9\u4e2a\u200b\u5c31\u662f\u200b\u54b1\u4eec\u200b\u8981\u200b\u7ba1\u7406\u200b\u7684\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u4e86\u200b\uff0c\":\"\u200b\u540e\u9762\u200b\u7684\u200b\u662f\u200b\u540d\u5b57\u200b\uff0c\u200b\u6700\u597d\u200b\u522b\u200b\u4e71\u5199\u200b\u548c\u200b\u5b9e\u9645\u200b\u8fdb\u7a0b\u200b\n\n                                \u200b\u6709\u70b9\u200b\u5173\u8054\u200b\u6700\u597d\u200b\u3002\u200b\u8fd9\u6837\u200b\u7684\u200bprogram\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u4e00\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b\uff0c\u200b\u4e00\u4e2a\u200bprogram\u200b\u5c31\u662f\u200b\n\n                                \u200b\u8981\u200b\u88ab\u200b\u7ba1\u7406\u200b\u7684\u200b\u4e00\u4e2a\u200b\u8fdb\u7a0b\u200b\n\n;command=/bin/cat              ; \u200b\u8fd9\u4e2a\u200b\u5c31\u662f\u200b\u6211\u4eec\u200b\u7684\u200b\u8981\u200b\u542f\u52a8\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u547d\u4ee4\u200b\u8def\u5f84\u200b\u4e86\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5e26\u200b\u53c2\u6570\u200b\n\n                                \u200b\u4f8b\u5b50\u200b\uff1a/home/test.py -a 'hehe'\n\n                                \u200b\u6709\u200b\u4e00\u70b9\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u6211\u4eec\u200b\u7684\u200bcommand\u200b\u53ea\u80fd\u200b\u662f\u200b\u90a3\u79cd\u200b\u5728\u200b\u7ec8\u7aef\u200b\u8fd0\u884c\u200b\u7684\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u662f\u200b\n\n                                \u200b\u5b88\u62a4\u200b\u8fdb\u7a0b\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u60f3\u60f3\u200b\u4e5f\u200b\u77e5\u9053\u200b\u4e86\u200b\uff0c\u200b\u6bd4\u5982\u8bf4\u200bcommand=service httpd start\u3002\n\n                                httpd\u200b\u8fd9\u4e2a\u200b\u8fdb\u7a0b\u200b\u88ab\u200blinux\u200b\u7684\u200bservice\u200b\u7ba1\u7406\u200b\u4e86\u200b\uff0c\u200b\u6211\u4eec\u200b\u7684\u200bsupervisor\u200b\u518d\u200b\u53bb\u200b\u542f\u52a8\u200b\u8fd9\u4e2a\u200b\u547d\u4ee4\u200b\n\n                                \u200b\u8fd9\u200b\u5df2\u7ecf\u200b\u4e0d\u662f\u200b\u4e25\u683c\u200b\u610f\u4e49\u200b\u7684\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u4e86\u200b\u3002\n\n                                \u200b\u8fd9\u4e2a\u200b\u662f\u200b\u4e2a\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\u7684\u200b\u9879\u200b\n\n;process_name=%(program_name)s ; \u200b\u8fd9\u4e2a\u200b\u662f\u200b\u8fdb\u7a0b\u200b\u540d\u200b\uff0c\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u4e0b\u9762\u200b\u7684\u200bnumprocs\u200b\u53c2\u6570\u200b\u4e3a\u200b1\u200b\u7684\u8bdd\u200b\uff0c\u200b\u5c31\u200b\u4e0d\u7528\u200b\u7ba1\u200b\u8fd9\u4e2a\u200b\u53c2\u6570\u200b\n\n                                 \u200b\u4e86\u200b\uff0c\u200b\u5b83\u200b\u9ed8\u8ba4\u503c\u200b%(program_name)s\u200b\u4e5f\u200b\u5c31\u662f\u200b\u4e0a\u9762\u200b\u7684\u200b\u90a3\u4e2a\u200bprogram\u200b\u5192\u53f7\u200b\u540e\u9762\u200b\u7684\u200b\u540d\u5b57\u200b\uff0c\n\n                                 \u200b\u4f46\u662f\u200b\u5982\u679c\u200bnumprocs\u200b\u4e3a\u200b\u591a\u4e2a\u200b\u7684\u8bdd\u200b\uff0c\u200b\u90a3\u200b\u5c31\u200b\u4e0d\u80fd\u200b\u8fd9\u4e48\u200b\u5e72\u200b\u4e86\u200b\u3002\u200b\u60f3\u60f3\u200b\u4e5f\u200b\u77e5\u9053\u200b\uff0c\u200b\u4e0d\u200b\u53ef\u80fd\u200b\u6bcf\u4e2a\u200b\n\n                                 \u200b\u8fdb\u7a0b\u200b\u90fd\u200b\u7528\u200b\u540c\u4e00\u4e2a\u200b\u8fdb\u7a0b\u200b\u540d\u200b\u5427\u200b\u3002\n\n\n\n;numprocs=1                    ; \u200b\u542f\u52a8\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u6570\u76ee\u200b\u3002\u200b\u5f53\u4e0d\u4e3a\u200b1\u200b\u65f6\u200b\uff0c\u200b\u5c31\u662f\u200b\u8fdb\u7a0b\u200b\u6c60\u200b\u7684\u200b\u6982\u5ff5\u200b\uff0c\u200b\u6ce8\u610f\u200bprocess_name\u200b\u7684\u200b\u8bbe\u7f6e\u200b\n\n                                 \u200b\u9ed8\u8ba4\u200b\u4e3a\u200b1    \u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;directory=/tmp                ; \u200b\u8fdb\u7a0b\u200b\u8fd0\u884c\u200b\u524d\u200b\uff0c\u200b\u4f1a\u200b\u524d\u200b\u5207\u6362\u200b\u5230\u200b\u8fd9\u4e2a\u200b\u76ee\u5f55\u200b\n\n                                 \u200b\u9ed8\u8ba4\u200b\u4e0d\u200b\u8bbe\u7f6e\u200b\u3002\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;umask=022                     ; \u200b\u8fdb\u7a0b\u200b\u63a9\u7801\u200b\uff0c\u200b\u9ed8\u8ba4\u200bnone\uff0c\u200b\u975e\u200b\u5fc5\u987b\u200b\n\n;priority=999                  ; \u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u542f\u52a8\u200b\u5173\u95ed\u200b\u4f18\u5148\u7ea7\u200b\uff0c\u200b\u4f18\u5148\u7ea7\u200b\u4f4e\u200b\u7684\u200b\uff0c\u200b\u6700\u5148\u200b\u542f\u52a8\u200b\uff0c\u200b\u5173\u95ed\u200b\u7684\u200b\u65f6\u5019\u200b\u6700\u540e\u200b\u5173\u95ed\u200b\n\n                                 \u200b\u9ed8\u8ba4\u503c\u200b\u4e3a\u200b999 \u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;autostart=true                ; \u200b\u5982\u679c\u200b\u662f\u200btrue\u200b\u7684\u8bdd\u200b\uff0c\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u5c06\u200b\u5728\u200bsupervisord\u200b\u542f\u52a8\u200b\u540e\u200b\u88ab\u200b\u81ea\u52a8\u200b\u542f\u52a8\u200b\n\n                                 \u200b\u9ed8\u8ba4\u200b\u5c31\u662f\u200btrue   \u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;autorestart=unexpected        ; \u200b\u8fd9\u4e2a\u200b\u662f\u200b\u8bbe\u7f6e\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u6302\u6389\u200b\u540e\u200b\u81ea\u52a8\u200b\u91cd\u542f\u200b\u7684\u200b\u60c5\u51b5\u200b\uff0c\u200b\u6709\u200b\u4e09\u4e2a\u200b\u9009\u9879\u200b\uff0cfalse,unexpected\n\n                                 \u200b\u548c\u200btrue\u3002\u200b\u5982\u679c\u200b\u4e3a\u200bfalse\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u65e0\u8bba\u200b\u4ec0\u4e48\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u90fd\u200b\u4e0d\u4f1a\u200b\u88ab\u200b\u91cd\u65b0\u542f\u52a8\u200b\uff0c\n\n                                 \u200b\u5982\u679c\u200b\u4e3a\u200bunexpected\uff0c\u200b\u53ea\u6709\u200b\u5f53\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u9000\u51fa\u200b\u7801\u200b\u4e0d\u200b\u5728\u200b\u4e0b\u9762\u200b\u7684\u200bexitcodes\u200b\u91cc\u9762\u200b\u5b9a\u4e49\u200b\u7684\u200b\u9000\u200b \n\n                                 \u200b\u51fa\u7801\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u624d\u200b\u4f1a\u200b\u88ab\u200b\u81ea\u52a8\u200b\u91cd\u542f\u200b\u3002\u200b\u5f53\u4e3a\u200btrue\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u53ea\u8981\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u6302\u6389\u200b\uff0c\u200b\u5c06\u4f1a\u200b\u88ab\u200b\u65e0\u200b\n\n                                 \u200b\u6761\u4ef6\u200b\u7684\u200b\u91cd\u542f\u200b\n\n;startsecs=1                   ; \u200b\u8fd9\u4e2a\u200b\u9009\u9879\u200b\u662f\u5b50\u200b\u8fdb\u7a0b\u200b\u542f\u52a8\u200b\u591a\u5c11\u200b\u79d2\u200b\u4e4b\u540e\u200b\uff0c\u200b\u6b64\u65f6\u200b\u72b6\u6001\u200b\u5982\u679c\u200b\u662f\u200brunning\uff0c\u200b\u5219\u200b\u6211\u4eec\u200b\u8ba4\u4e3a\u200b\u542f\u200b\n\n                                 \u200b\u52a8\u200b\u6210\u529f\u200b\u4e86\u200b\n\n                                 \u200b\u9ed8\u8ba4\u503c\u200b\u4e3a\u200b1 \u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;startretries=3                ; \u200b\u5f53\u200b\u8fdb\u7a0b\u200b\u542f\u52a8\u200b\u5931\u8d25\u200b\u540e\u200b\uff0c\u200b\u6700\u5927\u200b\u5c1d\u8bd5\u200b\u542f\u52a8\u200b\u7684\u200b\u6b21\u6570\u200b\u3002\u3002\u200b\u5f53\u200b\u8d85\u8fc7\u200b3\u200b\u6b21\u540e\u200b\uff0csupervisor\u200b\u5c06\u200b\u628a\u200b\n\n                                 \u200b\u6b64\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u72b6\u6001\u200b\u7f6e\u200b\u4e3a\u200bFAIL\n\n                                 \u200b\u9ed8\u8ba4\u503c\u200b\u4e3a\u200b3 \u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;exitcodes=0,2                 ; \u200b\u6ce8\u610f\u200b\u548c\u200b\u4e0a\u9762\u200b\u7684\u200b\u7684\u200bautorestart=unexpected\u200b\u5bf9\u5e94\u200b\u3002\u3002exitcodes\u200b\u91cc\u9762\u200b\u7684\u200b\u5b9a\u4e49\u200b\u7684\u200b\n\n                                 \u200b\u9000\u51fa\u200b\u7801\u662f\u200bexpected\u200b\u7684\u200b\u3002\n\n;stopsignal=QUIT               ; \u200b\u8fdb\u7a0b\u200b\u505c\u6b62\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4e3a\u200bTERM, HUP, INT, QUIT, KILL, USR1, or USR2\u200b\u7b49\u200b\u4fe1\u53f7\u200b\n\n                                  \u200b\u9ed8\u8ba4\u200b\u4e3a\u200bTERM \u3002\u3002\u200b\u5f53\u200b\u7528\u200b\u8bbe\u5b9a\u200b\u7684\u200b\u4fe1\u53f7\u200b\u53bb\u200b\u5e72\u6389\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u9000\u51fa\u200b\u7801\u4f1a\u200b\u88ab\u200b\u8ba4\u4e3a\u200b\u662f\u200bexpected\n\n                                  \u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;stopwaitsecs=10               ; \u200b\u8fd9\u4e2a\u200b\u662f\u200b\u5f53\u200b\u6211\u4eec\u200b\u5411\u5b50\u200b\u8fdb\u7a0b\u200b\u53d1\u9001\u200bstopsignal\u200b\u4fe1\u53f7\u200b\u540e\u200b\uff0c\u200b\u5230\u200b\u7cfb\u7edf\u200b\u8fd4\u56de\u200b\u4fe1\u606f\u200b\n\n                                 \u200b\u7ed9\u200bsupervisord\uff0c\u200b\u6240\u200b\u7b49\u5f85\u200b\u7684\u200b\u6700\u5927\u200b\u65f6\u95f4\u200b\u3002 \u200b\u8d85\u8fc7\u200b\u8fd9\u4e2a\u200b\u65f6\u95f4\u200b\uff0csupervisord\u200b\u4f1a\u200b\u5411\u200b\u8be5\u200b\n\n                                 \u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u53d1\u9001\u200b\u4e00\u4e2a\u200b\u5f3a\u5236\u200bkill\u200b\u7684\u200b\u4fe1\u53f7\u200b\u3002\n\n                                 \u200b\u9ed8\u8ba4\u200b\u4e3a\u200b10\u200b\u79d2\u200b\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;stopasgroup=false             ; \u200b\u8fd9\u4e2a\u200b\u4e1c\u897f\u200b\u4e3b\u8981\u200b\u7528\u4e8e\u200b\uff0csupervisord\u200b\u7ba1\u7406\u200b\u7684\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u672c\u8eab\u200b\u8fd8\u6709\u200b\n\n                                 \u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u3002\u200b\u90a3\u4e48\u200b\u6211\u4eec\u200b\u5982\u679c\u200b\u4ec5\u4ec5\u200b\u5e72\u6389\u200bsupervisord\u200b\u7684\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u8bdd\u200b\uff0c\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\n\n                                 \u200b\u6709\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u53d8\u6210\u200b\u5b64\u513f\u200b\u8fdb\u7a0b\u200b\u3002\u200b\u6240\u4ee5\u200b\u54b1\u4eec\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u53ef\u4e2a\u200b\u9009\u9879\u200b\uff0c\u200b\u628a\u200b\u6574\u4e2a\u200b\u8be5\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u200b\n\n                                 \u200b\u6574\u4e2a\u200b\u8fdb\u7a0b\u200b\u7ec4\u90fd\u200b\u5e72\u6389\u200b\u3002 \u200b\u8bbe\u7f6e\u200b\u4e3a\u200btrue\u200b\u7684\u8bdd\u200b\uff0c\u200b\u4e00\u822c\u200bkillasgroup\u200b\u4e5f\u200b\u4f1a\u200b\u88ab\u200b\u8bbe\u7f6e\u200b\u4e3a\u200btrue\u3002\n\n                                 \u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u8be5\u200b\u9009\u9879\u200b\u53d1\u9001\u200b\u7684\u200b\u662f\u200bstop\u200b\u4fe1\u53f7\u200b\n\n                                 \u200b\u9ed8\u8ba4\u200b\u4e3a\u200bfalse\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\u3002\u3002\n\n;killasgroup=false             ; \u200b\u8fd9\u4e2a\u200b\u548c\u200b\u4e0a\u9762\u200b\u7684\u200bstopasgroup\u200b\u7c7b\u4f3c\u200b\uff0c\u200b\u4e0d\u8fc7\u200b\u53d1\u9001\u200b\u7684\u200b\u662f\u200bkill\u200b\u4fe1\u53f7\u200b\n\n;user=chrism                   ; \u200b\u5982\u679c\u200bsupervisord\u200b\u662f\u200broot\u200b\u542f\u52a8\u200b\uff0c\u200b\u6211\u4eec\u200b\u5728\u200b\u8fd9\u91cc\u200b\u8bbe\u7f6e\u200b\u8fd9\u4e2a\u200b\u975e\u200broot\u200b\u7528\u6237\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u6765\u200b\n\n                                 \u200b\u7ba1\u7406\u200b\u8be5\u200bprogram\n\n                                 \u200b\u9ed8\u8ba4\u200b\u4e0d\u200b\u8bbe\u7f6e\u200b\u3002\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\u9879\u200b\n\n;redirect_stderr=true          ; \u200b\u5982\u679c\u200b\u4e3a\u200btrue\uff0c\u200b\u5219\u200bstderr\u200b\u7684\u200b\u65e5\u5fd7\u200b\u4f1a\u200b\u88ab\u200b\u5199\u5165\u200bstdout\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b\u4e2d\u200b\n\n                                 \u200b\u9ed8\u8ba4\u200b\u4e3a\u200bfalse\uff0c\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;stdout_logfile=/a/path        ; \u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u200bstdout\u200b\u7684\u200b\u65e5\u5fd7\u200b\u8def\u5f84\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6307\u5b9a\u200b\u8def\u5f84\u200b\uff0cAUTO\uff0cnone\u200b\u7b49\u200b\u4e09\u4e2a\u200b\u9009\u9879\u200b\u3002\n\n                                 \u200b\u8bbe\u7f6e\u200b\u4e3a\u200bnone\u200b\u7684\u8bdd\u200b\uff0c\u200b\u5c06\u200b\u6ca1\u6709\u200b\u65e5\u5fd7\u200b\u4ea7\u751f\u200b\u3002\u200b\u8bbe\u7f6e\u200b\u4e3a\u200bAUTO\u200b\u7684\u8bdd\u200b\uff0c\u200b\u5c06\u200b\u968f\u673a\u200b\u627e\u200b\u4e00\u4e2a\u200b\u5730\u65b9\u200b\n\n                                 \u200b\u751f\u6210\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b\uff0c\u200b\u800c\u4e14\u200b\u5f53\u200bsupervisord\u200b\u91cd\u65b0\u542f\u52a8\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u4ee5\u524d\u200b\u7684\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b\u4f1a\u200b\u88ab\u200b\n\n                                 \u200b\u6e05\u7a7a\u200b\u3002\u200b\u5f53\u200b redirect_stderr=true\u200b\u7684\u200b\u65f6\u5019\u200b\uff0csterr\u200b\u4e5f\u200b\u4f1a\u200b\u5199\u200b\u8fdb\u200b\u8fd9\u4e2a\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b\n\n;stdout_logfile_maxbytes=1MB   ; \u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b\u6700\u5927\u200b\u5927\u5c0f\u200b\uff0c\u200b\u548c\u200b[supervisord]\u200b\u4e2d\u200b\u5b9a\u4e49\u200b\u7684\u200b\u4e00\u6837\u200b\u3002\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b50\n\n;stdout_logfile_backups=10     ; \u200b\u548c\u200b[supervisord]\u200b\u5b9a\u4e49\u200b\u7684\u200b\u4e00\u6837\u200b\u3002\u200b\u9ed8\u8ba4\u200b10\n\n;stdout_capture_maxbytes=1MB   ; \u200b\u8fd9\u4e2a\u200b\u4e1c\u897f\u200b\u662f\u200b\u8bbe\u5b9a\u200bcapture\u200b\u7ba1\u9053\u200b\u7684\u200b\u5927\u5c0f\u200b\uff0c\u200b\u5f53\u503c\u200b\u4e0d\u200b\u4e3a\u200b0\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u53ef\u4ee5\u200b\u4ece\u200bstdout\n\n                                 \u200b\u53d1\u9001\u4fe1\u606f\u200b\uff0c\u200b\u800c\u200bsupervisor\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u4fe1\u606f\u200b\uff0c\u200b\u53d1\u9001\u200b\u76f8\u5e94\u200b\u7684\u200bevent\u3002\n\n                                 \u200b\u9ed8\u8ba4\u200b\u4e3a\u200b0\uff0c\u200b\u4e3a\u200b0\u200b\u7684\u200b\u65f6\u5019\u200b\u8868\u8fbe\u200b\u5173\u95ed\u200b\u7ba1\u9053\u200b\u3002\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u9879\u200b\n\n;stdout_events_enabled=false   ; \u200b\u5f53\u200b\u8bbe\u7f6e\u200b\u4e3a\u200bture\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u5f53\u5b50\u200b\u8fdb\u7a0b\u200b\u7531\u200bstdout\u200b\u5411\u200b\u6587\u4ef6\u200b\u63cf\u8ff0\u7b26\u200b\u4e2d\u5199\u200b\u65e5\u5fd7\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u5c06\u200b\n\n                                 \u200b\u89e6\u53d1\u200bsupervisord\u200b\u53d1\u9001\u200bPROCESS_LOG_STDOUT\u200b\u7c7b\u578b\u200b\u7684\u200bevent\n\n                                 \u200b\u9ed8\u8ba4\u200b\u4e3a\u200bfalse\u3002\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;stderr_logfile=/a/path        ; \u200b\u8fd9\u4e2a\u200b\u4e1c\u897f\u200b\u662f\u200b\u8bbe\u7f6e\u200bstderr\u200b\u5199\u200b\u7684\u200b\u65e5\u5fd7\u200b\u8def\u5f84\u200b\uff0c\u200b\u5f53\u200bredirect_stderr=true\u3002\u200b\u8fd9\u4e2a\u200b\u5c31\u200b\u4e0d\u7528\u200b\n\n                                 \u200b\u8bbe\u7f6e\u200b\u4e86\u200b\uff0c\u200b\u8bbe\u7f6e\u200b\u4e86\u200b\u4e5f\u200b\u662f\u200b\u767d\u642d\u200b\u3002\u200b\u56e0\u4e3a\u200b\u5b83\u4f1a\u200b\u88ab\u200b\u5199\u5165\u200bstdout_logfile\u200b\u7684\u200b\u540c\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u4e2d\u200b\n\n                                 \u200b\u9ed8\u8ba4\u200b\u4e3a\u200bAUTO\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u968f\u4fbf\u200b\u627e\u4e2a\u200b\u5730\u5b58\u200b\uff0csupervisord\u200b\u91cd\u542f\u200b\u88ab\u200b\u6e05\u7a7a\u200b\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;stderr_logfile_maxbytes=1MB   ; \u200b\u8fd9\u4e2a\u200b\u51fa\u73b0\u200b\u597d\u200b\u51e0\u6b21\u200b\u4e86\u200b\uff0c\u200b\u5c31\u200b\u4e0d\u200b\u91cd\u590d\u200b\u4e86\u200b\n\n;stderr_logfile_backups=10     ; \u200b\u8fd9\u4e2a\u200b\u4e5f\u200b\u662f\u200b\n\n;stderr_capture_maxbytes=1MB   ; \u200b\u8fd9\u4e2a\u200b\u4e00\u6837\u200b\uff0c\u200b\u548c\u200bstdout_capture\u200b\u4e00\u6837\u200b\u3002 \u200b\u9ed8\u8ba4\u200b\u4e3a\u200b0\uff0c\u200b\u5173\u95ed\u200b\u72b6\u6001\u200b\n\n;stderr_events_enabled=false   ; \u200b\u8fd9\u4e2a\u200b\u4e5f\u200b\u662f\u200b\u4e00\u6837\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200bfalse\n\n;environment=A=\"1\",B=\"2\"       ; \u200b\u8fd9\u4e2a\u200b\u662f\u200b\u8be5\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u73af\u5883\u53d8\u91cf\u200b\uff0c\u200b\u548c\u200b\u522b\u7684\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u662f\u200b\u4e0d\u200b\u5171\u4eab\u200b\u7684\u200b\n\n;serverurl=AUTO                ; \n\n; The below sample eventlistener section shows all possible\n\n; eventlistener subsection values, create one or more 'real'\n\n; eventlistener: sections to be able to handle event notifications\n\n; sent by supervisor.\n\n;[eventlistener:theeventlistenername] ;\u200b\u8fd9\u4e2a\u200b\u4e1c\u897f\u200b\u5176\u5b9e\u200b\u548c\u200bprogram\u200b\u7684\u200b\u5730\u4f4d\u200b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b\uff0c\u200b\u4e5f\u200b\u662f\u200bsuopervisor\u200b\u542f\u52a8\u200b\u7684\u200b\u5b50\u8fdb\u200b\n\n                                       \u200b\u7a0b\u200b\uff0c\u200b\u4e0d\u8fc7\u200b\u5b83\u200b\u5e72\u200b\u7684\u200b\u6d3b\u662f\u200b\u8ba2\u9605\u200bsupervisord\u200b\u53d1\u9001\u200b\u7684\u200bevent\u3002\u200b\u4ed6\u200b\u7684\u200b\u540d\u5b57\u200b\u5c31\u200b\u53eb\u200b\n\n                                       listener\u200b\u4e86\u200b\u3002\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5728\u200blistener\u200b\u91cc\u9762\u200b\u505a\u200b\u4e00\u7cfb\u5217\u200b\u5904\u7406\u200b\uff0c\u200b\u6bd4\u5982\u200b\u62a5\u8b66\u200b\u7b49\u7b49\u200b\n\n                                       \u200b\u697c\u4e3b\u200b\u8fd9\u200b\u4e24\u5929\u200b\u5e72\u200b\u7684\u200b\u6d3b\u200b\uff0c\u200b\u5c31\u662f\u200b\u5f04\u200b\u7684\u200b\u8fd9\u200b\u73a9\u610f\u200b\n\n;command=/bin/eventlistener    ; \u200b\u8fd9\u4e2a\u200b\u548c\u200b\u4e0a\u9762\u200b\u7684\u200bprogram\u200b\u4e00\u6837\u200b\uff0c\u200b\u8868\u793a\u200blistener\u200b\u7684\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\u7684\u200b\u8def\u5f84\u200b\n\n;process_name=%(program_name)s ; \u200b\u8fd9\u4e2a\u200b\u4e5f\u200b\u4e00\u6837\u200b\uff0c\u200b\u8fdb\u7a0b\u200b\u540d\u200b\uff0c\u200b\u5f53\u200b\u4e0b\u9762\u200b\u7684\u200bnumprocs\u200b\u4e3a\u200b\u591a\u4e2a\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u624d\u200b\u9700\u8981\u200b\u3002\u200b\u5426\u5219\u200b\u9ed8\u8ba4\u200b\u5c31\u200b\n\n                                 OK\u200b\u4e86\u200b\n\n;numprocs=1                    ; \u200b\u76f8\u540c\u200b\u7684\u200blistener\u200b\u542f\u52a8\u200b\u7684\u200b\u4e2a\u6570\u200b\n\n;events=EVENT                  ; event\u200b\u4e8b\u4ef6\u200b\u7684\u200b\u7c7b\u578b\u200b\uff0c\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\uff0c\u200b\u53ea\u6709\u200b\u5199\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u5730\u65b9\u200b\u7684\u200b\u4e8b\u4ef6\u200b\u7c7b\u578b\u200b\u3002\u200b\u624d\u200b\u4f1a\u200b\u88ab\u200b\u53d1\u9001\u200b\n\n\n\n\n\n;buffer_size=10                ; \u200b\u8fd9\u4e2a\u200b\u662f\u200bevent\u200b\u961f\u5217\u200b\u7f13\u5b58\u200b\u5927\u5c0f\u200b\uff0c\u200b\u5355\u4f4d\u200b\u4e0d\u592a\u200b\u6e05\u695a\u200b\uff0c\u200b\u697c\u4e3b\u200b\u731c\u6d4b\u200b\u5e94\u8be5\u200b\u662f\u200b\u4e2a\u200b\u5427\u200b\u3002\u200b\u5f53\u200bbuffer\n\n                                 \u200b\u8d85\u8fc7\u200b10\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u6700\u65e7\u200b\u7684\u200bevent\u200b\u5c06\u4f1a\u200b\u88ab\u200b\u6e05\u9664\u200b\uff0c\u200b\u5e76\u200b\u628a\u200b\u65b0\u200b\u7684\u200bevent\u200b\u653e\u8fdb\u53bb\u200b\u3002\n\n                                 \u200b\u9ed8\u8ba4\u503c\u200b\u4e3a\u200b10\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u9009\u9879\u200b\n\n;directory=/tmp                ; \u200b\u8fdb\u7a0b\u200b\u6267\u884c\u200b\u524d\u200b\uff0c\u200b\u4f1a\u200b\u5207\u6362\u200b\u5230\u200b\u8fd9\u4e2a\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u6267\u884c\u200b\n\n                                 \u200b\u9ed8\u8ba4\u200b\u4e3a\u200b\u4e0d\u200b\u5207\u6362\u200b\u3002\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\n\n;umask=022                     ; \u200b\u6df9\u6ca1\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200bnone\uff0c\u200b\u4e0d\u200b\u8bf4\u200b\u4e86\u200b\n\n;priority=-1                   ; \u200b\u542f\u52a8\u200b\u4f18\u5148\u7ea7\u200b\uff0c\u200b\u9ed8\u8ba4\u200b-1\uff0c\u200b\u4e5f\u200b\u4e0d\u200b\u626f\u200b\u4e86\u200b\n\n;autostart=true                ; \u200b\u662f\u5426\u200b\u968f\u200bsupervisord\u200b\u542f\u52a8\u200b\u4e00\u8d77\u200b\u542f\u52a8\u200b\uff0c\u200b\u9ed8\u8ba4\u200btrue\n\n;autorestart=unexpected        ; \u200b\u662f\u5426\u200b\u81ea\u52a8\u200b\u91cd\u542f\u200b\uff0c\u200b\u548c\u200bprogram\u200b\u4e00\u4e2a\u6837\u200b\uff0c\u200b\u5206\u200btrue,false,unexpected\u200b\u7b49\u200b\uff0c\u200b\u6ce8\u610f\u200b\n\n                                  unexpected\u200b\u548c\u200bexitcodes\u200b\u7684\u200b\u5173\u7cfb\u200b\n\n;startsecs=1                   ; \u200b\u4e5f\u200b\u662f\u200b\u4e00\u6837\u200b\uff0c\u200b\u8fdb\u7a0b\u200b\u542f\u52a8\u200b\u540e\u200b\u8dd1\u200b\u4e86\u200b\u51e0\u79d2\u949f\u200b\uff0c\u200b\u624d\u200b\u88ab\u200b\u8ba4\u5b9a\u200b\u4e3a\u200b\u6210\u529f\u200b\u542f\u52a8\u200b\uff0c\u200b\u9ed8\u8ba4\u200b1\n\n;startretries=3                ; \u200b\u5931\u8d25\u200b\u6700\u5927\u200b\u5c1d\u8bd5\u200b\u6b21\u6570\u200b\uff0c\u200b\u9ed8\u8ba4\u200b3\n\n;exitcodes=0,2                 ; \u200b\u671f\u671b\u200b\u6216\u8005\u8bf4\u200b\u9884\u6599\u4e2d\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u9000\u51fa\u200b\u7801\u200b\uff0c\n\n;stopsignal=QUIT               ; \u200b\u5e72\u6389\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200bTERM\uff0c\u200b\u6bd4\u5982\u200b\u8bbe\u7f6e\u200b\u4e3a\u200bQUIT\uff0c\u200b\u90a3\u4e48\u200b\u5982\u679c\u200bQUIT\u200b\u6765\u200b\u5e72\u200b\u8fd9\u4e2a\u200b\u8fdb\u7a0b\u200b\n\n                                 \u200b\u90a3\u4e48\u200b\u4f1a\u200b\u88ab\u200b\u8ba4\u4e3a\u200b\u662f\u200b\u6b63\u5e38\u200b\u7ef4\u62a4\u200b\uff0c\u200b\u9000\u51fa\u200b\u7801\u200b\u4e5f\u200b\u88ab\u200b\u8ba4\u4e3a\u200b\u662f\u200bexpected\u200b\u4e2d\u200b\u7684\u200b\n\n;stopwaitsecs=10               ; max num secs to wait b4 SIGKILL (default 10)\n\n;stopasgroup=false             ; send stop signal to the UNIX process group (default false)\n\n;killasgroup=false             ; SIGKILL the UNIX process group (def false)\n\n;user=chrism                   ;\u200b\u8bbe\u7f6e\u200b\u666e\u901a\u7528\u6237\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u6765\u200b\u7ba1\u7406\u200b\u8be5\u200blistener\u200b\u8fdb\u7a0b\u200b\u3002\n\n                                \u200b\u9ed8\u8ba4\u200b\u4e3a\u7a7a\u200b\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;redirect_stderr=true          ; \u200b\u4e3a\u200btrue\u200b\u7684\u8bdd\u200b\uff0cstderr\u200b\u7684\u200blog\u200b\u4f1a\u200b\u5e76\u5165\u200bstdout\u200b\u7684\u200blog\u200b\u91cc\u9762\u200b\n\n                                \u200b\u9ed8\u8ba4\u200b\u4e3a\u200bfalse\u3002\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;stdout_logfile=/a/path        ; \u200b\u8fd9\u4e2a\u200b\u4e0d\u200b\u8bf4\u200b\u4e86\u200b\uff0c\u200b\u597d\u51e0\u904d\u200b\u4e86\u200b\n\n;stdout_logfile_maxbytes=1MB   ; \u200b\u8fd9\u4e2a\u200b\u4e5f\u200b\u662f\u200b\n\n;stdout_logfile_backups=10     ; \u200b\u8fd9\u4e2a\u200b\u4e5f\u200b\u662f\u200b\n\n;stdout_events_enabled=false   ; \u200b\u8fd9\u4e2a\u200b\u5176\u5b9e\u200b\u662f\u200b\u9519\u200b\u7684\u200b\uff0clistener\u200b\u662f\u200b\u4e0d\u80fd\u200b\u53d1\u9001\u200bevent\n\n;stderr_logfile=/a/path        ; \u200b\u8fd9\u4e2a\u200b\u4e5f\u200b\u662f\u200b\n\n;stderr_logfile_maxbytes=1MB   ; \u200b\u8fd9\u4e2a\u200b\u4e5f\u200b\u662f\u200b\n\n;stderr_logfile_backups        ; \u200b\u8fd9\u4e2a\u200b\u4e0d\u200b\u8bf4\u200b\u4e86\u200b\n\n;stderr_events_enabled=false   ; \u200b\u8fd9\u4e2a\u200b\u4e5f\u200b\u662f\u200b\u9519\u200b\u7684\u200b\uff0clistener\u200b\u4e0d\u80fd\u200b\u53d1\u9001\u200bevent\n\n;environment=A=\"1\",B=\"2\"       ; \u200b\u8fd9\u4e2a\u200b\u662f\u200b\u8be5\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u73af\u5883\u53d8\u91cf\u200b\n\n                                 \u200b\u9ed8\u8ba4\u200b\u4e3a\u7a7a\u200b\u3002\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\n\n;serverurl=AUTO                ; override serverurl computation (childutils)\n\n; The below sample group section shows all possible group values,\n\n; create one or more 'real' group: sections to create \"heterogeneous\"\n\n; process groups.\n\n;[group:thegroupname]  ;\u200b\u8fd9\u4e2a\u200b\u4e1c\u897f\u200b\u5c31\u662f\u200b\u7ed9\u200bprograms\u200b\u5206\u7ec4\u200b\uff0c\u200b\u5212\u5206\u200b\u5230\u200b\u7ec4\u200b\u91cc\u9762\u200b\u7684\u200bprogram\u3002\u200b\u6211\u4eec\u200b\u5c31\u200b\u4e0d\u7528\u200b\u4e00\u4e2a\u200b\u4e00\u4e2a\u200b\u53bb\u200b\u64cd\u4f5c\u200b\u4e86\u200b\n\n                         \u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5bf9\u200b\u7ec4\u540d\u200b\u8fdb\u884c\u200b\u7edf\u4e00\u200b\u7684\u200b\u64cd\u4f5c\u200b\u3002 \u200b\u6ce8\u610f\u200b\uff1aprogram\u200b\u88ab\u200b\u5212\u5206\u200b\u5230\u200b\u7ec4\u200b\u91cc\u9762\u200b\u4e4b\u540e\u200b\uff0c\u200b\u5c31\u200b\u76f8\u5f53\u4e8e\u200b\u539f\u6765\u200b\n\n                         \u200b\u7684\u200b\u914d\u7f6e\u200b\u4ece\u200bsupervisor\u200b\u7684\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u91cc\u200b\u6d88\u5931\u200b\u4e86\u200b\u3002\u3002\u3002supervisor\u200b\u53ea\u4f1a\u200b\u5bf9\u7ec4\u200b\u8fdb\u884c\u200b\u7ba1\u7406\u200b\uff0c\u200b\u800c\u200b\u4e0d\u518d\u200b\n\n                         \u200b\u4f1a\u200b\u5bf9\u200b\u7ec4\u200b\u91cc\u9762\u200b\u7684\u200b\u5355\u4e2a\u200bprogram\u200b\u8fdb\u884c\u200b\u7ba1\u7406\u200b\u4e86\u200b\n\n;programs=progname1,progname2  ; \u200b\u7ec4\u6210\u5458\u200b\uff0c\u200b\u7528\u200b\u9017\u53f7\u200b\u5206\u5f00\u200b\n\n                                 \u200b\u8fd9\u4e2a\u200b\u662f\u200b\u4e2a\u200b\u5fc5\u987b\u200b\u7684\u200b\u8bbe\u7f6e\u200b\u9879\u200b\n\n;priority=999                  ; \u200b\u4f18\u5148\u7ea7\u200b\uff0c\u200b\u76f8\u5bf9\u200b\u4e8e\u200b\u7ec4\u548c\u7ec4\u200b\u4e4b\u95f4\u200b\u8bf4\u200b\u7684\u200b\n\n                                 \u200b\u9ed8\u8ba4\u200b999\u3002\u3002\u200b\u975e\u200b\u5fc5\u987b\u200b\u9009\u9879\u200b\n\n; The [include] section can just contain the \"files\" setting.  This\n\n; setting can list multiple files (separated by whitespace or\n\n; newlines).  It can also contain wildcards.  The filenames are\n\n; interpreted as relative to this file.  Included files *cannot*\n\n; include files themselves.\n\n;[include]                         ;\u200b\u8fd9\u4e2a\u200b\u4e1c\u897f\u200b\u633a\u200b\u6709\u7528\u200b\u7684\u200b\uff0c\u200b\u5f53\u200b\u6211\u4eec\u200b\u8981\u200b\u7ba1\u7406\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u5f88\u591a\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u5199\u200b\u5728\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u91cc\u9762\u200b\n\n                                    \u200b\u5c31\u200b\u6709\u70b9\u200b\u5927\u200b\u4e86\u200b\u3002\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u628a\u200b\u914d\u7f6e\u200b\u4fe1\u606f\u200b\u5199\u200b\u5230\u200b\u591a\u4e2a\u200b\u6587\u4ef6\u200b\u4e2d\u200b\uff0c\u200b\u7136\u540e\u200binclude\u200b\u8fc7\u6765\u200b\n\n;files = relative/directory/*.ini\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Supervisor/#supervisor","title":"Supervisor\u200b\u63a7\u5236\u53f0","text":"<ul> <li> <p>\u200b\u5728\u200b/etc/supervisord.conf\u200b\u4e2d\u200b\u4fee\u6539\u200b[inet_http_server]\u200b\u7684\u200b\u53c2\u6570\u200b\uff0c\u200b\u5177\u4f53\u200b\u5982\u4e0b\u200b\uff1a <pre><code>[inet_http_server]         ; inet (TCP) server disabled by default\nport=*:9001                ; ip_address:port specifier, *:port for all iface\nusername=root              ; default is no username (open server)\npassword=xxxx              ; default is no password (open server)\n</code></pre></p> </li> <li> <p>\u200b\u4fee\u6539\u200b\u540e\u200b\u91cd\u542f\u200bsupervisor\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u5728\u200b\u6d4f\u89c8\u5668\u200b\u8bbf\u95ee\u200b http://:9001\u3002","tags":["Python"]},{"location":"python/python_lib/libs/Supervisor/#_9","title":"\u5206\u7ec4\u200b\u7ba1\u7406","text":"<ul> <li> <p>Supervisor \u200b\u540c\u65f6\u200b\u8fd8\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u53e6\u5916\u200b\u4e00\u79cd\u200b\u8fdb\u7a0b\u200b\u7ec4\u200b\u7684\u200b\u7ba1\u7406\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u901a\u8fc7\u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b supervisorctl \u200b\u547d\u4ee4\u200b\u6765\u200b\u7ba1\u7406\u200b\u4e00\u7ec4\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u901a\u8fc7\u200b\u5728\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u5982\u4e0b\u200b\u7684\u200b\u914d\u7f6e\u200b\uff0c\u200b\u5c06\u200b\u591a\u4e2a\u200b\u670d\u52a1\u200b\u6dfb\u52a0\u200b\u81f3\u200b\u5206\u7ec4\u200b\u4e2d\u200b <pre><code>[group:group_name]\nprograms=progname1,progname2\n</code></pre></p> </li> <li> <p>\u200b\u6ce8\u610f\u200b:</p> </li> <li>\u200b\u5f53\u200b\u6dfb\u52a0\u200b\u4e86\u200b\u4e0a\u8ff0\u200b\u914d\u7f6e\u200b\u540e\u200b\uff0cprogname1 \u200b\u548c\u200b progname2 \u200b\u7684\u200b\u8fdb\u7a0b\u200b\u540d\u200b\u5c31\u200b\u4f1a\u200b\u53d8\u6210\u200b group_name:progname1 \u200b\u548c\u200b group_name:progname2 \u200b\u4ee5\u540e\u200b\u5c31\u8981\u200b\u7528\u200b\u8fd9\u4e2a\u200b\u540d\u5b57\u200b\u6765\u200b\u7ba1\u7406\u200b\u8fdb\u7a0b\u200b\u4e86\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u4e4b\u524d\u200b\u7684\u200b progname1\u3002</li> <li>\u200b\u4ee5\u540e\u200b\u6267\u884c\u200b supervisorctl stop group_name: \u200b\u5c31\u200b\u80fd\u200b\u540c\u65f6\u200b\u7ed3\u675f\u200b progname1 \u200b\u548c\u200b progname2\uff0c\u200b\u6267\u884c\u200b supervisorctl stop group_name:progname1 \u200b\u5c31\u200b\u80fd\u200b\u7ed3\u675f\u200b progname1</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Supervisor/#supervisor_1","title":"Supervisor\u200b\u914d\u7f6e\u200b\u5f00\u673a\u200b\u542f\u52a8","text":"","tags":["Python"]},{"location":"python/python_lib/libs/Supervisor/#_10","title":"\u65b9\u5f0f\u200b\u4e00\u200b\uff1a","text":"<ul> <li>Linux\u200b\u73af\u5883\u200b\u4e2d\u200b\uff1a\u200b\u4ee5\u200bsystemd\u200b\u7684\u200b\u65b9\u5f0f\u200b\u7ba1\u7406\u200b</li> <li> <p>\u200b\u7f16\u5199\u200b\u542f\u52a8\u200b\u811a\u672c\u200b\uff1avim /etc/rc.d/init.d/supervisord <pre><code>#!/bin/sh\n#\n# /etc/rc.d/init.d/supervisord\n#\n# Supervisor is a client/server system that\n# allows its users to monitor and control a\n# number of processes on UNIX-like operating\n# systems.\n#\n# chkconfig: - 64 36\n# description: Supervisor Server\n# processname: supervisord\n\n# Source init functions\n. /etc/rc.d/init.d/functions\n\nprog=\"supervisord\"\n\nprefix=\"/usr\"\nexec_prefix=\"${prefix}\"\nprog_bin=\"${exec_prefix}/bin/supervisord\"\nPIDFILE=\"/var/run/$prog.pid\"\n\nstart()\n{\necho -n $\"Starting $prog: \"\ndaemon $prog_bin --pidfile $PIDFILE -c /etc/supervisord.conf\n[ -f $PIDFILE ] &amp;&amp; success $\"$prog startup\" || failure $\"$prog startup\"\necho\n}\n\nstop()\n{\necho -n $\"Shutting down $prog: \"\n[ -f $PIDFILE ] &amp;&amp; killproc $prog || success $\"$prog shutdown\"\necho\n}\n\ncase \"$1\" in\n\nstart)\nstart\n;;\n\nstop)\nstop\n;;\n\nstatus)\nstatus $prog\n;;\n\nrestart)\nstop\nstart\n;;\n\n*)\necho \"Usage: $0 {start|stop|restart|status}\"\n;;\n\nesac\n</code></pre></p> </li> <li> <p>\u200b\u8bbe\u7f6e\u200b\u5f00\u673a\u200b\u542f\u52a8\u200b\u53ca\u200bsystemd\u200b\u65b9\u5f0f\u200b\u542f\u52a8\u200b\u3002 <pre><code>sudo chmod +x /etc/rc.d/init.d/supervisord\nsudo chkconfig --add supervisord\nsudo chkconfig supervisord on\nsudo service supervisord start\n</code></pre></p> </li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Supervisor/#_11","title":"\u65b9\u5f0f\u200b\u4e8c\u200b\uff1a","text":"<p>centos-7</p> <ul> <li> <p>\u200b\u8fdb\u5165\u200b / lib/systemd/system \u200b\u76ee\u5f55\u200b\uff0c\u200b\u5e76\u200b\u521b\u5efa\u200b supervisord.service \u200b\u6587\u4ef6\u200b\u3002 <pre><code>[Unit]\nDescription=supervisord\nAfter=network.target\n\n[Service]\nType=forking\nExecStart=/usr/bin/supervisord -c /etc/supervisor/supervisord.conf\nExecStop=/usr/bin/supervisorctl $OPTIONS shutdown\nExecReload=/usr/bin/supervisorctl $OPTIONS reload\nKillMode=process\nRestart=on-failure\nRestartSec=42s\n\n[Install]\nWantedBy=multi-user.target\n</code></pre></p> </li> <li> <p>\u200b\u52a0\u5165\u200b\u5f00\u673a\u200b\u542f\u52a8\u200b <pre><code>chmod 766 /lib/systemd/system/supervisord.service\nsystemctl daemon-reload\nsystemctl enable supervisord.service\nsystemctl start supervisord\nsystemctl status supervisord\n</code></pre></p> </li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Supervisor/#_12","title":"\u914d\u7f6e\u200b\u6848\u4f8b\u200b:","text":"","tags":["Python"]},{"location":"python/python_lib/libs/Supervisor/#django","title":"Django\u200b\u7684\u200b\u914d\u7f6e\u6587\u4ef6","text":"<pre><code>#\u200b\u9879\u76ee\u200b\u540d\u200b\n[program:django]\n#\u200b\u811a\u672c\u200b\u76ee\u5f55\u200b\ndirectory=/root/social_engineering/\n#\u200b\u811a\u672c\u200b\u6267\u884c\u547d\u4ee4\u200b\ncommand=/root/anaconda3/bin/python manage.py runserver 0.0.0.0:8000\n\n#supervisor\u200b\u542f\u52a8\u200b\u7684\u200b\u65f6\u5019\u200b\u662f\u5426\u200b\u968f\u7740\u200b\u540c\u65f6\u200b\u542f\u52a8\u200b\uff0c\u200b\u9ed8\u8ba4\u200bTrue\nautostart=true\n#\u200b\u5f53\u200b\u7a0b\u5e8f\u200bexit\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u8fd9\u4e2a\u200bprogram\u200b\u4e0d\u4f1a\u200b\u81ea\u52a8\u200b\u91cd\u542f\u200b,\u200b\u9ed8\u8ba4\u200bunexpected\uff0c\u200b\u8bbe\u7f6e\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u6302\u6389\u200b\u540e\u200b\u81ea\u52a8\u200b\u91cd\u542f\u200b\u7684\u200b\u60c5\u51b5\u200b\uff0c\u200b\u6709\u200b\u4e09\u4e2a\u200b\u9009\u9879\u200b\uff0cfalse,unexpected\u200b\u548c\u200btrue\u3002\u200b\u5982\u679c\u200b\u4e3a\u200bfalse\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u65e0\u8bba\u200b\u4ec0\u4e48\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u90fd\u200b\u4e0d\u4f1a\u200b\u88ab\u200b\u91cd\u65b0\u542f\u52a8\u200b\uff0c\u200b\u5982\u679c\u200b\u4e3a\u200bunexpected\uff0c\u200b\u53ea\u6709\u200b\u5f53\u200b\u8fdb\u7a0b\u200b\u7684\u200b\n\u200b\u9000\u51fa\u200b\u7801\u200b\u4e0d\u200b\u5728\u200b\u4e0b\u9762\u200b\u7684\u200bexitcodes\u200b\u91cc\u9762\u200b\u5b9a\u4e49\u200b\u7684\u200b\nautorestart=true\n#\u200b\u8fd9\u4e2a\u200b\u9009\u9879\u200b\u662f\u5b50\u200b\u8fdb\u7a0b\u200b\u542f\u52a8\u200b\u591a\u5c11\u200b\u79d2\u200b\u4e4b\u540e\u200b\uff0c\u200b\u6b64\u65f6\u200b\u72b6\u6001\u200b\u5982\u679c\u200b\u662f\u200brunning\uff0c\u200b\u5219\u200b\u6211\u4eec\u200b\u8ba4\u4e3a\u200b\u542f\u52a8\u200b\u6210\u529f\u200b\u4e86\u200b\u3002\u200b\u9ed8\u8ba4\u503c\u200b\u4e3a\u200b1\nstartsecs=1\n\n#\u200b\u811a\u672c\u200b\u8fd0\u884c\u200b\u7684\u200b\u7528\u6237\u200b\u8eab\u4efd\u200b \n\n#\u200b\u65e5\u5fd7\u200b\u8f93\u51fa\u200b \nstderr_logfile=/tmp/django_stderr.log\nstdout_logfile=/tmp/django_stdout.log\n#\u200b\u628a\u200bstderr\u200b\u91cd\u5b9a\u5411\u200b\u5230\u200bstdout\uff0c\u200b\u9ed8\u8ba4\u200b false\nredirect_stderr = true\n#stdout\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u5927\u5c0f\u200b\uff0c\u200b\u9ed8\u8ba4\u200b 50MB\nstdout_logfile_maxbytes = 20\n#stdout\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b\u5907\u4efd\u200b\u6570\u200b\nstdout_logfile_backups = 20\n\n; \u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b environment \u200b\u6765\u200b\u6dfb\u52a0\u200b\u9700\u8981\u200b\u7684\u200b\u73af\u5883\u53d8\u91cf\u200b\uff0c\u200b\u4e00\u79cd\u200b\u5e38\u89c1\u200b\u7684\u200b\u7528\u6cd5\u200b\u662f\u200b\u4fee\u6539\u200b PYTHONPATH\n; environment=PYTHONPATH=$PYTHONPATH:/path/to/somewhere\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Supervisor/#celery","title":"Celery\u200b\u7684\u200b\u914d\u7f6e\u6587\u4ef6","text":"<pre><code>#\u200b\u9879\u76ee\u200b\u540d\u200b\n[program:celery]\n#\u200b\u811a\u672c\u200b\u76ee\u5f55\u200b\ndirectory=/root/social_engineering/\n#\u200b\u811a\u672c\u200b\u6267\u884c\u547d\u4ee4\u200b\ncommand=/root/anaconda3/bin/celery -A tasks worker --loglevel=info\n\n#supervisor\u200b\u542f\u52a8\u200b\u7684\u200b\u65f6\u5019\u200b\u662f\u5426\u200b\u968f\u7740\u200b\u540c\u65f6\u200b\u542f\u52a8\u200b\uff0c\u200b\u9ed8\u8ba4\u200bTrue\nautostart=true\n#\u200b\u7a0b\u5e8f\u200b\u5d29\u6e83\u200b\u65f6\u200b\u81ea\u52a8\u200b\u91cd\u542f\u200b\nautorestart=true\n#\u200b\u8fd9\u4e2a\u200b\u9009\u9879\u200b\u662f\u5b50\u200b\u8fdb\u7a0b\u200b\u542f\u52a8\u200b\u591a\u5c11\u200b\u79d2\u200b\u4e4b\u540e\u200b\uff0c\u200b\u6b64\u65f6\u200b\u72b6\u6001\u200b\u5982\u679c\u200b\u662f\u200brunning\uff0c\u200b\u5219\u200b\u6211\u4eec\u200b\u8ba4\u4e3a\u200b\u542f\u52a8\u200b\u6210\u529f\u200b\u4e86\u200b\u3002\u200b\u9ed8\u8ba4\u503c\u200b\u4e3a\u200b1\nstartsecs=1\n\n#\u200b\u811a\u672c\u200b\u8fd0\u884c\u200b\u7684\u200b\u7528\u6237\u200b\u8eab\u4efd\u200b \n\n#\u200b\u65e5\u5fd7\u200b\u8f93\u51fa\u200b \nstderr_logfile=/tmp/celery_stderr.log\nstdout_logfile=/tmp/celery_stdout.log\n#\u200b\u628a\u200bstderr\u200b\u91cd\u5b9a\u5411\u200b\u5230\u200bstdout\uff0c\u200b\u9ed8\u8ba4\u200b false\nredirect_stderr = true\n#stdout\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u5927\u5c0f\u200b\uff0c\u200b\u9ed8\u8ba4\u200b 50MB\nstdout_logfile_maxbytes = 20\n#stdout\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b\u5907\u4efd\u200b\u6570\u200b\nstdout_logfile_backups = 20\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Supervisor/#redis","title":"Redis\u200b\u7684\u200b\u914d\u7f6e\u6587\u4ef6","text":"<pre><code>[program:zedis]\ncommand=/opt/zedis/redis-server /opt/zedis/redis.conf\nuser=redisuser\nautostart=true                              \n;\u200b\u542f\u52a8\u200bsupervisord\u200b\u7684\u200b\u65f6\u5019\u200b\u4f1a\u200b\u5c06\u200b\u8be5\u200b\u914d\u7f6e\u200b\u9879\u200b\u8bbe\u7f6e\u200b\u4e3a\u200btrue\u200b\u7684\u200b\u6240\u6709\u200b\u8fdb\u7a0b\u200b\u81ea\u52a8\u200b\u542f\u52a8\u200b\nstopasgroup=true                            \n;\u200b\u4f7f\u7528\u200bsupervisorctl\u200b\u505c\u6b62\u200bzedis\u200b\u65f6\u200b\uff0c\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u4e5f\u200b\u4f1a\u200b\u4e00\u8d77\u200b\u505c\u6b62\u200b\nkillasgroup=true                            \n;\u200b\u5411\u200b\u8fdb\u7a0b\u200b\u7ec4\u200b\u53d1\u9001\u200bkill\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u5305\u62ec\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\nstartsecs=10                                \n;\u200b\u8fdb\u7a0b\u200b\u4ece\u200bSTARING\u200b\u72b6\u6001\u200b\u8f6c\u6362\u200b\u5230\u200bRUNNING\u200b\u72b6\u6001\u200b\u6240\u200b\u9700\u8981\u200b\u4fdd\u6301\u200b\u8fd0\u884c\u200b10s\u200b\u65f6\u95f4\u200b\nstartretries=3                              \n;\u200b\u542f\u52a8\u200b\u5931\u8d25\u200b\u81ea\u52a8\u200b\u91cd\u8bd5\u200b\u6b21\u6570\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u662f\u200b3\nautorestart=true                            \n;\u200b\u8fdb\u7a0b\u200b\u505c\u6b62\u200b\u540e\u200b\u81ea\u52a8\u200b\u542f\u52a8\u200b\nstdout_logfile=/var/log/zedis-out\nstdout_logfile_maxbytes=1MB\nstdout_logfile_backups=10\nstderr_logfile=/var/log/zedis-err\nstderr_logfile_maxbytes=1MB\nstderr_logfile_backups=10\n</code></pre> <ul> <li>\u00d8 \u200b\u56e0\u4e3a\u200b\u65e0\u6cd5\u200b\u76d1\u89c6\u200b\u540e\u53f0\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u9700\u8981\u200b\u628a\u200bZedis\u200b\u524d\u53f0\u200b\u8fd0\u884c\u200b\uff08daemonize no\uff09\uff0c\u200b\u5426\u5219\u200b\u4f1a\u200b\u8bc6\u522b\u200b\u4e0d\u5230\u200bZedis\u200b\u542f\u52a8\u200b\uff0c\u200b\u91cd\u8bd5\u200b\u542f\u52a8\u200b3\u200b\u6b21\u200b,\u200b\u65e5\u5fd7\u200b\u63d0\u793a\u200b6379\u200b\u5df2\u200b\u5360\u7528\u200b\u3002</li> <li>\u00d8 \u200b\u56e0\u4e3a\u200bredis.conf\u200b\u6307\u5b9a\u200b\u4e86\u200blogfile\uff0cstdout_logfile\u200b\u5e76\u200b\u65e0\u200b\u5185\u5bb9\u200b\u8f93\u51fa\u200b\uff1b\u200b\u5982\u679c\u200b\u4e0d\u200b\u6307\u5b9a\u200bredis.conf\u200b\u53ea\u662f\u200b\u542f\u52a8\u200bredis-server\uff0c\u200b\u65e5\u5fd7\u200b\u4f1a\u200b\u8f93\u51fa\u200b\u5230\u200bstdout_logfile\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Supervisor/#tomcat","title":"tomcat\u200b\u7684\u200b\u914d\u7f6e\u6587\u4ef6","text":"<pre><code>[program:tomcat]\ncommand=/usr/local/tomcat/bin/catalina.sh run\nstdout_logfile=/usr/local/tomcat/logs/catalina.out\nstderr_logfile=/usr/local/tomcat/logs/catalina.out\nenvironment=JAVA_HOME=\"/usr/local/jdk1.8.0_144\",JAVA_BIN=\"/usr/local/jdk1.8.0_144/bin\"\nautorestart=false\nstartsecs=60\npriority=1\nstopasgroup=true\nkillasgroup=true\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/Supervisor/#_13","title":"\u5206\u7ec4\u200b\u7ba1\u7406\u200b\u7684\u200b\u914d\u7f6e\u6587\u4ef6","text":"<ul> <li>\u200b\u65b0\u5efa\u200b\u6587\u4ef6\u200b\uff0cfastapi_app.conf <pre><code>[group:fastapi]\nprograms=fastapi-app\n\n[program:fastapi-1]\ncommand=/home/python/scripts/fastapi1_app.sh\ndirectory=/home/python/fastapi-1-backend\nuser=python\nautorestart=true\nredirect_stderr=false\nloglevel=info\nstopsignal=KILL\nstopasgroup=true\nkillasgroup=true\n\n[program:fastapi-2]\ncommand=/home/python/scripts/fastapi-2.sh\ndirectory=/home/python/fastapi-2-backend\nuser=python\nautorestart=true\nredirect_stderr=false\nloglevel=info\nstopsignal=KILL\nstopasgroup=true\nkillasgroup=true\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Supervisor/#_14","title":"\u5e38\u89c1\u95ee\u9898\u200b\uff1a","text":"","tags":["Python"]},{"location":"python/python_lib/libs/Supervisor/#1unixtmpsupervisorsock-no-such-file","title":"\u95ee\u9898\u200b1\uff1aunix:///tmp/supervisor.sock no such file\u200b\u7684\u200b\u95ee\u9898","text":"<ul> <li>\u200b\u5728\u200bsupervisor\u200b\u9ed8\u8ba4\u200b\u914d\u7f6e\u200b\u4e2d\u200b\uff0c\u200b\u5176\u200b\u542f\u52a8\u200b\u7684\u200bsock\u200b\u7b49\u200b\u90fd\u200b\u4f1a\u200b\u653e\u5230\u200btmp\u200b\u76ee\u5f55\u200b\uff0c\u200b\u800c\u200btmp\u200b\u76ee\u5f55\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u6e05\u7406\u200b\u5bfc\u81f4\u200b\u65e0\u6cd5\u200b\u4f7f\u7528\u200bsupervisorctl <pre><code>vim /etc/supervisord.conf\n\n#step1: \u200b\u5c06\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200btmp\u200b\u66ff\u6362\u200b\u6389\u200b\uff0c\u200b\u5426\u5219\u200b\u5bb9\u6613\u200b\u88ab\u200blinux\u200b\u81ea\u52a8\u200b\u6e05\u9664\u200b\n/tmp/supervisor.sock \u200b\u6539\u6210\u200b /var/run/supervisor.sock\uff0c\n/tmp/supervisord.log \u200b\u6539\u6210\u200b /var/log/supervisor.log\uff0c\n/tmp/supervisord.pid \u200b\u6539\u6210\u200b /var/run/supervisor.pid\n\n# step2:\u200b\u4fee\u6539\u200b\u6743\u9650\u200b\uff0c\u200b\u5982\u679c\u200b\u4e0d\u200b\u4fee\u6539\u200b\uff0c\u200b\u542f\u52a8\u200b\u65f6\u4f1a\u200b\u62a5\u9519\u200b\u65e0\u200b\u6743\u9650\u200b\nsudo chmod 777 /run\nsudo chmod 777 /var/log\n\n# step3: \u200b\u521b\u5efa\u200bsupervisor.sock\nsudo touch /var/run/supervisor.sock\nsudo chmod 777 /var/run/supervisor.sock\n\n# step4: \u200b\u6740\u6389\u200b\u539f\u6765\u200b\u7684\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u91cd\u65b0\u542f\u52a8\u200b\nsupervisord -c /etc/supervisord.conf\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Supervisor/#2commandsupervisor","title":"\u95ee\u9898\u200b2\uff1acommand\u200b\u4e2d\u200b\u6307\u5b9a\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u5df2\u7ecf\u200b\u8d77\u6765\u200b\uff0c\u200b\u4f46\u200bsupervisor\u200b\u8fd8\u200b\u4e0d\u65ad\u200b\u91cd\u542f","text":"<ul> <li>command\u200b\u4e2d\u200b\u542f\u52a8\u200b\u65b9\u5f0f\u200b\u4e3a\u200b\u540e\u53f0\u200b\u542f\u52a8\u200b\uff0c\u200b\u5bfc\u81f4\u200b\u8bc6\u522b\u200b\u4e0d\u5230\u200bpid\uff0c\u200b\u7136\u540e\u200b\u4e0d\u65ad\u200b\u91cd\u542f\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u4f7f\u7528\u200b\u7684\u200b\u662f\u200belasticsearch\uff0ccommand\u200b\u6307\u5b9a\u200b\u7684\u200b\u662f\u200b$path/bin/elasticsearch -d <pre><code>\u200b\u89e3\u51b3\u529e\u6cd5\u200b\uff1asupervisor\u200b\u65e0\u6cd5\u200b\u68c0\u6d4b\u200b\u540e\u53f0\u200b\u542f\u52a8\u200b\u8fdb\u7a0b\u200b\u7684\u200bpid\uff0c\u200b\u800c\u200bsupervisor\u200b\u672c\u8eab\u200b\u5c31\u662f\u200b\u540e\u53f0\u200b\u542f\u52a8\u200b\u5b88\u62a4\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4e0d\u7528\u200b\u62c5\u5fc3\u200b\u8fd9\u4e2a\u200b\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/Supervisor/#3supervisord","title":"\u95ee\u9898\u200b3\uff1a\u200b\u542f\u52a8\u200b\u4e86\u200b\u591a\u4e2a\u200bsupervisord\u200b\u670d\u52a1\u200b\uff0c\u200b\u5bfc\u81f4\u200b\u65e0\u6cd5\u200b\u6b63\u5e38\u200b\u5173\u95ed\u200b\u670d\u52a1","text":"<ul> <li>\u200b\u5728\u200b\u8fd0\u884c\u200bsupervisord -c /etc/supervisord.conf\u200b\u4e4b\u524d\u200b\uff0c\u200b\u76f4\u63a5\u200b\u8fd0\u884c\u200b\u8fc7\u200bsupervisord -c /etc/supervisord.d/xx.conf\u200b\u5bfc\u81f4\u200b\u6709\u4e9b\u200b\u8fdb\u7a0b\u200b\u88ab\u200b\u591a\u4e2a\u200bsuperviord\u200b\u7ba1\u7406\u200b\uff0c\u200b\u65e0\u6cd5\u200b\u6b63\u5e38\u200b\u5173\u95ed\u200b\u8fdb\u7a0b\u200b <pre><code>\u200b\u89e3\u51b3\u529e\u6cd5\u200b\uff1a\u200b\u4f7f\u7528\u200bps -fe | grep supervisord\u200b\u67e5\u770b\u200b\u6240\u6709\u200b\u542f\u52a8\u200b\u8fc7\u200b\u7684\u200bsupervisord\u200b\u670d\u52a1\u200b\uff0ckill\u200b\u76f8\u5173\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u3002\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/","title":"pathlib\u200b\u4e4b\u200b\u4f7f\u7528\u200b\u9762\u5411\u5bf9\u8c61\u200b\u7684\u200b\u65b9\u5f0f\u200b\u64cd\u4f5c\u200b\u8def\u5f84","text":"<p>Reference\uff1a  </p> <ul> <li> <p>\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b </p> </li> <li> <p>pep-0428</p> </li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#_1","title":"\u6a21\u5757\u200b\u6982\u8ff0","text":"","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#_2","title":"\u5e94\u7528\u200b\u573a\u666f\u200b\uff1a","text":"<p>\u200b\u5982\u679c\u200b\u4f60\u200b\u538c\u5026\u200b\u4e86\u200b\u4f7f\u7528\u200bos\u200b\u5305\u200b\u63d0\u4f9b\u200b\u7684\u200b\u63a5\u53e3\u200b\u53bb\u200b\u64cd\u4f5c\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\u2026\u2026</p> <p>\u200b\u5982\u679c\u200b\u4f60\u200b\u66f4\u200b\u559c\u6b22\u200b\u4ee5\u200b\u9762\u5411\u5bf9\u8c61\u200b\u7684\u200b\u65b9\u5f0f\u200b\u53bb\u200b\u64cd\u4f5c\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\u2026\u2026</p> <p>\u200b\u90a3\u4e48\u200b\uff0cpathlib\u200b\u5305\u662f\u200b\u4e00\u4e2a\u200b\u4e0d\u9519\u200b\u7684\u200b\u9009\u62e9\u200b\uff01\uff01\uff01 </p>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#_3","title":"\u6a21\u5757\u200b\u4ecb\u7ecd","text":"<p>pathlib\uff08Object-oriented filesystem paths\uff09\u200b\u662f\u200bpython\u200b\u5b98\u65b9\u200b\u5c01\u88c5\u200b\u63d0\u4f9b\u200b\u7684\u200b\u4e00\u79cd\u200b\u4f7f\u7528\u200b\u9762\u5411\u5bf9\u8c61\u200b\u7684\u200b\u65b9\u5f0f\u200b\u64cd\u4f5c\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\u7684\u200b\u5de5\u5177\u5305\u200b\uff0c\u200b\u5728\u200bpython3.4\u200b\u4e2d\u200b\u53d1\u5e03\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u652f\u6301\u200b\u8de8\u5e73\u53f0\u200b\uff08Unix\u200b\u548c\u200bWindows\uff09\uff0cpathlib\u200b\u57fa\u4e8e\u200b\u662f\u5426\u200b\u6709\u200bI/O\u200b\u64cd\u4f5c\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e24\u79cd\u200b\u65b9\u5f0f\u200b\u6765\u200b\u64cd\u4f5c\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b,\u200b\u4e00\u79cd\u200b\u662f\u200b\u63d0\u4f9b\u200b\u7eaf\u200b\u8ba1\u7b97\u200b\u64cd\u4f5c\u200b\u800c\u200b\u6ca1\u6709\u200bI/O\u200b\u7684\u200b\u7eaf\u200b\u8def\u5f84\u200b\uff0c\u200b\u53e6\u200b\u4e00\u79cd\u200b\u662f\u200b\u63d0\u4f9b\u200bI/O\u200b\u64cd\u4f5c\u200b\u7684\u200b\u5177\u4f53\u200b\u8def\u5f84\u200b\u3002 <pre><code>         +----------+\n                |          |\n       ---------| PurePath |--------\n       |        |          |       |\n       |        +----------+       |\n       |             |             |\n       |             |             |\n       v             |             v\n+---------------+    |    +-----------------+\n|               |    |    |                 |\n| PurePosixPath |    |    | PureWindowsPath |\n|               |    |    |                 |\n+---------------+    |    +-----------------+\n       |             v             |\n       |          +------+         |\n       |          |      |         |\n       |   -------| Path |------   |\n       |   |      |      |     |   |\n       |   |      +------+     |   |\n       |   |                   |   |\n       |   |                   |   |\n       v   v                   v   v\n  +-----------+           +-------------+\n  |           |           |             |\n  | PosixPath |           | WindowsPath |\n  |           |           |             |\n  +-----------+           +-------------+\n</code></pre></p>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#_4","title":"\u5b9e\u73b0\u200b\u539f\u7406\u200b\uff1a","text":"<p>  pathlib\u200b\u5305\u200b\u4e3b\u8981\u200b\u7ec4\u6210\u200b\u7ed3\u6784\u200b\uff1a</p> <ul> <li>PurePath(object): \u200b\u8be5\u7c7b\u200b\u63d0\u4f9b\u200b\u4e00\u5957\u200b\u57fa\u4e8e\u200b\u975e\u200bI/O\u200b\u64cd\u4f5c\u200b\u7684\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\u7684\u200b\u63a5\u53e3\u200b\u3002</li> <li>PurePosixPath(PurePath): \u200b\u8be5\u200b\u63d0\u4f9b\u200b\u4e00\u5957\u200b\u5728\u200bUnix\u200b\u73af\u5883\u200b\u4e2d\u200b\u57fa\u4e8e\u200b\u975e\u200bI/O\u200b\u64cd\u4f5c\u200b\u7684\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\u63a5\u53e3\u200b\u3002</li> <li>PureWindowsPath(PurePath): \u200b\u8be5\u200b\u63d0\u4f9b\u200b\u4e00\u5957\u200b\u5728\u200bWindows\u200b\u73af\u5883\u200b\u4e2d\u200b\u57fa\u4e8e\u200b\u975e\u200bI/O\u200b\u64cd\u4f5c\u200b\u7684\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\u63a5\u53e3\u200b\u3002</li> <li>Path(PurePath): \u200b\u8be5\u7c7b\u200b\u63d0\u4f9b\u200b\u4e00\u5957\u200b\u57fa\u4e8e\u200bI/O\u200b\u64cd\u4f5c\u200b\u7684\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\u63a5\u53e3\u200b\u3002</li> <li>PosixPath(Path, PurePosixPath): \u200b\u8be5\u7c7b\u200b\u63d0\u4f9b\u200b\u4e00\u5957\u200b\u5728\u200bUnix\u200b\u73af\u5883\u200b\u4e2d\u200b\u57fa\u4e8e\u200bI/O\u200b\u64cd\u4f5c\u200b\u7684\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\u63a5\u53e3\u200b\u3002</li> <li>WindowsPath(Path, PureWindowsPath): \u200b\u8be5\u7c7b\u200b\u63d0\u4f9b\u200b\u4e00\u5957\u200b\u5728\u200bwindows\u200b\u73af\u5883\u200b\u4e2d\u200b\u57fa\u4e8e\u200bI/O\u200b\u64cd\u4f5c\u200b\u7684\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\u63a5\u53e3\u200b\u3002</li> </ul> <p>\u200b\u901a\u5e38\u200b\uff0cPath\u200b\u662f\u200b\u5728\u200b\u65e5\u5e38\u200b\u5f00\u53d1\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u9891\u7387\u200b\u6700\u9ad8\u200b\u7684\u200b\u7c7b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7c7b\u6bd4\u200bos.path\u3002</p>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#path","title":"Path\u200b\u7c7b\u200b\u7684\u200b\u5e38\u7528\u200b\u63a5\u53e3","text":"<p>\u200b\u5907\u6ce8\u200b\uff1a\u200b\u4e0b\u5217\u200b\u4ec5\u200b\u5217\u51fa\u200b\u4e86\u200b\u65e5\u5e38\u200b\u5f00\u53d1\u200b\u4e2d\u200b\u5e38\u7528\u200b\u7684\u200b\u63a5\u53e3\u200b\uff0c\u200b\u66f4\u5168\u200b\u7684\u200b\u63a5\u53e3\u200b\u6e05\u5355\u200b\u8bf7\u200b\u89c1\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b</p>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#_5","title":"\u8def\u5f84\u200b\uff08\u200b\u67e5\u627e\u200b\uff09\u200b\u63a5\u53e3\u200b\uff1a","text":"","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathcwd","title":"Path.cwd()\uff1a","text":"<ul> <li>\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u8868\u793a\u200b\u5f53\u524d\u76ee\u5f55\u200b\u7684\u200b\u8def\u5f84\u200b\u5bf9\u8c61\u200b\uff08\u200b\u548c\u200b os.getcwd() \u200b\u8fd4\u56de\u200b\u7684\u200b\u76f8\u540c\u200b\uff09</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathhome","title":"Path.home()","text":"<ul> <li>\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u8868\u793a\u200b\u7528\u6237\u200b\u5bb6\u200b\u76ee\u5f55\u200b\u7684\u200b\u65b0\u200b\u8def\u5f84\u200b\u5bf9\u8c61\u200b\uff08\u200b\u4e0e\u200b\u5e26\u200b ~ \u200b\u6784\u9020\u200b\u7684\u200b os.path.expanduser() \u200b\u6240\u200b\u8fd4\u56de\u200b\u7684\u200b\u76f8\u540c\u200b\uff09\u3002 \u200b\u5982\u679c\u200b\u65e0\u6cd5\u200b\u89e3\u6790\u200b\u5bb6\u200b\u76ee\u5f55\u200b\uff0c\u200b\u5219\u200b\u4f1a\u200b\u5f15\u53d1\u200b RuntimeError</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathexists-follow_symlinkstrue","title":"Path.exists(*, follow_symlinks=True)","text":"<ul> <li>\u200b\u5982\u679c\u200b\u8def\u5f84\u200b\u6307\u5411\u200b\u73b0\u6709\u200b\u7684\u200b\u6587\u4ef6\u200b\u6216\u200b\u76ee\u5f55\u200b\u5219\u200b\u8fd4\u56de\u200b True</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathglobpattern-case_sensitivenone","title":"Path.glob(pattern, *, case_sensitive=None)","text":"<ul> <li>\u200b\u89e3\u6790\u200b\u76f8\u5bf9\u200b\u4e8e\u200b\u6b64\u200b\u8def\u5f84\u200b\u7684\u200b\u901a\u914d\u7b26\u200b pattern\uff0c\u200b\u4ea7\u751f\u200b\u6240\u6709\u200b\u5339\u914d\u200b\u7684\u200b\u6587\u4ef6\u200b\uff0cpattern \u200b\u7684\u200b\u5f62\u5f0f\u200b\u4e0e\u200b fnmatch --- Unix \u200b\u6587\u4ef6\u540d\u200b\u6a21\u5f0f\u5339\u914d\u200b \u200b\u7684\u200b\u76f8\u540c\u200b\uff0c\u200b\u8fd8\u200b\u589e\u52a0\u200b\u4e86\u200b \"**\" \u200b\u8868\u793a\u200b \"\u200b\u6b64\u200b\u76ee\u5f55\u200b\u4ee5\u53ca\u200b\u6240\u6709\u200b\u5b50\u76ee\u5f55\u200b\uff0c\u200b\u9012\u5f52\u200b\"\u3002 \u200b\u6362\u53e5\u8bdd\u8bf4\u200b\uff0c\u200b\u5b83\u200b\u542f\u7528\u200b\u9012\u5f52\u200b\u901a\u914d\u200b</li> <li>\u200b\u5728\u200b\u4e00\u4e2a\u200b\u8f83\u5927\u200b\u7684\u200b\u76ee\u5f55\u200b\u6811\u4e2d\u200b\u4f7f\u7528\u200b \"**\" \u200b\u6a21\u5f0f\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u6d88\u8017\u200b\u975e\u5e38\u200b\u591a\u200b\u7684\u200b\u65f6\u95f4\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathrglobpattern-case_sensitivenone","title":"Path.rglob(pattern, *, case_sensitive=None)","text":"<ul> <li>\u200b\u9012\u5f52\u200b\u5730\u200b\u5bf9\u200b\u7ed9\u5b9a\u200b\u7684\u200b\u76f8\u5bf9\u200b pattern \u200b\u6267\u884c\u200b glob \u200b\u901a\u914d\u200b\u3002 \u200b\u8fd9\u200b\u7c7b\u4f3c\u200b\u4e8e\u200b\u5f53\u200b\u8c03\u7528\u200b Path.glob() \u200b\u65f6\u200b\u5728\u200b pattern \u200b\u4e4b\u524d\u200b\u52a0\u4e0a\u200b \"**/\"\uff0c\u200b\u5176\u4e2d\u200b patterns \u200b\u4e0e\u200b fnmatch \u200b\u4e2d\u200b\u7684\u200b\u76f8\u540c\u200b:</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathiterdir","title":"Path.iterdir()","text":"<ul> <li>\u200b\u5f53\u200b\u8def\u5f84\u200b\u6307\u5411\u200b\u4e00\u4e2a\u200b\u76ee\u5f55\u200b\u65f6\u200b\uff0c\u200b\u4ea7\u751f\u200b\u8be5\u200b\u8def\u5f84\u200b\u4e0b\u200b\u7684\u200b\u5bf9\u8c61\u200b\u7684\u200b\u8def\u5f84\u200b\uff0c \u200b\u5b50\u200b\u6761\u76ee\u200b\u4f1a\u4ee5\u200b\u4efb\u610f\u200b\u987a\u5e8f\u200b\u751f\u6210\u200b\uff0c\u200b\u5e76\u4e14\u200b\u4e0d\u200b\u5305\u62ec\u200b\u7279\u6b8a\u200b\u6761\u76ee\u200b '.' \u200b\u548c\u200b '..'\u3002 \u200b\u5982\u679c\u200b\u8fed\u4ee3\u200b\u5668\u200b\u521b\u5efa\u200b\u4e4b\u540e\u200b\u6709\u200b\u6587\u4ef6\u200b\u5728\u200b\u76ee\u5f55\u200b\u4e2d\u200b\u88ab\u200b\u79fb\u9664\u200b\u6216\u200b\u6dfb\u52a0\u200b\uff0c\u200b\u662f\u5426\u200b\u8981\u200b\u5305\u62ec\u200b\u8be5\u200b\u6587\u4ef6\u200b\u6240\u200b\u5bf9\u5e94\u200b\u7684\u200b\u8def\u5f84\u200b\u5bf9\u8c61\u200b\u5e76\u200b\u6ca1\u6709\u200b\u660e\u786e\u89c4\u5b9a\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathwalktop_downtrue-on_errornone-follow_symlinksfalse","title":"Path.walk(top_down=True, on_error=None, follow_symlinks=False)","text":"<ul> <li>\u200b\u901a\u8fc7\u200b\u5bf9\u200b\u76ee\u5f55\u200b\u6811\u200b\u81ea\u4e0a\u800c\u4e0b\u200b\u6216\u200b\u81ea\u4e0b\u800c\u4e0a\u200b\u7684\u200b\u904d\u200b\u5386\u6765\u200b\u751f\u6210\u200b\u5176\u4e2d\u200b\u7684\u200b\u6587\u4ef6\u540d\u200b\u3002\u200b\u5bf9\u4e8e\u200b\u6839\u200b\u4f4d\u7f6e\u200b\u4e3a\u200b self \u200b\u7684\u200b\u76ee\u5f55\u200b\u6811\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u76ee\u5f55\u200b\uff08\u200b\u5305\u62ec\u200b self \u200b\u4f46\u200b\u4e0d\u200b\u5305\u62ec\u200b '.' \u200b\u548c\u200b '..'\uff09\uff0c\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u4e00\u4e2a\u200b 3 \u200b\u5143\u7ec4\u200b (dirpath, dirnames, filenames)\u3002</li> <li>dirpath \u200b\u662f\u200b\u6307\u5411\u200b\u5f53\u524d\u200b\u6b63\u200b\u88ab\u200b\u904d\u5386\u200b\u5230\u200b\u7684\u200b\u76ee\u5f55\u200b\u7684\u200b Path\uff0cdirnames \u200b\u662f\u200b\u7531\u200b\u8868\u793a\u200b dirpath \u200b\u4e2d\u200b\u5b50\u76ee\u5f55\u200b\u540d\u79f0\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u7ec4\u6210\u200b\u7684\u200b\u5217\u8868\u200b (\u200b\u4e0d\u200b\u5305\u62ec\u200b '.' \u200b\u548c\u200b '..')\uff0cfilenames \u200b\u662f\u200b\u7531\u200b\u8868\u793a\u200b dirpath \u200b\u4e2d\u975e\u200b\u76ee\u5f55\u200b\u6587\u4ef6\u540d\u79f0\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u7ec4\u6210\u200b\u7684\u200b\u5217\u8868\u200b\u3002 \u200b\u8981\u200b\u83b7\u53d6\u200b dirpath \u200b\u4e2d\u200b\u6587\u4ef6\u200b\u6216\u200b\u76ee\u5f55\u200b\u7684\u200b\u5b8c\u6574\u200b\u8def\u5f84\u200b (\u200b\u4ee5\u200b self \u200b\u5f00\u5934\u200b)\uff0c\u200b\u53ef\u200b\u4f7f\u7528\u200b dirpath / name\u3002 \u200b\u8fd9\u4e9b\u200b\u5217\u8868\u200b\u662f\u5426\u200b\u6392\u5e8f\u200b\u53d6\u51b3\u4e8e\u200b\u5177\u4f53\u200b\u7684\u200b\u6587\u4ef6\u7cfb\u7edf\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathabsolute","title":"Path.absolute()","text":"<ul> <li>\u200b\u6539\u4e3a\u200b\u7edd\u5bf9\u8def\u5f84\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathresolvestrictfalse","title":"Path.resolve(strict=False)","text":"<ul> <li>\u200b\u5c06\u200b\u8def\u5f84\u200b\u7edd\u5bf9\u5316\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#_6","title":"\u8def\u5f84\u200b\uff08\u200b\u5224\u65ad\u200b\uff09\u200b\u63a5\u53e3","text":"","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathis_dir","title":"Path.is_dir()","text":"<ul> <li>\u200b\u5982\u679c\u200b\u8def\u5f84\u200b\u6307\u5411\u200b\u4e00\u4e2a\u200b\u76ee\u5f55\u200b\uff08\u200b\u6216\u8005\u200b\u4e00\u4e2a\u200b\u6307\u5411\u200b\u76ee\u5f55\u200b\u7684\u200b\u7b26\u53f7\u200b\u94fe\u63a5\u200b\uff09\u200b\u5219\u200b\u8fd4\u56de\u200b True\uff0c\u200b\u5982\u679c\u200b\u6307\u5411\u200b\u5176\u4ed6\u200b\u7c7b\u578b\u200b\u7684\u200b\u6587\u4ef6\u200b\u5219\u200b\u8fd4\u56de\u200b False\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathis_file","title":"Path.is_file()","text":"<ul> <li>\u200b\u5982\u679c\u200b\u8def\u5f84\u200b\u6307\u5411\u200b\u4e00\u4e2a\u200b\u6b63\u5e38\u200b\u7684\u200b\u6587\u4ef6\u200b\uff08\u200b\u6216\u8005\u200b\u4e00\u4e2a\u200b\u6307\u5411\u200b\u6b63\u5e38\u200b\u6587\u4ef6\u200b\u7684\u200b\u7b26\u53f7\u200b\u94fe\u63a5\u200b\uff09\u200b\u5219\u200b\u8fd4\u56de\u200b True\uff0c\u200b\u5982\u679c\u200b\u6307\u5411\u200b\u5176\u4ed6\u200b\u7c7b\u578b\u200b\u7684\u200b\u6587\u4ef6\u200b\u5219\u200b\u8fd4\u56de\u200b False\u3002</li> </ul> <p>Path.samefile(other_path) \u200b\u8fd4\u56de\u200b\u6b64\u200b\u76ee\u5f55\u200b\u662f\u5426\u200b\u6307\u5411\u200b\u4e0e\u200b\u53ef\u80fd\u200b\u662f\u200b\u5b57\u7b26\u4e32\u200b\u6216\u8005\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u8def\u5f84\u200b\u5bf9\u8c61\u200b\u7684\u200b other_path \u200b\u76f8\u540c\u200b\u7684\u200b\u6587\u4ef6\u200b\u3002\u200b\u8bed\u4e49\u200b\u7c7b\u4f3c\u200b\u4e8e\u200b os.path.samefile() \u200b\u4e0e\u200b os.path.samestat()\u3002</p>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#_7","title":"\u8def\u5f84\u200b\uff08\u200b\u8bfb\u5199\u200b\uff09\u200b\u63a5\u53e3","text":"","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathmkdirmode0o777-parentsfalse-exist_okfalse","title":"Path.mkdir(mode=0o777, parents=False, exist_ok=False)","text":"<ul> <li>\u200b\u65b0\u5efa\u200b\u7ed9\u5b9a\u200b\u8def\u5f84\u200b\u7684\u200b\u76ee\u5f55\u200b\u3002\u200b\u5982\u679c\u200b\u7ed9\u51fa\u200b\u4e86\u200b mode \uff0c\u200b\u5b83\u200b\u5c06\u200b\u4e0e\u200b\u5f53\u524d\u200b\u8fdb\u7a0b\u200b\u7684\u200b umask \u200b\u503c\u200b\u5408\u5e76\u200b\u6765\u200b\u51b3\u5b9a\u200b\u6587\u4ef6\u200b\u6a21\u5f0f\u200b\u548c\u200b\u8bbf\u95ee\u200b\u6807\u5fd7\u200b\u3002\u200b\u5982\u679c\u200b\u8def\u5f84\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u629b\u51fa\u200b FileExistsError\u3002</li> <li>parents -&gt;True: \u200b\u4efb\u4f55\u200b\u627e\u200b\u4e0d\u5230\u200b\u7684\u200b\u7236\u200b\u76ee\u5f55\u200b\u90fd\u200b\u4f1a\u200b\u4f34\u968f\u200b\u7740\u200b\u6b64\u200b\u8def\u5f84\u200b\u88ab\u200b\u521b\u5efa\u200b\uff1b\u200b\u5b83\u4eec\u200b\u4f1a\u4ee5\u200b\u9ed8\u8ba4\u200b\u6743\u9650\u200b\u88ab\u200b\u521b\u5efa\u200b\uff0c\u200b\u800c\u200b\u4e0d\u200b\u8003\u8651\u200b mode \u200b\u8bbe\u7f6e\u200b</li> <li>parents -&gt;False\uff0c\u200b\u5219\u200b\u627e\u200b\u4e0d\u5230\u200b\u7684\u200b\u7236\u7ea7\u200b\u76ee\u5f55\u200b\u4f1a\u200b\u5f15\u53d1\u200b FileNotFoundError\u3002</li> <li>exist_ok \u200b\u4e3a\u200b false\uff08\u200b\u9ed8\u8ba4\u200b\uff09\uff0c\u200b\u5219\u200b\u5728\u200b\u76ee\u6807\u200b\u5df2\u200b\u5b58\u5728\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u629b\u51fa\u200b FileExistsError.</li> <li>exist_ok \u200b\u4e3a\u200b true\uff0c \u200b\u5219\u200b FileExistsError \u200b\u5f02\u5e38\u200b\u5c06\u200b\u88ab\u200b\u5ffd\u7565\u200b\uff08\u200b\u548c\u200b POSIX mkdir -p \u200b\u547d\u4ee4\u200b\u884c\u4e3a\u200b\u76f8\u540c\u200b\uff09\uff0c\u200b\u4f46\u662f\u200b\u53ea\u6709\u200b\u5728\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u8def\u5f84\u200b\u7ec4\u4ef6\u200b\u4e0d\u662f\u200b\u73b0\u5b58\u200b\u7684\u200b\u975e\u200b\u76ee\u5f55\u200b\u6587\u4ef6\u200b\u65f6\u624d\u200b\u751f\u6548\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathrmdir","title":"Path.rmdir()","text":"<ul> <li>\u200b\u79fb\u9664\u200b\u6b64\u200b\u76ee\u5f55\u200b\u3002\u200b\u6b64\u200b\u76ee\u5f55\u200b\u5fc5\u987b\u200b\u4e3a\u7a7a\u200b\u7684\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathtouchmode0o666-exist_oktrue","title":"Path.touch(mode=0o666, exist_ok=True)","text":"<ul> <li>\u200b\u5c06\u200b\u7ed9\u5b9a\u200b\u7684\u200b\u8def\u5f84\u200b\u521b\u5efa\u200b\u4e3a\u200b\u6587\u4ef6\u200b\u3002\u200b\u5982\u679c\u200b\u7ed9\u51fa\u200b\u4e86\u200b mode \u200b\u5b83\u200b\u5c06\u200b\u4e0e\u200b\u5f53\u524d\u200b\u8fdb\u7a0b\u200b\u7684\u200b umask \u200b\u503c\u200b\u5408\u5e76\u200b\u4ee5\u200b\u786e\u5b9a\u200b\u6587\u4ef6\u200b\u7684\u200b\u6a21\u5f0f\u200b\u548c\u200b\u8bbf\u95ee\u200b\u6807\u5fd7\u200b\u3002\u200b\u5982\u679c\u200b\u6587\u4ef6\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u5f53\u200b exist_ok \u200b\u4e3a\u200b true \u200b\u5219\u200b\u51fd\u6570\u200b\u4ecd\u4f1a\u200b\u6210\u529f\u200b\uff08\u200b\u5e76\u4e14\u200b\u5c06\u200b\u5b83\u200b\u7684\u200b\u4fee\u6539\u200b\u4e8b\u4ef6\u200b\u66f4\u65b0\u200b\u4e3a\u200b\u5f53\u524d\u200b\u4e8b\u4ef6\u200b\uff09\uff0c\u200b\u5426\u5219\u200b\u629b\u51fa\u200b FileExistsError\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathrenametarget","title":"Path.rename(target)","text":"<ul> <li>\u200b\u5c06\u200b\u6587\u4ef6\u540d\u200b\u76ee\u5f55\u200b\u91cd\u547d\u540d\u200b\u4e3a\u200b\u7ed9\u5b9a\u200b\u7684\u200b target\uff0c\u200b\u5e76\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u6307\u5411\u200b target \u200b\u7684\u200b Path \u200b\u5b9e\u4f8b\u200b\u3002 \u200b\u5728\u200b Unix \u200b\u4e0a\u200b\uff0c\u200b\u5982\u679c\u200b target \u200b\u5b58\u5728\u200b\u4e14\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5982\u679c\u200b\u7528\u6237\u200b\u6709\u200b\u8db3\u591f\u200b\u6743\u9650\u200b\u5219\u200b\u5b83\u200b\u5c06\u200b\u88ab\u200b\u9759\u9ed8\u200b\u5730\u200b\u66ff\u6362\u200b\u3002 \u200b\u5728\u200b Windows \u200b\u4e0a\u200b\uff0c\u200b\u5982\u679c\u200b target \u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u5c06\u200b\u4f1a\u200b\u5f15\u53d1\u200b FileExistsError\u3002 target \u200b\u53ef\u4ee5\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u6216\u8005\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u8def\u5f84\u200b\u5bf9\u8c61\u200b:</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathopenmoder-buffering-1-encodingnone-errorsnone-newlinenone","title":"Path.open(mode='r', buffering=- 1, encoding=None, errors=None, newline=None)","text":"<ul> <li>\u200b\u6253\u5f00\u200b\u8def\u5f84\u200b\u6307\u5411\u200b\u7684\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5c31\u200b\u50cf\u200b\u5185\u7f6e\u200b\u7684\u200b open() \u200b\u51fd\u6570\u200b\u6240\u200b\u505a\u200b\u7684\u200b\u4e00\u6837\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathread_bytes","title":"Path.read_bytes()","text":"<ul> <li>\u200b\u4ee5\u200b\u5b57\u8282\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5f62\u5f0f\u200b\u8fd4\u56de\u200b\u8def\u5f84\u200b\u6307\u5411\u200b\u7684\u200b\u6587\u4ef6\u200b\u7684\u200b\u4e8c\u8fdb\u5236\u200b\u5185\u5bb9\u200b,</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathread_textencodingnone-errorsnone","title":"Path.read_text(encoding=None, errors=None)","text":"<ul> <li>\u200b\u4ee5\u200b\u5b57\u7b26\u4e32\u200b\u5f62\u5f0f\u200b\u8fd4\u56de\u200b\u8def\u5f84\u200b\u6307\u5411\u200b\u7684\u200b\u6587\u4ef6\u200b\u7684\u200b\u89e3\u7801\u200b\u540e\u200b\u6587\u672c\u200b\u5185\u5bb9\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathwrite_bytesdata","title":"Path.write_bytes(data)","text":"<ul> <li>\u200b\u5c06\u200b\u6587\u4ef6\u200b\u4ee5\u200b\u4e8c\u8fdb\u5236\u200b\u6a21\u5f0f\u200b\u6253\u5f00\u200b\uff0c\u200b\u5199\u5165\u200b data \u200b\u5e76\u200b\u5173\u95ed\u200b,\u200b\u4e00\u4e2a\u200b\u540c\u540d\u200b\u7684\u200b\u73b0\u5b58\u200b\u6587\u4ef6\u200b\u5c06\u200b\u88ab\u200b\u8986\u76d6\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathwrite_textdata-encodingnone-errorsnone-newlinenone","title":"Path.write_text(data, encoding=None, errors=None, newline=None)","text":"<ul> <li>\u200b\u5c06\u200b\u6587\u4ef6\u200b\u4ee5\u200b\u6587\u672c\u200b\u6a21\u5f0f\u200b\u6253\u5f00\u200b\uff0c\u200b\u5199\u5165\u200b data \u200b\u5e76\u200b\u5173\u95ed\u200b,\u200b\u540c\u540d\u200b\u7684\u200b\u73b0\u6709\u200b\u6587\u4ef6\u200b\u4f1a\u200b\u88ab\u200b\u8986\u76d6\u200b\u3002 \u200b\u53ef\u9009\u5f62\u200b\u53c2\u200b\u7684\u200b\u542b\u4e49\u200b\u4e0e\u200b open() \u200b\u7684\u200b\u76f8\u540c\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathstat-follow_symlinkstrue","title":"Path.stat(*, follow_symlinks=True)","text":"<ul> <li>\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b os.stat_result \u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5176\u4e2d\u200b\u5305\u542b\u200b\u6709\u5173\u200b\u6b64\u200b\u8def\u5f84\u200b\u7684\u200b\u4fe1\u606f\u200b\uff0c\u200b\u4f8b\u5982\u200b os.stat()\u3002 \u200b\u7ed3\u679c\u200b\u4f1a\u200b\u5728\u200b\u6bcf\u6b21\u200b\u8c03\u7528\u200b\u6b64\u200b\u65b9\u6cd5\u200b\u65f6\u200b\u91cd\u65b0\u200b\u641c\u7d22\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#_8","title":"\u8def\u5f84\u200b\uff08\u200b\u6743\u9650\u200b\uff09\u200b\u63a5\u53e3","text":"","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathchmodmode-follow_symlinkstrue","title":"Path.chmod(mode, *, follow_symlinks=True)","text":"<ul> <li>\u200b\u6539\u53d8\u200b\u6587\u4ef6\u200b\u6a21\u5f0f\u200b\u548c\u200b\u6743\u9650\u200b\uff0c\u200b\u548c\u200b os.chmod() \u200b\u4e00\u6837\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathowner","title":"Path.owner()","text":"<ul> <li>\u200b\u8fd4\u56de\u200b\u62e5\u6709\u200b\u6b64\u200b\u6587\u4ef6\u200b\u7684\u200b\u7528\u6237\u540d\u200b\u3002\u200b\u5982\u679c\u200b\u6587\u4ef6\u200b\u7684\u200b UID \u200b\u65e0\u6cd5\u200b\u5728\u200b\u7cfb\u7edf\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\u627e\u5230\u200b\uff0c\u200b\u5219\u200b\u629b\u51fa\u200b KeyError\u3002</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathgroup","title":"Path.group()","text":"<ul> <li>\u200b\u8fd4\u56de\u200b\u62e5\u6709\u200b\u6b64\u200b\u6587\u4ef6\u200b\u7684\u200b\u7528\u6237\u7ec4\u200b\u3002\u200b\u5982\u679c\u200b\u6587\u4ef6\u200b\u7684\u200b GID \u200b\u65e0\u6cd5\u200b\u5728\u200b\u7cfb\u7edf\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\u627e\u5230\u200b\uff0c\u200b\u5c06\u200b\u629b\u51fa\u200b KeyError \u3002</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#pathlibos","title":"pathlib\u200b\u548c\u200bos\u200b\u63a5\u53e3\u200b\u5bf9\u7167","text":"pathlib os \u200b\u548c\u200b os.path Path.absolute() 1 \u200b\u6539\u4e3a\u200b\u7edd\u5bf9\u8def\u5f84\u200b\uff0c\u200b\u8fd4\u56de\u200b\u65b0\u200b\u7684\u200b\u8def\u5f84\u200b\u5bf9\u8c61\u200b os.path.abspath() Path.resolve() \u200b\u5c06\u200b\u8def\u5f84\u200b\u7edd\u5bf9\u5316\u200b\uff0c\u200b\u8fd4\u56de\u200b\u65b0\u200b\u7684\u200b\u8def\u5f84\u200b\u5bf9\u8c61\u200b os.path.realpath() Path.chmod() \u200b\u6539\u53d8\u200b\u6587\u4ef6\u200b\u6a21\u5f0f\u200b\u548c\u200b\u6743\u9650\u200b os.chmod() Path.mkdir() \u200b\u65b0\u5efa\u200b\u7ed9\u5b9a\u200b\u7684\u200b\u8def\u5f84\u200b os.mkdir() Path.mkdir() \u200b\u540c\u200b\u4e0a\u200b os.makedirs() Path.rename() \u200b\u5c06\u200b\u6587\u4ef6\u540d\u200b\u76ee\u5f55\u200b\u91cd\u547d\u540d\u200b\u4e3a\u200b\u7ed9\u5b9a\u200b\u7684\u200b target\uff0c\u200b\u9700\u8981\u200b\u6743\u9650\u200b os.rename() Path.replace() \u200b\u5c06\u200b\u6587\u4ef6\u200b\u6216\u200b\u76ee\u5f55\u200b\u91cd\u547d\u540d\u200b\u4e3a\u200b\u7ed9\u5b9a\u200b\u7684\u200b target\uff0c\u200b\u5f3a\u5236\u200b\u66ff\u6362\u200b os.replace() Path.rmdir() \u200b\u79fb\u9664\u200b\u4e00\u4e2a\u200b\u7a7a\u76ee\u5f55\u200b os.rmdir() Path.unlink() \u200b\u79fb\u9664\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b os.remove(), os.unlink() Path.cwd() \u200b\u653e\u200b\u56de\u200b\u5f53\u524d\u200b\u8def\u5f84\u200b\u7684\u200b\u8def\u5f84\u200b\u5bf9\u8c61\u200b os.getcwd() Path.exists() \u200b\u5224\u65ad\u200b\u6587\u4ef6\u200b\u6216\u200b\u76ee\u5f55\u200b\u662f\u5426\u200b\u5b58\u5728\u200b os.path.exists() Path.expanduser() \u200b\u548c\u200b Path.home() \u200b\u83b7\u53d6\u200b\u8868\u793a\u200b\u7528\u6237\u200b\u5bb6\u200b\u76ee\u5f55\u200b\u7684\u200b\u65b0\u200b\u8def\u5f84\u200b\u5bf9\u8c61\u200b os.path.expanduser() Path.iterdir() \u200b\u904d\u5386\u200b\u5f53\u524d\u200b\u8def\u5f84\u200b os.listdir() Path.walk() \u200b\u901a\u8fc7\u200b\u5bf9\u200b\u76ee\u5f55\u200b\u6811\u200b\u81ea\u4e0a\u800c\u4e0b\u200b\u6216\u200b\u81ea\u4e0b\u800c\u4e0a\u200b\u7684\u200b\u904d\u200b\u5386\u6765\u200b\u751f\u6210\u200b\u5176\u4e2d\u200b\u7684\u200b\u6587\u4ef6\u540d\u200b os.walk() Path.is_dir() \u200b\u662f\u5426\u662f\u200b\u76ee\u5f55\u200b os.path.isdir() Path.is_file() \u200b\u662f\u5426\u200b\u6587\u4ef6\u200b os.path.isfile() Path.is_symlink() - os.path.islink() Path.hardlink_to() - os.link() Path.symlink_to() - os.symlink() Path.readlink() - os.readlink() PurePath.relative_to() 2 - os.path.relpath() Path.stat(), Path.owner(), Path.group() \u200b\u83b7\u53d6\u200b\u6587\u4ef6\u200b\u548c\u200b\u8def\u5f84\u200b\u4fe1\u606f\u200b\u3001\u200b\u6743\u9650\u200b os.stat() PurePath.is_absolute() \u200b\u662f\u5426\u662f\u200b\u89c9\u5f97\u200b\u8def\u5f84\u200b os.path.isabs() PurePath.joinpath() \u200b\u8def\u5f84\u200b\u62fc\u63a5\u200b os.path.join() PurePath.name \u200b\u83b7\u53d6\u200b\u6587\u4ef6\u200b\u6216\u200b\u76ee\u5f55\u540d\u200b os.path.basename() PurePath.parent \u200b\u83b7\u53d6\u200b\u4e0a\u7ea7\u200b\u76ee\u5f55\u200b os.path.dirname() Path.samefile() \u200b\u5224\u65ad\u200b\u662f\u200b\u76f8\u540c\u200b\u6587\u4ef6\u200b os.path.samefile() PurePath.stem \u200b\u548c\u200b PurePath.suffix \u200b\u83b7\u53d6\u200b\u6587\u4ef6\u540d\u79f0\u200b\uff0c\u200b\u83b7\u53d6\u200b\u6587\u4ef6\u200b\u540e\u7f00\u200b os.path.splitext()","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#_9","title":"\u5b9e\u8df5\u200b\u5e94\u7528","text":"<p>\u200b\u524d\u7f6e\u200b\u8bf4\u660e\u200b\uff1a</p> <ul> <li>\u200b\u65b9\u4fbf\u200b\u8d77\u200b\u89c1\u200b\uff0c\u200b\u5bfc\u5305\u200b\u8def\u5f84\u200b\u4e0d\u200b\u5728\u200b\u4e0b\u5217\u200b\u6848\u4f8b\u200b\u4e2d\u200b\u91cd\u590d\u200b\u6dfb\u52a0\u200b <pre><code>from pathlib import *\n\nimport os\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#_10","title":"\u83b7\u53d6\u200b\u6587\u4ef6\u200b\u7684\u200b\u7236\u7ea7\u200b\u76ee\u5f55","text":"<pre><code># pathlib\u200b\u5199\u6cd5\u200b\npathlib.Path.cwd().parent\n\n# os\u200b\u5199\u6cd5\u200b\nos.path.dirname(os.path.dirname(os.getcwd()))\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#_11","title":"\u8def\u5f84\u200b\u62fc\u63a5","text":"<pre><code># pathlib\u200b\u5199\u6cd5\u200b\npaths = ('ssw', 'test')\npathlib.Path.cwd().parent.joinpath(*paths) \n# \u200b\u6216\u200b\npathlib.Path.cwd().parent / 'ssw' / 'test'\n# \u200b\u6216\u200b\npathlib.Path.cwd().parent / 'ssw/test'\n\n# os\u200b\u5199\u6cd5\u200b\nos.path.join(os.path.dirname(os.getcwd()), 'ssw', 'test')\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#_12","title":"\u5224\u65ad\u200b\u6587\u4ef6\u200b\u7c7b\u522b","text":"<pre><code>In [5]: path_tmp = Path('/data/sswang/projects/test/opserver/manage.py')\n\nIn [6]: Path(path_tmp).parent\nOut[6]: PosixPath('/data/sswang/projects/test/opserver')\n\nIn [7]: Path(path_tmp).parents\nOut[7]: &lt;PosixPath.parents&gt;\n\nIn [10]: list(Path(path_tmp).parents)\nOut[10]: \n[PosixPath('/data/sswang/projects/test/opserver'),\n PosixPath('/data/sswang/projects/test'),\n PosixPath('/data/sswang/projects'),\n PosixPath('/data/sswang'),\n PosixPath('/data'),\n PosixPath('/')]\n\nIn [11]: Path(path_tmp).name\nOut[11]: 'manage.py'\n\nIn [12]: Path(path_tmp).stem\nOut[12]: 'manage'\n\nIn [13]: Path(path_tmp).suffix\nOut[13]: '.py'\n\nIn [14]: Path(path_tmp).suffixes\nOut[14]: ['.py']\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#_13","title":"\u6253\u5f00\u200b\u6587\u4ef6","text":"<pre><code>In [39]: with p.open() as f:\n    ...:     f.readline()\n    ...: \n\nIn [40]: p.read_text()\nOut[40]: '#!/usr/bin/env python\\n\"\"\"Django\\'s command-line utility for administrative tasks.\"\"\"\\nimport os\\nimport sys\\n\\n\\ndef main():\\n    \"\"\"Run administrative tasks.\"\"\"\\n    os.environ.setdefault(\\'DJANGO_SETTINGS_MODULE\\', \\'main.settings\\')\\n    try:\\n        from django.core.management import execute_from_command_line\\n    except ImportError as exc:\\n        raise ImportError(\\n            \"Couldn\\'t import Django. Are you sure it\\'s installed and \"\\n            \"available on your PYTHONPATH environment variable? Did you \"\\n            \"forget to activate a virtual environment?\"\\n        ) from exc\\n    execute_from_command_line(sys.argv)\\n\\n\\nif __name__ == \\'__main__\\':\\n    main()\\n'\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#_14","title":"\u83b7\u53d6\u200b\u6587\u4ef6\u200b\u4fe1\u606f","text":"<pre><code>In [1]: from pathlib import *\n\nIn [2]: p1= Path.cwd()\n\nIn [3]: p1\nOut[3]: PosixPath('/data/sswang/projects/test/opserver')\n\nIn [6]: p2 = Path('/data/sswang/projects/test/opserver/manage.py')\n\nIn [7]: p2.stat()\nOut[7]: os.stat_result(st_mode=33188, st_ino=219153651, st_dev=2081, st_nlink=1, st_uid=0, st_gid=0, st_size=682, st_atime=1619528866, st_mtime=1619528322, st_ctime=1619528322)\n\nIn [9]: p2.stat().st_size\nOut[9]: 682\n\nIn [10]: p2.stat().st_atime\nOut[10]: 1619528866.8391194\n\nIn [11]: p2.stat().st_mode\nOut[11]: 33188\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/pathlib/#_15","title":"\u67e5\u627e\u6587\u4ef6","text":"<pre><code>In [12]: p3= Path('.').glob(\"*.py\")\n\nIn [13]: p\nOut[13]: &lt;generator object Path.glob at 0x7f7baf232810&gt;\n\nIn [15]: p= Path('.').glob(\"*.py\")\n\nIn [16]: list(p)\nOut[16]: \n[PosixPath('config_local.py'),\n PosixPath('config_public.py'),\n PosixPath('config.py'),\n PosixPath('manage.py')]\n\nIn [17]: p1= Path('.').glob(\"**/*.py\")\n\nIn [18]: list(p1)\nOut[18]: \n[PosixPath('config_local.py'),\n PosixPath('config_public.py'),\n PosixPath('config.py'),\n PosixPath('manage.py'),  \n PosixPath('opserver/apps.py'),\n ......\n]\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/","title":"subprocess -> \u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u7ba1\u7406","text":"<p>Reference\uff1a\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b</p>","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#_1","title":"\u6a21\u5757\u200b\u6982\u8ff0","text":"","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#_2","title":"\u4ecb\u7ecd\u200b\uff1a","text":"<p>subprocess\u200b\u662f\u200bPython\u200b\u5185\u7f6e\u200b\u5e93\u4e2d\u200b\u7528\u4e8e\u200b\u7ba1\u7406\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u6a21\u5757\u200b\uff0c\u200b\u652f\u6301\u200b\u5728\u200bWindows\u3001Linux\u3001MacOS\u200b\u5e73\u53f0\u200b\u4e2d\u200b\u4f7f\u7528\u200b\uff1b </p> <p>\u200b\u8be5\u200b\u6a21\u5757\u200b\u901a\u8fc7\u200b\u521b\u5efa\u200b\u542f\u52a8\u200b\u4e00\u4e2a\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u6765\u200b\u6267\u884c\u200b\u7cfb\u7edf\u200b\u7ea7\u200b\u547d\u4ee4\u200b\u3001\u200b\u8c03\u7528\u200b\u5176\u4ed6\u200b\u7684\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\u6216\u200b\u811a\u672c\u200b\u3001\u200b\u4e0e\u200b\u5176\u4ed6\u200b\u8fdb\u7a0b\u200b\u8fdb\u884c\u200b\u4ea4\u4e92\u200b\u7b49\u7b49\u200b\uff1b\u200b\u5176\u200b\u4e3b\u8981\u200b\u901a\u8fc7\u200b\u7ba1\u9053\u200b\u6280\u672f\u200b\u8fde\u63a5\u200b\u8fdb\u7a0b\u200b\u95f4\u200b\u7684\u200b\u8f93\u5165\u200b/\u200b\u8f93\u51fa\u200b/\u200b\u9519\u8bef\u200b\u7ba1\u9053\u200b\uff0c\u200b\u4ece\u800c\u200b\u83b7\u5f97\u200b\u8fd4\u56de\u503c\u200b\u3002</p> <p>\u200b\u5728\u200bsubprocess\u200b\u6a21\u5757\u200b\u53d1\u5e03\u200b\u540e\u200b\uff0c\u200b\u5b98\u65b9\u200b\u5efa\u8bae\u200b\u4f7f\u7528\u200b\u8be5\u200b\u6a21\u5757\u200b\u53bb\u200b\u66ff\u6362\u200b\u6807\u51c6\u200b\u5e93\u4e2d\u200b\u7684\u200bos.system()\u3001os.spawn*()\u200b\u7b49\u200b\u65b9\u6cd5\u200b\u53bb\u200b\u6267\u884c\u200b\u7cfb\u7edf\u547d\u4ee4\u200b\uff1b</p>","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#_3","title":"\u7248\u672c\u200b\u66f4\u65b0","text":"<ol> <li>subprocess\u200b\u662f\u200bpython2.4\u200b\u4e2d\u200b\u65b0\u589e\u200b\u7684\u200b\u6a21\u5757\u200b\uff1b</li> <li>\u200b\u5728\u200bpython3.5\u200b\u4e4b\u524d\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200bsubprocess.call()\uff0csubprocess.getoutput()\u3001subprocess.check_output()\u200b\u7b49\u7b49\u200b\u65b9\u6cd5\u200b\u5b9e\u73b0\u200b\u6a21\u5757\u200b\u529f\u80fd\u200b\uff1b</li> <li>\u200b\u5728\u200bpython3.5\u200b\u4e4b\u540e\u200b\uff0c\u200b\u65b0\u589e\u200bsubprocess.run()\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5e76\u4e14\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\u5efa\u8bae\u200b\u901a\u8fc7\u200bsubprocess.run()\u200b\u6216\u8005\u200bsubprocess.Popen()\u200b\u6765\u200b\u66ff\u6362\u200b\u539f\u6709\u200b\u7684\u200b\u8001\u200b\u7248\u672c\u200b\u7684\u200b\u529f\u80fd\u200b\u51fd\u6570\u200b\uff1b</li> </ol>","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#_4","title":"\u5e94\u7528\u200b\u573a\u666f","text":"","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#_5","title":"\u6267\u884c\u200b\u7cfb\u7edf\u547d\u4ee4","text":"<ul> <li>\u200b\u5728\u200b\u7a0b\u5e8f\u200b\u5185\u90e8\u200b\u6267\u884c\u200b\u7cfb\u7edf\u200b\u7ea7\u200b\u547d\u4ee4\u200b\uff0c\u200b\u5982\u200bls\u3001kill\u3001mkdir\u3001awk\u200b\u7b49\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200bsubprocess\u200b\u5b9e\u73b0\u200b\uff1b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#_6","title":"\u8c03\u7528\u200b\u5176\u4ed6\u200b\u7684\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\u6216\u200b\u811a\u672c","text":"<ul> <li>\u200b\u5728\u200b\u7a0b\u5e8f\u200b\u5185\u90e8\u200b\u6267\u884c\u200b\u5176\u4ed6\u200b\u7684\u200b\u6267\u884c\u200b\u6587\u4ef6\u200b\u6216\u200b\u811a\u672c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200bsubprocess\u200b\u5b9e\u73b0\u200b\uff1b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#_7","title":"\u4e0e\u200b\u5176\u4ed6\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u4ea4\u4e92","text":"<ul> <li>\u200b\u5728\u200b\u9700\u8981\u200b\u4e0e\u200b\u5176\u4ed6\u200b\u8fdb\u7a0b\u200b\u8fdb\u884c\u200b\u4ea4\u4e92\u200b\uff0c\u200b\u6bd4\u5982\u200b\u5411\u200b\u67d0\u4e2a\u200b\u8fdb\u7a0b\u200b\u53d1\u9001\u6570\u636e\u200b\u3001\u200b\u4ece\u200b\u67d0\u4e2a\u200b\u8fdb\u7a0b\u200b\u8bfb\u53d6\u6570\u636e\u200b\u7b49\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200bsubprocess\u200b\u5b9e\u73b0\u200b\uff1b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#_8","title":"\u5b9e\u73b0\u200b\u5f02\u6b65\u200b\u4efb\u52a1","text":"<ul> <li>\u200b\u5728\u200b\u7a0b\u5e8f\u200b\u5185\u90e8\u200b\u4e2d\u200b\u9700\u8981\u200b\u5b9e\u73b0\u200b\u5f02\u6b65\u200b\u4efb\u52a1\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200bsubprocess\u200b\u5b9e\u73b0\u200b\uff1b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#ossystem","title":"\u66ff\u4ee3\u200bos.system()","text":"<ul> <li>\u200b\u4e0d\u60f3\u200b\u4f7f\u7528\u200bos.system()\u200b\u6216\u200bos.system()\u200b\u65e0\u6cd5\u200b\u5b9e\u73b0\u9700\u6c42\u200b\u65f6\u200b\uff0c\u200b\u53ef\u4ee5\u200bsubprocess\u200b\u5b9e\u73b0\u200b\uff1b  </li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#_9","title":"\u5e38\u7528\u200b\u63a5\u53e3","text":"","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#_10","title":"\u63a5\u53e3\u200b\u603b\u89c8","text":"","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#_11","title":"\u91cd\u8981\u200b\u63a5\u53e3","text":"\u63a5\u53e3\u200b\u7c7b\u522b\u200b \u200b\u63a5\u53e3\u200b\u65b9\u6cd5\u200b\u540d\u200b \u200b\u529f\u80fd\u200b\u63cf\u8ff0\u200b \u200b\u8fd4\u56de\u200b\u7ed3\u679c\u200b \u200b\u9ad8\u9636\u200b\u63a5\u53e3\u200b subprocess.run() \u200b\u6267\u884c\u547d\u4ee4\u200b\u5e76\u200b\u7b49\u5f85\u200b\u547d\u4ee4\u200b\u5b8c\u6210\u200b\uff0c\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5305\u542b\u200b\u4e86\u200b\u547d\u4ee4\u200b\u7684\u200b\u8f93\u51fa\u200b\u4fe1\u606f\u200b \u200b\u963b\u585e\u200b\u7b49\u5f85\u200b\uff1b\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5305\u542b\u200b\u72b6\u6001\u200b\u7801\u200b\u3001\u200b\u8f93\u51fa\u200b\u4fe1\u606f\u200b\uff08stdin/stdout/stderr\uff09 \u200b\u7b49\u5c42\u200b\u63a5\u53e3\u200b subprocess.Popen() \u200b\u6267\u884c\u547d\u4ee4\u200b\u4e0d\u200b\u7b49\u5f85\u200b\u5b8c\u6210\u200b\uff0c\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b \u200b\u975e\u200b\u963b\u585e\u200b\u7b49\u5f85\u200b\uff1b\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5305\u542b\u200b\u72b6\u6001\u200b\u7801\u200b\u3001\u200b\u8f93\u51fa\u200b\u4fe1\u606f\u200b\uff08stdin/stdout/stderr\uff09 \u200b\u4f4e\u7248\u672c\u200b\u63a5\u53e3\u200b\uff08\u200b\u57fa\u672c\u200b\u5df2\u200b\u88ab\u200b\u9ad8\u9636\u200b\u7684\u200brun()\u200b\u65b9\u6cd5\u200b\u66ff\u4ee3\u200b\u4e86\u200b\uff09 subprocess.call() \u200b\u6267\u884c\u547d\u4ee4\u200b\uff0c\u200b\u8fd4\u56de\u200b\u547d\u4ee4\u200b\u7684\u200b\u7ed3\u679c\u200b\u548c\u200b\u6267\u884c\u200b\u72b6\u6001\u200b \u200b\u963b\u585e\u200b\u7b49\u5f85\u200b\uff1b0\u200b\u6216\u8005\u200b\u975e\u200b0 subprocess.check_call() \u200b\u6267\u884c\u547d\u4ee4\u200b\uff0c\u200b\u8fd4\u56de\u200b\u7ed3\u679c\u200b\u548c\u200b\u72b6\u6001\u200b \u200b\u963b\u585e\u200b\u7b49\u5f85\u200b\uff1b\u200b\u6b63\u5e38\u200b\u4e3a\u200b0 \uff0c\u200b\u6267\u884c\u200b\u9519\u8bef\u200b\u5219\u200b\u629b\u51fa\u200b\u5f02\u5e38\u200b subprocess.getstatusoutput() \u200b\u63a5\u53d7\u200b\u5b57\u7b26\u4e32\u200b\u5f62\u5f0f\u200b\u7684\u200b\u547d\u4ee4\u200b\uff0c\u200b\u8fd4\u56de\u200b \u200b\u4e00\u4e2a\u200b\u5143\u7ec4\u200b\u5f62\u5f0f\u200b\u7684\u200b\u7ed3\u679c\u200b\uff0c \u200b\u963b\u585e\u200b\u7b49\u5f85\u200b\uff1b\u200b\u7b2c\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u662f\u200b\u547d\u4ee4\u200b\u6267\u884c\u200b\u72b6\u6001\u200b\uff0c\u200b\u7b2c\u4e8c\u4e2a\u200b\u4e3a\u200b\u6267\u884c\u200b\u7ed3\u679c\u200b\u3002 subprocess.getoutput() \u200b\u63a5\u6536\u200b\u5b57\u7b26\u4e32\u200b\u5f62\u5f0f\u200b\u7684\u200b\u547d\u4ee4\u200b\uff0c\u200b\u8fd4\u56de\u200b\u7ed3\u679c\u200b \u200b\u963b\u585e\u200b\u7b49\u5f85\u200b\uff1b\u200b\u8fd4\u56de\u200b\u6267\u884c\u200b\u7ed3\u679c\u200b subprocess.check_output() \u200b\u6267\u884c\u547d\u4ee4\u200b\uff0c\u200b\u5982\u4f55\u200b\u6267\u884c\u200b\u72b6\u6001\u200b\u7801\u4e3a\u200b0\u200b\u5219\u200b\u8fd4\u56de\u200b\u547d\u4ee4\u200b\u7684\u200b\u7ed3\u679c\u200b\uff0c\u200b\u5426\u5219\u200b\u629b\u51fa\u200b\u5f02\u5e38\u200b \u200b\u963b\u585e\u200b\u7b49\u5f85\u200b\uff1b0\u200b\u6216\u200b\u629b\u51fa\u200b\u5f02\u5e38","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#subprocessrun","title":"\u6838\u5fc3\u200b\u63a5\u53e3\u5206\u6790\u200b\u4e4b\u200bsubprocess.run()","text":"","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#_12","title":"\u51fd\u6570\u200b\u7279\u70b9\u200b\uff1a","text":"<ul> <li>\u200b\u8f93\u5165\u200b\uff1a\u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u4f1a\u200b\u7ee7\u627f\u200b\u7236\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u8bbe\u7f6e\u200b\uff0c\u200b\u4f1a\u200b\u5c06\u200b\u8f93\u51fa\u200b\u663e\u793a\u200b\u5728\u200b\u7ec8\u7aef\u200b\u4e0a\u200b</li> <li>\u200b\u8f93\u51fa\u200b\uff1a\u200b\u963b\u585e\u200b\u7b49\u5f85\u200b\uff0c\u200b\u6267\u884c\u200b\u6210\u529f\u200breturncode\u200b\u4e3a\u200b0\uff0c \u200b\u975e\u200b0\uff0c\u200b\u8868\u793a\u200b\u6267\u884c\u200b\u5f02\u5e38\u200b <pre><code>subprocess.run(\n    args,   # \u200b\u8981\u200b\u6267\u884c\u200b\u7684\u200bshell\u200b\u547d\u4ee4\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u5e94\u8be5\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u5e8f\u5217\u200b\uff0c\u200b\u5982\u200b[\u2018df\u2019, \u2018-Th\u2019]\u200b\u6216\u200b(\u2018df\u2019, \u2018-Th\u2019)\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u5982\u200b\u2019df -Th\u2019\uff0c\u200b\u4f46\u662f\u200b\u6b64\u65f6\u200b\u9700\u8981\u200b\u628a\u200bshell\u200b\u53c2\u6570\u200b\u7684\u200b\u503c\u7f6e\u200b\u4e3a\u200bTrue\uff1b\n    *, \n    stdin=None, # \u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u6807\u51c6\u200b\u8f93\u5165\u200b\u3002\u200b\u6709\u200b\u4e09\u4e2a\u200b\u53c2\u6570\u200b\u53ef\u200b\u9009\u200b\uff1asubprocess.PIPE \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u7ba1\u9053\u200b\uff0c\u200b\u5141\u8bb8\u200b\u4e0e\u5b50\u200b\u8fdb\u7a0b\u200b\u8fdb\u884c\u200b\u901a\u4fe1\u200b\uff1bsubprocess.DEVNULL \u200b\u7279\u6b8a\u200b\u7684\u200b\u6587\u4ef6\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u5176\u200b\u7528\u4e8e\u200b\u4e22\u5f03\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u8f93\u51fa\u200b\uff1b\u200b\u4e00\u4e2a\u200b\u6253\u5f00\u200b\u7684\u200b\u6587\u4ef6\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5c06\u200b\u5185\u5bb9\u200b\u5199\u5165\u200b\u6587\u4ef6\u200b\n    input=None, # \u200b\u5c06\u200b\u53c2\u6570\u4f20\u9012\u200b\u7ed9\u200b Popen.communicate() \u200b\u4ee5\u53ca\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u200b stdin,\u200b\u5141\u8bb8\u200b\u5c06\u200b\u5b57\u8282\u200b\u6216\u200b\u5b57\u7b26\u4e32\u200b\u4f20\u9012\u200b\u7ed9\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u6807\u51c6\u200b\u8f93\u5165\u200b(stdin);\n    stdout=None, # \u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u6807\u51c6\u200b\u8f93\u51fa\u200b(stdout);\n    stderr=None, # \u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u6807\u51c6\u200b\u9519\u8bef\u200b(stderr);\n    capture_output=False, #\u200b\u53c2\u6570\u200b\u63a7\u5236\u200b\u662f\u5426\u200b\u6355\u83b7\u200b\u5916\u90e8\u547d\u4ee4\u200b\u7684\u200b\u6807\u51c6\u200b\u8f93\u51fa\u200b(stdout)\u200b\u548c\u200b\u6807\u51c6\u200b\u9519\u8bef\u200b(stderr)\u3002\u200b\u5982\u679c\u200b\u5c06\u200b\u5176\u200b\u8bbe\u7f6e\u200b\u4e3a\u200bTrue\uff0crun()\u200b\u51fd\u6570\u200b\u5c06\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200bCompletedProcess\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u8be5\u200b\u5bf9\u8c61\u200b\u5177\u6709\u200bstdout\u200b\u548c\u200bstderr\u200b\u5c5e\u6027\u200b\uff0c\u200b\u5206\u522b\u200b\u5b58\u50a8\u200b\u4e86\u200b\u547d\u4ee4\u200b\u7684\u200b\u6807\u51c6\u200b\u8f93\u51fa\u200b\u548c\u200b\u6807\u51c6\u200b\u9519\u8bef\u200b\u8f93\u51fa\u200b\u3002\u200b\u5982\u679c\u200b\u8bbe\u7f6e\u200b\u4e3a\u200bFalse\uff0c\u200b\u6807\u51c6\u200b\u8f93\u51fa\u200b\u548c\u200b\u6807\u51c6\u200b\u9519\u8bef\u200b\u5c06\u200b\u88ab\u200b\u53d1\u9001\u5230\u200b\u63a7\u5236\u53f0\u200b\u3002\u200b\u9ed8\u8ba4\u200b\u4e3a\u200bFalse\n    shell=False,  # \u200b\u6307\u5b9a\u200b\u662f\u5426\u200b\u901a\u8fc7\u200bshell\u200b\u6765\u200b\u6267\u884c\u547d\u4ee4\u200b\u3002\u200b\u5982\u679c\u200b\u4e3a\u200bTrue\uff0c\u200b\u547d\u4ee4\u200b\u5c06\u200b\u5728\u200bshell\u200b\u4e2d\u200b\u6267\u884c\u200b\uff1b\u200b\u5982\u679c\u200b\u4e3a\u200bFalse\uff0c\u200b\u5219\u200b\u76f4\u63a5\u200b\u8c03\u7528\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\uff1b\n    cwd=None,  # \u200b\u8bbe\u7f6e\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u5de5\u4f5c\u200b\u76ee\u5f55\u200b\u3002\u200b\u9ed8\u8ba4\u200b\u4e3a\u200bNone\uff0c\u200b\u8868\u793a\u200b\u4f7f\u7528\u200b\u5f53\u524d\u5de5\u4f5c\u200b\u76ee\u5f55\u200b\uff1b\n    timeout=None, #\u200b\u8bbe\u7f6e\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u8d85\u65f6\u200b\u65f6\u95f4\u200b\uff08\u200b\u79d2\u200b\uff09\u3002\u200b\u5982\u679c\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u5728\u200b\u6307\u5b9a\u200b\u7684\u200b\u65f6\u95f4\u200b\u5185\u200b\u6ca1\u6709\u200b\u8fd0\u884c\u200b\u5b8c\u6210\u200b\uff0c\u200b\u5219\u200b\u4f1a\u200b\u5f15\u53d1\u200bTimeoutExpired\u200b\u5f02\u5e38\u200b\uff1b\n    check=False, # \u200b\u8bbe\u7f6e\u200b\u662f\u5426\u200b\u68c0\u67e5\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u8fd4\u56de\u200b\u7801\u200b\u3002\u200b\u5982\u679c\u200b\u4e3a\u200bTrue\uff0c\u200b\u5e76\u4e14\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u8fd4\u56de\u200b\u7801\u4e0d\u4e3a\u200b\u96f6\u200b\uff0c\u200b\u5219\u200b\u4f1a\u200b\u5f15\u53d1\u200bCalledProcessError\u200b\u5f02\u5e38\u200b\uff1b\n    encoding=None, # \u200b\u9ed8\u8ba4\u200b\u662f\u200b\u5b57\u8282\u200b\u6570\u636e\u200b\uff0c\u200b\u5982\u679c\u200b\u6307\u5b9a\u200b\u4e86\u200b\u7f16\u7801\u200b\u683c\u5f0f\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b\u4e3a\u200b\u5b57\u7b26\u4e32\u200b\uff1b\n    errors=None, # \u200b\u8be5\u200b\u53c2\u6570\u200b\u5b9a\u4e49\u200b\u5728\u200b\u89e3\u7801\u200b\u8f93\u51fa\u200b\u65f6\u200b\u5982\u4f55\u200b\u5904\u7406\u200b\u7f16\u7801\u200b\u9519\u8bef\u200b\uff0c\u200b\u5e38\u7528\u200b\u7684\u200b\u503c\u200b\u5305\u62ec\u200b\"strict\" (\u200b\u9ed8\u8ba4\u503c\u200b\uff0c\u200b\u629b\u51fa\u200b\u5f02\u5e38\u200b)\u3001\"ignore\" (\u200b\u5ffd\u7565\u200b\u9519\u8bef\u200b\u5b57\u7b26\u200b) \u200b\u548c\u200b \"replace\" (\u200b\u7528\u200b\u66ff\u4ee3\u200b\u5b57\u7b26\u200b\u4ee3\u66ff\u200b\u9519\u8bef\u200b\u5b57\u7b26\u200b);\n    text=None,  # \u200b\u6307\u5b9a\u200b\u662f\u5426\u200b\u5c06\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u4ee5\u200b\u6587\u672c\u200b\u5f62\u5f0f\u200b\u8fd4\u56de\u200b\u3002\u200b\u5982\u679c\u200b\u4e3a\u200bTrue\uff0c\u200b\u5219\u200b\u7ed3\u679c\u200b\u4ee5\u200b\u5b57\u7b26\u4e32\u200b\u5f62\u5f0f\u200b\u8fd4\u56de\u200b\uff0c\u200b\u540c\u65f6\u200binput\u200b\u6216\u8005\u200bstdin\u200b\u53c2\u6570\u200b\u4e5f\u200b\u9700\u8981\u200b\u8f93\u5165\u200bString\uff1b\u200b\u5982\u679c\u200b\u4e3a\u200bFalse\uff0c\u200b\u5219\u200b\u8fd4\u56de\u200b\u5b57\u8282\u200b\u6d41\u200b\u3002\u200b\u9ed8\u8ba4\u200b\u4e3a\u200bFalse\u3002\n    env=None, # \u200b\u8be5\u200b\u53c2\u6570\u200b\u5141\u8bb8\u200b\u60a8\u200b\u4e3a\u5b50\u200b\u8fdb\u7a0b\u200b\u6307\u5b9a\u200b\u73af\u5883\u53d8\u91cf\u200b\u3002\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u63a5\u53d7\u200b\u4e00\u4e2a\u200b\u5b57\u5178\u200b\u7c7b\u578b\u200b\u7684\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5176\u4e2d\u200b\u952e\u200b\u662f\u200b\u73af\u5883\u53d8\u91cf\u200b\u7684\u200b\u540d\u79f0\u200b\uff0c\u200b\u503c\u200b\u662f\u200b\u73af\u5883\u53d8\u91cf\u200b\u7684\u200b\u503c\u200b\u3002\u200b\u901a\u8fc7\u200b\u8bbe\u7f6e\u200benv\u200b\u53c2\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u5b50\u200b\u8fdb\u7a0b\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u7279\u5b9a\u200b\u7684\u200b\u73af\u5883\u53d8\u91cf\u200b\u3002\n    universal_newlines=None, # \u200b\u8be5\u200b\u53c2\u6570\u200b\u5f71\u54cd\u200b\u7684\u200b\u662f\u200b\u8f93\u5165\u200b\u4e0e\u200b\u8f93\u51fa\u200b\u7684\u200b\u6570\u636e\u683c\u5f0f\u200b\uff0c\u200b\u6bd4\u5982\u200b\u5b83\u200b\u7684\u200b\u503c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200bFalse\uff0c\u200b\u6b64\u65f6\u200bstdout\u200b\u548c\u200bstderr\u200b\u7684\u200b\u8f93\u51fa\u200b\u662f\u200b\u5b57\u8282\u200b\u5e8f\u5217\u200b\uff1b\u200b\u5f53\u8be5\u200b\u53c2\u6570\u200b\u7684\u200b\u503c\u200b\u8bbe\u7f6e\u200b\u4e3a\u200bTrue\u200b\u65f6\u200b\uff0cstdout\u200b\u548c\u200bstderr\u200b\u7684\u200b\u8f93\u51fa\u200b\u662f\u200b\u5b57\u7b26\u4e32\u200b\u3002\n    **other_popen_kwargs\n)\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#args","title":"\u91cd\u8981\u200b\u53c2\u6570\u200b\uff1aargs","text":"<ul> <li>\u200b\u53ef\u4ee5\u200b\u63a5\u6536\u200b\u4e24\u79cd\u200b\u65b9\u6cd5\u200b\uff1a\u200b\u5b57\u7b26\u4e32\u200b\u6216\u200b\u5217\u8868\u200b\u3002</li> <li>\u200b\u4f7f\u7528\u200b\u5217\u8868\u200b\u5f62\u5f0f\u200bsubprocess.run([\"ls\", \"-al\"])</li> <li>\u200b\u4f7f\u7528\u200b\u5b57\u7b26\u4e32\u200b\u5f62\u5f0f\u200b subprocess.run(\"ls -al\", shell=True)\u3002\u200b\u4f7f\u7528\u200b\u5b57\u7b26\u4e32\u200b\u5f62\u5f0f\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\u53c2\u6570\u200bshell=True</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#stdinstdoutsterr","title":"\u91cd\u8981\u200b\u53c2\u6570\u200b\uff1astdin\u3001stdout\u3001sterr","text":"<ul> <li>\u200b\u7528\u6765\u200b\u8bbe\u7f6e\u200b\u6807\u51c6\u200b\u8f93\u5165\u200b\uff0c\u200b\u6807\u51c6\u200b\u8f93\u51fa\u200b\uff0c\u200b\u6807\u51c6\u200b\u9519\u8bef\u200b\u7684\u200b\u3002\u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u4f1a\u200b\u7ee7\u627f\u200b\u7236\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u8bbe\u7f6e\u200b\uff0c\u200b\u4f1a\u200b\u5c06\u200b\u8f93\u51fa\u200b\u663e\u793a\u200b\u5728\u200b\u63a7\u5236\u53f0\u200b\uff1b</li> <li>subprocess.PIPE \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u7ba1\u9053\u200b\uff0c\u200b\u5141\u8bb8\u200b\u4e0e\u5b50\u200b\u8fdb\u7a0b\u200b\u8fdb\u884c\u200b\u901a\u4fe1\u200b\uff1b</li> <li>subprocess.DEVNULL \u200b\u7279\u6b8a\u200b\u7684\u200b\u6587\u4ef6\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u5176\u200b\u7528\u4e8e\u200b\u4e22\u5f03\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u8f93\u51fa\u200b</li> <li>\u200b\u4e00\u4e2a\u200b\u6253\u5f00\u200b\u7684\u200b\u6587\u4ef6\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5c06\u200b\u5185\u5bb9\u200b\u5199\u5165\u200b\u6587\u4ef6\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#_13","title":"\u4f7f\u7528\u200b\u793a\u4f8b","text":"<pre><code>In [1]: import subprocess\n\nIn [3]: subprocess.run(\"ls -al\", shell=True)\ntotal 16\ndrwxr-xr-x   3 root root 4096 2024-01-12 16:18:55 .\ndrwxr-xr-x. 14 root root 4096 2024-01-12 16:17:37 ..\n-rw-r--r--   1 root root    0 2024-01-12 16:18:08 find_big_file.log\n-rwxr-xr-x   1 root root 1453 2024-01-12 16:18:00 find_big_file.sh\ndrwxr-xr-x   2 root root 4096 2024-01-12 16:18:56 shell_demo\nOut[3]: CompletedProcess(args='ls -al', returncode=0)\n\nIn [4]: subprocess.run([\"ls\",\"-al\"])\ntotal 16\ndrwxr-xr-x   3 root root 4096 2024-01-12 16:18:55 .\ndrwxr-xr-x. 14 root root 4096 2024-01-12 16:17:37 ..\n-rw-r--r--   1 root root    0 2024-01-12 16:18:08 find_big_file.log\n-rwxr-xr-x   1 root root 1453 2024-01-12 16:18:00 find_big_file.sh\ndrwxr-xr-x   2 root root 4096 2024-01-12 16:18:56 shell_demo\nOut[4]: CompletedProcess(args=['ls', '-al'], returncode=0)\n\nIn [5]: subprocess.run([\"ls\", \"-l\", \"/dev/null\"], capture_output=True)\nOut[5]: CompletedProcess(args=['ls', '-l', '/dev/null'], returncode=0, stdout=b'crw-rw-rw- 1 experiment root 1, 3 2023-07-19 15:53:04 /dev/null\\n', stderr=b'')\n\nIn [6]: res = subprocess.run([\"ls\",\"-al\"])\ntotal 16\ndrwxr-xr-x   3 root root 4096 2024-01-12 16:18:55 .\ndrwxr-xr-x. 14 root root 4096 2024-01-12 16:17:37 ..\n-rw-r--r--   1 root root    0 2024-01-12 16:18:08 find_big_file.log\n-rwxr-xr-x   1 root root 1453 2024-01-12 16:18:00 find_big_file.sh\ndrwxr-xr-x   2 root root 4096 2024-01-12 16:18:56 shell_demo\n\nIn [7]: res.returncode\nOut[7]: 0\n\nIn [8]: res = subprocess.run([\"ls\",\"-al\",\"./cmd_output\"], stdout=subprocess.PIPE)\nls: cannot access ./cmd_output: No such file or directory\n\nIn [9]: res = subprocess.run([\"ls\",\"-al\",\"./\"], stdout=subprocess.PIPE)\n\nIn [10]: res.stdout\nOut[10]: b'total 16\\ndrwxr-xr-x   3 root root 4096 2024-01-12 16:18:55 .\\ndrwxr-xr-x. 14 root root 4096 2024-01-12 16:17:37 ..\\n-rw-r--r--   1 root root    0 2024-01-12 16:18:08 find_big_file.log\\n-rwxr-xr-x   1 root root 1453 2024-01-12 16:18:00 find_big_file.sh\\ndrwxr-xr-x   2 root root 4096 2024-01-12 16:18:56 shell_demo\\n'\n\nIn [11]: res = subprocess.run([\"ls\",\"-al\",\"./\"], stdout=subprocess.PIPE, text=True)\n\nIn [12]: res.stdout\nOut[12]: 'total 16\\ndrwxr-xr-x   3 root root 4096 2024-01-12 16:18:55 .\\ndrwxr-xr-x. 14 root root 4096 2024-01-12 16:17:37 ..\\n-rw-r--r--   1 root root    0 2024-01-12 16:18:08 find_big_file.log\\n-rwxr-xr-x   1 root root 1453 2024-01-12 16:18:00 find_big_file.sh\\ndrwxr-xr-x   2 root root 4096 2024-01-12 16:18:56 shell_demo\\n'\n\nIn [14]: with open(\"cmd_output.txt\", \"a+\") as f:\n    ...:     res = subprocess.run([\"ls\",\"-al\",\"./\"], stdout=f, text=True)\n    ...:     print(f\"code:{res.returncode}\")\n    ...:     print(f\"stdout: {res.stdout}\")\n    ...: \ncode:0\nstdout: None\n\nIn [15]: ls\ncmd_output.txt  find_big_file.log  find_big_file.sh*  shell_demo/\n\nIn [16]: res = subprocess.run([\"cat\",\"cmd_output.txt\"])\ntotal 16\ndrwxr-xr-x   3 root root 4096 2024-01-12 16:27:11 .\ndrwxr-xr-x. 14 root root 4096 2024-01-12 16:17:37 ..\n-rw-r--r--   1 root root    0 2024-01-12 16:27:11 cmd_output.txt\n-rw-r--r--   1 root root    0 2024-01-12 16:18:08 find_big_file.log\n-rwxr-xr-x   1 root root 1453 2024-01-12 16:18:00 find_big_file.sh\ndrwxr-xr-x   2 root root 4096 2024-01-12 16:18:56 shell_demo\ntotal 20\ndrwxr-xr-x   3 root root 4096 2024-01-12 16:27:11 .\ndrwxr-xr-x. 14 root root 4096 2024-01-12 16:17:37 ..\n-rw-r--r--   1 root root  375 2024-01-12 16:27:11 cmd_output.txt\n-rw-r--r--   1 root root    0 2024-01-12 16:18:08 find_big_file.log\n-rwxr-xr-x   1 root root 1453 2024-01-12 16:18:00 find_big_file.sh\ndrwxr-xr-x   2 root root 4096 2024-01-12 16:18:56 shell_demo\n</code></pre>","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#subprocesspopen","title":"\u6838\u5fc3\u200b\u63a5\u53e3\u5206\u6790\u200b\u4e4b\u200bsubprocess.Popen()","text":"","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#_14","title":"\u51fd\u6570\u200b\u7279\u70b9\u200b\uff1a","text":"<ul> <li>run()\u200b\u65b9\u6cd5\u200b\u5e95\u5c42\u200b\u8c03\u7528\u200b\u7684\u200b\u662f\u200bPopen()\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5f53\u200brun\u200b\u65b9\u6cd5\u200b\u65e0\u6cd5\u200b\u6ee1\u8db3\u200b\u9700\u6c42\u200b\u662f\u200b\uff0c\u200b\u4f7f\u7528\u200bPopen()\u200b\u65b9\u6cd5\u200b\u53bb\u200b\u5b9e\u73b0\u200b\uff1b</li> <li>\u200b\u8f93\u5165\u200b\uff1a\u200b\u6267\u884c\u200b\u7684\u200b\u547d\u4ee4\u200b</li> <li>\u200b\u8f93\u51fa\u200b\uff1a\u200b\u975e\u200b\u963b\u585e\u200b\u8f93\u51fa\u200b\uff0c\u200b\u6267\u884c\u200b\u540e\u200b\u7acb\u5373\u200b\u8fd4\u56de\u200b\uff0c\u200b\u6267\u884c\u200b\u7ed3\u679c\u200b\u901a\u8fc7\u200b\u8fd4\u56de\u200b\u5bf9\u8c61\u200b\u83b7\u53d6\u200b <pre><code>subprocess.Popen(\n    args,  #\u200b\u540c\u200brun()\u200b\u65b9\u6cd5\u200b\n    bufsize=- 1, # \u200b\u5b9a\u4e49\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u7f13\u51b2\u200b\u5927\u5c0f\u200b\uff0c\u200b\u9ed8\u8ba4\u503c\u200b-1\u200b\u8868\u793a\u200b\u4f7f\u7528\u200b\u7cfb\u7edf\u200b\u9ed8\u8ba4\u200b\u7684\u200b\u7f13\u51b2\u200b\u5927\u5c0f\u200b\uff1b\n    executable=None, # \u200b\u6307\u5b9a\u200b\u8981\u200b\u6267\u884c\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u8def\u5f84\u200b\uff0c\u200b\u82e5\u200b\u672a\u6307\u5b9a\u200b\uff0c\u200b\u5219\u200b\u901a\u8fc7\u200bPATH\u200b\u73af\u5883\u53d8\u91cf\u200b\u6765\u200b\u786e\u5b9a\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\u4f4d\u7f6e\u200b\uff1b\n    stdin=None, # \u200b\u540c\u200brun()\u200b\u65b9\u6cd5\u200b\n    stdout=None, # \u200b\u540c\u200brun()\u200b\u65b9\u6cd5\u200b\n    stderr=None, # \u200b\u540c\u200brun()\u200b\u65b9\u6cd5\u200b\n    preexec_fn=None, # \u200b\u6307\u5b9a\u200b\u5728\u5b50\u200b\u8fdb\u7a0b\u200b\u542f\u52a8\u200b\u4e4b\u524d\u200b\u8981\u200b\u6267\u884c\u200b\u7684\u200b\u51fd\u6570\u200b\uff0c\u200b\u8be5\u200b\u51fd\u6570\u200b\u5728\u200bfork()\u200b\u8c03\u7528\u200b\u6210\u529f\u200b\uff0c\u200b\u5728\u200bexec()\u200b\u8c03\u7528\u200b\u4e4b\u524d\u200b\u88ab\u200b\u8c03\u7528\u200b\uff1b\n    close_fds=True, # \u200b\u6307\u5b9a\u200b\u662f\u5426\u200b\u5173\u95ed\u200b\u6240\u6709\u200b\u6587\u4ef6\u200b\u63cf\u8ff0\u7b26\u200b\uff0c\n    shell=False, # # \u200b\u540c\u200brun()\u200b\u65b9\u6cd5\u200b\n    cwd=None, # \u200b\u540c\u200brun()\u200b\u65b9\u6cd5\u200b\n    env=None, # \u200b\u540c\u200brun()\u200b\u65b9\u6cd5\u200b\n    universal_newlines=None, # \u200b\u540c\u200brun()\u200b\u65b9\u6cd5\u200b\n    startupinfo=None, # \u200b\u4e00\u4e2a\u200b\u53ef\u9009\u200b\u7684\u200bsubprocess.STARTUPINFO\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u7528\u4e8e\u200b\u6307\u5b9a\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u542f\u52a8\u200b\u4fe1\u606f\u200b\uff0c\u200b\u5982\u200b\u7a97\u53e3\u200b\u5927\u5c0f\u200b\u3001\u200b\u7a97\u53e3\u200b\u6807\u9898\u200b\u7b49\u200b\n    creationflags=0, # \u200b\u7528\u4e8e\u200b\u6307\u5b9a\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u521b\u5efa\u200b\u6807\u5fd7\u200b\uff0c\u200b\u63a7\u5236\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u5404\u79cd\u200b\u884c\u4e3a\u200b\u3002\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200bsubprocess.CREATE_NEW_CONSOLE\u3001subprocess.CREATE_NEW_PROCESS_GROUP\u200b\u7b49\u200b\u5e38\u91cf\u200b\u8fdb\u884c\u200b\u8bbe\u7f6e\u200b\n    restore_signals=True, # \u200b\u7528\u4e8e\u200b\u786e\u5b9a\u200b\u662f\u5426\u200b\u5728\u5b50\u200b\u8fdb\u7a0b\u200b\u4e2d\u200b\u6062\u590d\u200b\u4fe1\u53f7\u5904\u7406\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u9ed8\u8ba4\u200b\u884c\u4e3a\u200b\n    start_new_session=False, # \u200b\u7528\u4e8e\u200b\u4ee3\u66ff\u200b\u4f7f\u7528\u200b preexec_fn \u200b\u7684\u200b\u4ee3\u7801\u200b\u6765\u200b\u5728\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u4e2d\u200b\u8c03\u7528\u200b os.setsid() \u200b\u6216\u200b os.setpgid()\uff1b\u200b\u5982\u679c\u200b start_new_session \u200b\u4e3a\u200b\u771f\u503c\u200b\u5219\u200b setsid() \u200b\u7cfb\u7edf\u200b\u8c03\u7528\u200b\u5c06\u200b\u5728\u200b\u6267\u884c\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u4e4b\u524d\u200b\u5728\u5b50\u200b\u8fdb\u7a0b\u200b\u4e2d\u200b\u6267\u884c\u200b\n    pass_fds=(), # \u200b\u662f\u200b\u4e00\u4e2a\u200b\u53ef\u9009\u200b\u7684\u200b\u5728\u200b\u7236\u5b50\u200b\u8fdb\u7a0b\u200b\u95f4\u200b\u4fdd\u6301\u200b\u6253\u5f00\u200b\u7684\u200b\u6587\u4ef6\u200b\u63cf\u8ff0\u7b26\u200b\u5e8f\u5217\u200b\u3002\u200b\u63d0\u4f9b\u200b\u4efb\u4f55\u200b pass_fds \u200b\u5c06\u200b\u5f3a\u5236\u200b close_fds \u200b\u4e3a\u200b True\n    *, \n    group=None, #\uff08\u200b\u4ec5\u200b POSIX\uff09: \u200b\u5982\u679c\u200b group \u200b\u4e0d\u200b\u4e3a\u200b None\uff0c\u200b\u5219\u200b setregid() \u200b\u7cfb\u7edf\u200b\u8c03\u7528\u200b\u5c06\u200b\u4e8e\u5b50\u200b\u8fdb\u7a0b\u200b\u6267\u884c\u200b\u4e4b\u524d\u200b\u5728\u200b\u4e0b\u7ea7\u200b\u8fdb\u7a0b\u200b\u4e2d\u200b\u8fdb\u884c\u200b\u3002 \u200b\u5982\u679c\u200b\u6240\u200b\u63d0\u4f9b\u200b\u7684\u200b\u503c\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u5c06\u200b\u901a\u8fc7\u200b grp.getgrnam() \u200b\u6765\u200b\u67e5\u627e\u200b\u5b83\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u4f7f\u7528\u200b gr_gid \u200b\u4e2d\u200b\u7684\u200b\u503c\u200b\u3002 \u200b\u5982\u679c\u200b\u8be5\u503c\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u5b83\u200b\u5c06\u200b\u88ab\u200b\u539f\u6837\u200b\u4f20\u9012\u200b\n    extra_groups=None, # \uff08\u200b\u4ec5\u200b POSIX\uff09: \u200b\u5982\u679c\u200b extra_groups \u200b\u4e0d\u200b\u4e3a\u200b None\uff0c\u200b\u5219\u200b setgroups() \u200b\u7cfb\u7edf\u200b\u8c03\u7528\u200b\u5c06\u200b\u4e8e\u5b50\u200b\u8fdb\u7a0b\u200b\u4e4b\u524d\u200b\u5728\u200b\u4e0b\u7ea7\u200b\u8fdb\u7a0b\u200b\u4e2d\u200b\u8fdb\u884c\u200b\u3002 \u200b\u5728\u200b extra_groups \u200b\u4e2d\u200b\u63d0\u4f9b\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u5c06\u200b\u901a\u8fc7\u200b grp.getgrnam() \u200b\u6765\u200b\u67e5\u627e\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u4f7f\u7528\u200b gr_gid \u200b\u4e2d\u200b\u7684\u200b\u503c\u200b\u3002 \u200b\u6574\u6570\u200b\u503c\u200b\u5c06\u200b\u88ab\u200b\u539f\u6837\u200b\u4f20\u9012\u200b\n    user=None, # \u200b\u4ec5\u200b POSIX\uff09: \u200b\u5982\u679c\u200b user \u200b\u4e0d\u200b\u4e3a\u200b None\uff0c\u200b\u5219\u200b setreuid() \u200b\u7cfb\u7edf\u200b\u8c03\u7528\u200b\u5c06\u200b\u4e8e\u5b50\u200b\u8fdb\u7a0b\u200b\u6267\u884c\u200b\u4e4b\u524d\u200b\u5728\u200b\u4e0b\u7ea7\u200b\u8fdb\u7a0b\u200b\u4e2d\u200b\u8fdb\u884c\u200b\u3002 \u200b\u5982\u679c\u200b\u6240\u200b\u63d0\u4f9b\u200b\u7684\u200b\u503c\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u5c06\u200b\u901a\u8fc7\u200b pwd.getpwnam() \u200b\u6765\u200b\u67e5\u627e\u200b\u5b83\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u4f7f\u7528\u200b pw_uid \u200b\u4e2d\u200b\u7684\u200b\u503c\u200b\u3002 \u200b\u5982\u679c\u200b\u8be5\u503c\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u5b83\u200b\u5c06\u200b\u88ab\u200b\u539f\u6837\u200b\u4f20\u9012\u200b\n    umask=- 1, # \u200b\u5982\u679c\u200b umask \u200b\u4e0d\u200b\u4e3a\u200b\u8d1f\u503c\u200b\uff0c\u200b\u5219\u200b umask() \u200b\u7cfb\u7edf\u200b\u8c03\u7528\u200b\u5c06\u200b\u5728\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u6267\u884c\u200b\u4e4b\u524d\u200b\u5728\u200b\u4e0b\u7ea7\u200b\u8fdb\u7a0b\u200b\u4e2d\u200b\u8fdb\u884c\u200b\n    encoding=None,  # \u200b\u540c\u200brun()\u200b\u65b9\u6cd5\u200b\n    errors=None,  # \u200b\u540c\u200brun()\u200b\u65b9\u6cd5\u200b\n    text=None,  # \u200b\u540c\u200brun()\u200b\u65b9\u6cd5\u200b\n    pipesize=- 1, # \u200b\u5f53\u200b PIPE \u200b\u88ab\u200b\u7528\u4f5c\u200b stdin, stdout \u200b\u6216\u200b stderr \u200b\u65f6\u200b pipesize \u200b\u53ef\u200b\u88ab\u200b\u7528\u4e8e\u200b\u6539\u53d8\u200b\u7ba1\u9053\u200b\u7684\u200b\u5927\u5c0f\u200b\u3002 \u200b\u7ba1\u9053\u200b\u7684\u200b\u5927\u5c0f\u200b\u4ec5\u4f1a\u200b\u5728\u200b\u53d7\u200b\u652f\u6301\u200b\u7684\u200b\u5e73\u53f0\u200b\u4e0a\u200b\u88ab\u200b\u6539\u53d8\u200b\uff08\u200b\u5f53\u200b\u64b0\u5199\u200b\u672c\u200b\u6587\u6863\u200b\u65f6\u200b\u53ea\u6709\u200b Linux \u200b\u652f\u6301\u200b\uff09\n    process_group=None # \u200b\u7528\u4e8e\u200b\u4ee3\u66ff\u200b\u4f7f\u7528\u200b preexec_fn \u200b\u7684\u200b\u4ee3\u7801\u200b\u6765\u200b\u5728\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u4e2d\u200b\u8c03\u7528\u200b os.setsid() \u200b\u6216\u200b os.setpgid()\uff1b\u200b\u5982\u679c\u200b start_new_session \u200b\u4e3a\u200b\u771f\u503c\u200b\u5219\u200b setsid() \u200b\u7cfb\u7edf\u200b\u8c03\u7528\u200b\u5c06\u200b\u5728\u200b\u6267\u884c\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u4e4b\u524d\u200b\u5728\u5b50\u200b\u8fdb\u7a0b\u200b\u4e2d\u200b\u6267\u884c\u200b\n)\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#-popen","title":"\u91cd\u8981\u200b\u5c5e\u6027\u200b-Popen\u200b\u5bf9\u8c61","text":"<ul> <li>Popen.communicate(input=None, timeout=None)</li> <li>\u200b\u4e0e\u200b\u8fdb\u7a0b\u200b\u4ea4\u4e92\u200b\uff1a\u200b\u5c06\u200b\u6570\u636e\u200b\u53d1\u9001\u5230\u200b stdin\u3002 \u200b\u4ece\u200b stdout \u200b\u548c\u200b stderr \u200b\u8bfb\u53d6\u6570\u636e\u200b\uff0c\u200b\u76f4\u5230\u200b\u62b5\u8fbe\u200b\u6587\u4ef6\u200b\u7ed3\u5c3e\u200b\u3002 \u200b\u7b49\u5f85\u200b\u8fdb\u7a0b\u200b\u7ec8\u6b62\u200b\u5e76\u200b\u8bbe\u7f6e\u200b returncode \u200b\u5c5e\u6027\u200b\uff0c\u200b\u53ef\u9009\u200b\u7684\u200b input \u200b\u53c2\u6570\u200b\u5e94\u4e3a\u200b\u8981\u200b\u53d1\u9001\u5230\u200b\u4e0b\u7ea7\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u6216\u8005\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u8981\u200b\u53d1\u9001\u5230\u200b\u4e0b\u7ea7\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u6570\u636e\u200b\u5219\u200b\u4e3a\u200b None\u3002 \u200b\u5982\u679c\u200b\u6d41\u662f\u200b\u4ee5\u200b\u6587\u672c\u200b\u6a21\u5f0f\u200b\u6253\u5f00\u200b\u7684\u200b\uff0c\u200b\u5219\u200b input \u200b\u5fc5\u987b\u200b\u4e3a\u200b\u5b57\u7b26\u4e32\u200b\u3002 \u200b\u5728\u200b\u5176\u4ed6\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u5b83\u200b\u5fc5\u987b\u200b\u4e3a\u200b\u5b57\u8282\u200b\u4e32\u200b\u3002</li> <li>communicate() \u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b (stdout_data, stderr_data) \u200b\u5143\u7ec4\u200b\u3002\u200b\u5982\u679c\u200b\u6587\u4ef6\u200b\u4ee5\u200b\u6587\u672c\u200b\u6a21\u5f0f\u200b\u6253\u5f00\u200b\u5219\u200b\u4e3a\u200b\u5b57\u7b26\u4e32\u200b\uff1b\u200b\u5426\u5219\u200b\u5b57\u8282\u200b\u3002</li> <li>Popen.poll()</li> <li>\u200b\u68c0\u67e5\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u662f\u5426\u200b\u5df2\u200b\u88ab\u200b\u7ec8\u6b62\u200b\u3002\u200b\u8bbe\u7f6e\u200b\u5e76\u200b\u8fd4\u56de\u200b returncode \u200b\u5c5e\u6027\u200b\u3002\u200b\u5426\u5219\u200b\u8fd4\u56de\u200b None\u3002</li> <li>Popen.wait(timeout=None)</li> <li>\u200b\u7b49\u5f85\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u88ab\u200b\u7ec8\u6b62\u200b\u3002\u200b\u8bbe\u7f6e\u200b\u5e76\u200b\u8fd4\u56de\u200b returncode \u200b\u5c5e\u6027\u200b\u3002</li> <li>Popen.send_signal(signal)</li> <li>\u200b\u5c06\u200b\u4fe1\u53f7\u200b signal \u200b\u53d1\u9001\u7ed9\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u5982\u200bSIGINT\u3001SIGTERM\u200b\u7b49\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#_15","title":"\u4f7f\u7528\u200b\u793a\u4f8b","text":"<ul> <li> <p>\u200b\u57fa\u672c\u64cd\u4f5c\u200b <pre><code>In [1]: import subprocess\n\nIn [2]: res = subprocess.Popen(\"sleep 10 &amp;&amp; pwd\", shell=True)\n\nIn [3]: res\nOut[3]: &lt;Popen: returncode: None args: 'sleep 10 &amp;&amp; pwd'&gt;\n\nIn [4]: res.stdout\n\nIn [5]: res.stdout\n\nIn [7]: /data/sswang/subprocess_demo\nIn [7]: \n</code></pre></p> </li> <li> <p>\u200b\u6848\u4f8b\u200b <pre><code>'''\n\u200b\u4f7f\u7528\u200bsubprocess\u200b\u7684\u200bPopen\u200b\u6765\u200b\u6267\u884c\u200bshell\u200b\u547d\u4ee4\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\u4f1a\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u6765\u200b\u6267\u884c\u200bshell\n\u200b\u4f7f\u7528\u200b\u8981\u200b\u653e\u5728\u200b\u540e\u53f0\u200b\u4e00\u76f4\u200b\u6267\u884c\u200b\u7684\u200bshell\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u6bd4\u5982\u200b\u901a\u8fc7\u200bshell\u200b\u542f\u52a8\u200b\u67d0\u79cd\u200b\u670d\u52a1\u200b\uff0c\u200b\u5982\u679c\u200b\u901a\u8fc7\u200b\u4e0a\u9762\u200b\n\u200b\u7684\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u9047\u5230\u200b\u5f53\u200bpython\u200b\u88ab\u200b\u5173\u95ed\u200b\u65f6\u200b\uff0cshell\u200b\u542f\u52a8\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u4e5f\u200b\u88ab\u200b\u5173\u95ed\u200b\n\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200bclose_fds\u200b\u53c2\u6570\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200bfalse\uff0c\u200b\u8868\u793a\u200b\u7ee7\u627f\u200bfb\uff0c\u200b\u5373\u200b\u6587\u4ef6\u200b\u8d44\u6e90\u200b\u7b26\u200b\uff0c\u200b\u5982\u679c\u200b\u7ee7\u627f\u200bfb\uff0c\u200b\u90a3\u4e48\u200b\u5f53\u7236\u200b\u8fdb\u7a0b\u200b\u5173\u95ed\u200b\u65f6\u200b\nshell\u200b\u542f\u52a8\u200b\u7684\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u4f1a\u200b\u53bb\u200b\u7ee7\u627f\u200b\u7236\u200b\u8fdb\u7a0b\u200b\u76f8\u5e94\u200b\u7684\u200b\u8d44\u6e90\u200b\uff0c\u200b\u5982\u200bFlask web\u200b\u670d\u52a1\u200b\u4e2d\u200b\u901a\u8fc7\u200bshell\u200b\u542f\u52a8\u200b\u4e86\u200b\u67d0\u4e2a\u200b\u670d\u52a1\u200b\uff0c\u200b\u6b64\u65f6\u200bFlask\u200b\u5173\u95ed\u200b\u4e86\u200b\n\u200b\u4f46\u200b\u539f\u672c\u200bFlask\u200b\u76d1\u542c\u200b\u7684\u200b\u7aef\u53e3\u200b\u4f9d\u65e7\u4f1a\u200b\u88ab\u200bshell\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u5360\u7528\u200b\uff0c\u200b\u8fd9\u6837\u200b\u5c31\u200b\u5bfc\u81f4\u200bFlask\u200b\u65e0\u6cd5\u200b\u518d\u6b21\u200b\u542f\u52a8\u200b\u3002\n\u200b\u5c06\u200bclose_fds\u200b\u8bbe\u7f6e\u200b\u4e3a\u200bfalse\u200b\u53ef\u4ee5\u200b\u907f\u514d\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\n'''\ndef execshell2(self,shell):\n    try:\n        p = subprocess.Popen(shell, shell=True,stdout=subprocess.PIPE ,stderr=subprocess.STDOUT, close_fds=True)\n        output = p.stdout.read()\n        # p.terminate()\n        code = 0\n        print('%s execute success!' % shell)\n    except subprocess.CalledProcessError as e:\n        code = e.returncode\n        output = e.output\n        print('%s execute error: exit_status [%s] err [%s]' % (shell, str(code), output))\n        exit()\n    return code, output\n</code></pre></p> </li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#subprocess","title":"subprocess\u200b\u5e38\u7528\u200b\u5f02\u5e38\u200b\u7c7b","text":"","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#subprocesserror","title":"SubprocessError","text":"<ul> <li>\u200b\u6b64\u200b\u6a21\u5757\u200b\u7684\u200b\u5176\u4ed6\u200b\u5f02\u5e38\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#timeoutexpired","title":"TimeoutExpired","text":"<ul> <li>SubprocessError \u200b\u7684\u200b\u5b50\u7c7b\u200b\uff0c\u200b\u7b49\u5f85\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u53d1\u751f\u200b\u8d85\u65f6\u200b\u65f6\u200b\u88ab\u200b\u629b\u51fa\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#calledprocesserror","title":"CalledProcessError","text":"<ul> <li>SubprocessError \u200b\u7684\u200b\u5b50\u7c7b\u200b\uff0c\u200b\u5f53\u200b\u4e00\u4e2a\u200b\u7531\u200b check_call(), check_output() \u200b\u6216\u200b run() (\u200b\u9644\u5e26\u200b check=True) \u200b\u8fd0\u884c\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u8fd4\u56de\u200b\u4e86\u200b\u975e\u200b\u96f6\u200b\u9000\u51fa\u200b\u72b6\u6001\u200b\u7801\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b</li> </ul>","tags":["Python"]},{"location":"python/python_lib/libs/subprocess/#_16","title":"\u5b9e\u8df5\u200b\u6848\u4f8b","text":"<ul> <li>\u200b\u9700\u6c42\u200b\uff1a\u200b\u4f7f\u7528\u200btyper+subprocess\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u7528\u4e8e\u200b\u7ba1\u7406\u200b\u9879\u76ee\u200b\u4f9d\u8d56\u200b\u548c\u200b\u6267\u884c\u200b\u4e00\u4e9b\u200b\u5e38\u89c1\u200b\u4efb\u52a1\u200b\u7684\u200b\u811a\u672c\u200b\u7684\u200b\u5de5\u5177\u200b\u3002 <pre><code>import sys\nfrom pathlib import Path\nimport subprocess\nimport click\n\nclass UpgradeDependencies:\n    @classmethod\n    def _build_args(cls, dependencies):\n        # \u200b\u89e3\u6790\u200b\u4f9d\u8d56\u200b\u9879\u200b\u5e76\u200b\u6784\u5efa\u200b\u53c2\u6570\u200b\n        packs, specials = [], {}\n        for dep in dependencies:\n            if \":\" in dep:\n                k, v = dep.split(\":\")\n                specials[k.strip()] = v.strip().split()\n            else:\n                packs.append(dep.strip())\n        return packs, specials\n\n    @classmethod\n    def _parse_dependencies(cls, text, title):\n        # \u200b\u4ece\u200b\u6587\u672c\u200b\u4e2d\u200b\u89e3\u6790\u200b\u4f9d\u8d56\u200b\u9879\u200b\n        main, dev = text.split(title)\n        devs = dev.split(\"[tool.\")[0].strip().splitlines()\n        mains = main.strip().splitlines()\n        prod_packs, specials = cls._build_args(mains)\n        dev_packs, specials = cls._build_args(devs)\n        return prod_packs, dev_packs, specials\n\n    @classmethod\n    def get_args(cls):\n        # \u200b\u83b7\u53d6\u200b\u4f9d\u8d56\u200b\u9879\u200b\u53c2\u6570\u200b\n        dev_title = \"[tool.poetry.group.dev.dependencies]\"\n        dev_flag = \"--group dev\"\n        main_args, dev_args, others = [], [], []\n        if dev_title in text:\n            main_title = \"[tool.poetry.dependencies]\"\n        else:\n            dev_flag = \"--group dev\"\n            dev_title = \"[tool.poetry.group.dev.dependencies]\"\n        main_args, dev_args, others = cls._parse_dependencies(text, main_title, dev_title, dev_flag)\n        return main_args, dev_args, others, dev_flag\n\n    @classmethod\n    def gen_cmd(cls):\n        # \u200b\u751f\u6210\u200b\u5347\u7ea7\u200b\u4f9d\u8d56\u200b\u9879\u200b\u7684\u200b\u547d\u4ee4\u200b\n        main_args, dev_args, others, dev_flag = cls.get_args()\n        command = f\"poetry add {' '.join(main_args)} &amp;&amp; poetry add {dev_flag} {' '.join(dev_args)}\"\n        for packages in others:\n            command += f\" &amp;&amp; poetry add {' '.join(packages)}\"\n        return command\n\ndef exit_if_run_failed(cmd):\n    # \u200b\u5982\u679c\u200b\u8fd0\u884c\u200b\u547d\u4ee4\u200b\u5931\u8d25\u200b\uff0c\u200b\u5219\u200b\u9000\u51fa\u200b\n    try:\n        subprocess.run(cmd, check=True, shell=True)\n    except subprocess.CalledProcessError as e:\n        print(f\"Error: {e}\")\n        sys.exit(1)\n\n@click.command()\ndef update():\n    \"\"\"\u200b\u5347\u7ea7\u200b\u6240\u6709\u200b\u4f9d\u8d56\u200b\u5305\u5230\u200b\u6700\u65b0\u7248\u200b\"\"\"\n    exit_if_run_failed(UpgradeDependencies.gen_cmd())\n\n@click.command()\ndef lint():\n    \"\"\"\u200b\u683c\u5f0f\u5316\u200b\u52a0\u200b\u9759\u6001\u200b\u68c0\u67e5\u200b\"\"\"\n    remove_imports = \"autoflake --in-place --remove-all-unused-imports\"\n    cmd = \"\"\n    paths = \".\"\n    if args := sys.argv[1:]:\n        if \"-r\" in args:\n            args.remove(\"-r\")\n            if all(Path(i).is_file() for i in args):\n                cmd = f\"{remove_imports} {paths} &amp;&amp; \" + cmd\n        paths = \" \".join(args)\n    tools = (\"isort\", \"black\", \"ruff\", \"mypy\")\n    cmd += f\"poetry run {tools[0]} {paths} &amp;&amp; poetry run {tools[1]} {paths} &amp;&amp; poetry run {tools[2]} {paths} &amp;&amp; poetry run {tools[3]} {paths}\"\n    exit_if_run_failed(cmd)\n\n@click.command()\ndef dev():\n    \"\"\"\u200b\u542f\u52a8\u200b\u670d\u52a1\u200b\uff1a\u200b\u76f8\u5f53\u4e8e\u200bdjango\u200b\u7684\u200brunserver\"\"\"\n    cmd = \"poetry run python main.py\"\n    if args := sys.argv[1:]:\n        cmd += \" \" + \" \".join(args)\n    exit_if_run_failed(cmd)\n\n@click.command()\ndef makemigrations():\n    \"\"\"\u200b\u751f\u6210\u200b\u6570\u636e\u5e93\u200b\u8fc1\u79fb\u200b\u6587\u4ef6\u200b\uff0c\u200b\u7c7b\u4f3c\u200bDjango\u200b\u7684\u200b./manage.py makemigrations\"\"\"\n    exit_if_run_failed(\"aerich migrate\")\n\n@click.command()\ndef migrate():\n    \"\"\"\u200b\u66f4\u65b0\u200b\u6570\u636e\u5e93\u200b\u8868\u200b\u7ed3\u6784\u200b\uff1a\u200b\u76f8\u5f53\u4e8e\u200bdjango\u200b\u7684\u200b./manage.py migrate\"\"\"\n    exit_if_run_failed(\"aerich upgrade\")\n\nif __name__ == \"__main__\":\n    cli()  # Assuming you have defined `cli` somewhere\n</code></pre></li> </ul>","tags":["Python"]},{"location":"python/pyweb/django/django_lazyobject_analysis/","title":"django\u200b\u6e90\u7801\u200b\u5b66\u4e60\u200b\u4e4b\u200bLazyObject","text":"","tags":["Python","Django"]},{"location":"python/pyweb/django/django_lazyobject_analysis/#_1","title":"\u5bfc\u5165","text":"<pre><code>from django.utils.functional import LazyObject\n</code></pre>","tags":["Python","Django"]},{"location":"python/pyweb/django/django_lazyobject_analysis/#lazyobject","title":"LazyObject\u200b\u6e90\u7801\u200b\u5206\u6790","text":"<pre><code>empty = object()  # empty\u200b\u662f\u200b\u4e00\u4e2a\u200bobject\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u8868\u793a\u200b\u8fd8\u200b\u672a\u200b\u521d\u59cb\u5316\u200b\n\n\"\"\"\n#\u200b\u4e3a\u7c7b\u200b\u65b9\u6cd5\u200b\u5b9e\u73b0\u200b\u901a\u7528\u200b\u7684\u200b\u60f0\u6027\u200b\u52a0\u8f7d\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5373\u200b\u67e5\u770b\u200b\u5bf9\u8c61\u200b\u662f\u5426\u200b\u5b9e\u4f8b\u200b\u5316\u200b\n#\u200b\u82e5\u200b\u8fd8\u200b\u672a\u200b\u5b9e\u4f8b\u200b\u5316\u200b\uff0c\u200b\u8c03\u7528\u200b\u5b50\u7c7b\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u65b9\u6cd5\u200b\n#\u200b\u6700\u540e\u200b\u5728\u200b\u751f\u6210\u200b\u7684\u200b\u5b9e\u4f8b\u200b\u4e0a\u200b\u8c03\u7528\u200b\u539f\u6765\u200b\u7684\u200bfunc\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\n\"\"\"\ndef new_method_proxy(func):  \n# new_method_proxy\u200b\u662f\u200b\u4e2a\u200b\u5de5\u5382\u200b\u51fd\u6570\u200b\uff0c\u200b\u4e3a\u200b\u5176\u4ed6\u200b\u51fd\u6570\u200b\u589e\u52a0\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u7684\u200b\u529f\u80fd\u200b\uff0c\n    def inner(self, *args):\n        # \u200b\u5224\u65ad\u200b\u662f\u5426\u200bempty,\u200b\u8868\u793a\u200b\u4e3a\u7a7a\u200b\uff0c\u200b\u672a\u200b\u5b9e\u4f8b\u200b\u5316\u200b\n        if self._wrapped is empty:\n            # \u200b\u8c03\u7528\u200b\u7ee7\u627f\u200b\u7c7b\u200b\u5b9e\u73b0\u200b\u7684\u200b_setup,\u200b\u5b9e\u4f8b\u200b\u5316\u7c7b\u200b\n            self._setup()\n        return func(self._wrapped, *args)\n    return inner\n\n\nclass LazyObject(object):\n    \"\"\"\n    A wrapper for another class that can be used to delay instantiation of the\n    wrapped class.\n\n    By subclassing, you have the opportunity to intercept and alter the\n    instantiation. If you don't need to do that, use SimpleLazyObject.\n    \"\"\"\n\n    # Avoid infinite recursion when tracing __init__ (#19456).\n    _wrapped = None\n\n    def __init__(self):\n        # Note: if a subclass overrides __init__(), it will likely need to\n        # override __copy__() and __deepcopy__() as well.\n        self._wrapped = empty  #\u200b\u6807\u8bb0\u200b\u662f\u5426\u200b\u6709\u200b\u5b9e\u4f8b\u200b\u5316\u200b\n\n     # \u200b\u901a\u8fc7\u200b\u5de5\u5382\u200b\u51fd\u6570\u200b\u751f\u6210\u200b__getattr__\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u4e3a\u200b\u5176\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u5b9e\u4f8b\u200b\u5316\u200b\uff0c\u200b\u5982\u679c\u200b\u672a\u200b\u5b9e\u4f8b\u200b\u5316\u200b\uff0c\u200b\u5219\u200b\u8c03\u7528\u200b_setup\u200b\u5b9e\u4f8b\u200b\u5316\u7c7b\u200b\n    __getattr__ = new_method_proxy(getattr)  \n\n    def __setattr__(self, name, value):\n        if name == \"_wrapped\": #\u200b\u82e5\u200b\u4fee\u6539\u200b\u7684\u200b\u4e3a\u200b_wrapped\uff0c\u200b\u7279\u6b8a\u200b\u5904\u7406\u200b\n            # Assign to __dict__ to avoid infinite __setattr__ loops.\n            self.__dict__[\"_wrapped\"] = value\n        else:\n            if self._wrapped is empty:\n                self._setup()\n            setattr(self._wrapped, name, value)   #\u200b\u5b9e\u4f8b\u200b\u5316\u540e\u200b\uff0c\u200b\u4fee\u6539\u200b\u5b9e\u4f8b\u200b\u7684\u200b\u5c5e\u6027\u200b\n\n    def __delattr__(self, name):\n        if name == \"_wrapped\":  #\u200b\u4e0d\u53ef\u200b\u5220\u9664\u200b_wrapped\u200b\u5c5e\u6027\u200b\n            raise TypeError(\"can't delete _wrapped.\")\n        if self._wrapped is empty:\n            self._setup()\n        delattr(self._wrapped, name)\n\n    # \u200b\u9700\u8981\u200b\u5b50\u7c7b\u200b\u5b9e\u73b0\u200b\u81ea\u5df1\u200b\u7684\u200b_setup\n    def _setup(self):\n        \"\"\"\n        Must be implemented by subclasses to initialize the wrapped object.\n        \"\"\"\n        #\u200b\u53ea\u200b\u53ef\u200b\u7531\u200b\u5b50\u7c7b\u200b\u8c03\u7528\u200b\n        raise NotImplementedError('subclasses of LazyObject must provide a _setup() method')\n\n    # Because we have messed with __class__ below, we confuse pickle as to what\n    # class we are pickling. We're going to have to initialize the wrapped\n    # object to successfully pickle it, so we might as well just pickle the\n    # wrapped object since they're supposed to act the same way.\n    #\n    # Unfortunately, if we try to simply act like the wrapped object, the ruse\n    # will break down when pickle gets our id(). Thus we end up with pickle\n    # thinking, in effect, that we are a distinct object from the wrapped\n    # object, but with the same __dict__. This can cause problems (see #25389).\n    #\n    # So instead, we define our own __reduce__ method and custom unpickler. We\n    # pickle the wrapped object as the unpickler's argument, so that pickle\n    # will pickle it normally, and then the unpickler simply returns its\n    # argument.\n    def __reduce__(self):\n        if self._wrapped is empty:\n            self._setup()\n        return (unpickle_lazyobject, (self._wrapped,))\n\n    def __copy__(self):\n        if self._wrapped is empty:\n            # If uninitialized, copy the wrapper. Use type(self), not\n            # self.__class__, because the latter is proxied.\n            return type(self)()\n        else:\n            # If initialized, return a copy of the wrapped object.\n            return copy.copy(self._wrapped)\n\n    def __deepcopy__(self, memo):\n        if self._wrapped is empty:\n            # We have to use type(self), not self.__class__, because the\n            # latter is proxied.\n            result = type(self)()\n            memo[id(self)] = result\n            return result\n        return copy.deepcopy(self._wrapped, memo)\n\n    __bytes__ = new_method_proxy(bytes)\n    __str__ = new_method_proxy(str)\n    __bool__ = new_method_proxy(bool)\n\n    # Introspection support\n    __dir__ = new_method_proxy(dir)\n\n    # Need to pretend to be the wrapped class, for the sake of objects that\n    # care about this (especially in equality tests)\n    __class__ = property(new_method_proxy(operator.attrgetter(\"__class__\")))\n    __eq__ = new_method_proxy(operator.eq)\n    __lt__ = new_method_proxy(operator.lt)\n    __gt__ = new_method_proxy(operator.gt)\n    __ne__ = new_method_proxy(operator.ne)\n    __hash__ = new_method_proxy(hash)\n\n    # List/Tuple/Dictionary methods support\n    __getitem__ = new_method_proxy(operator.getitem)\n    __setitem__ = new_method_proxy(operator.setitem)\n    __delitem__ = new_method_proxy(operator.delitem)\n    __iter__ = new_method_proxy(iter)\n    __len__ = new_method_proxy(len)\n    __contains__ = new_method_proxy(operator.contains)\n</code></pre>","tags":["Python","Django"]},{"location":"python/pyweb/django/django_lazyobject_analysis/#_2","title":"\u603b\u7ed3\u200b\uff1a","text":"<ol> <li>LazyObject\u200b\u7684\u200b\u6838\u5fc3\u200b\u903b\u8f91\u200b\uff0c\u200b\u521d\u59cb\u5316\u200b\u7684\u200b\u65f6\u5019\u200b\u628a\u200b_wrapped\u200b\u8bbe\u7f6e\u200b\u4e3a\u200bempty\uff0c\u200b\u672a\u200b\u5bf9\u200b\u5b9e\u9645\u200b\u7684\u200b\u7c7b\u200b\u8fdb\u884c\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u8fbe\u5230\u200b\u5ef6\u8fdf\u200b\u7c7b\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u7684\u200b\u6548\u679c\u200b\u3002\u200b\u53ea\u6709\u200b\u5bf9\u200b\u7ed3\u679c\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u67d0\u4e9b\u200b\u64cd\u4f5c\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u6bd4\u5982\u200b\u83b7\u53d6\u200b\u5c5e\u6027\u200b\uff0c\u200b\u624d\u200b\u4f1a\u200b\u53bb\u200b\u8c03\u7528\u200b_setup\u200b\u8fdb\u884c\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u3002\u200b\u800c\u4e14\u200b_setup\u200b\u5fc5\u987b\u200b\u7531\u200b\u5b50\u7c7b\u200b\u5b9e\u73b0\u200b\u3002</li> <li>\u200b\u5982\u679c\u200b\u60f3\u8981\u200b\u8ba9\u200b\u67d0\u4e2a\u200b\u7c7b\u6709\u200b\u5ef6\u8fdf\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u7684\u200b\u529f\u80fd\u200b\uff0c\u200b\u5fc5\u987b\u200b\u505a\u200b\u4e24\u4ef6\u200b\u4e8b\u60c5\u200b\uff0c1\uff09\u200b\u7ee7\u627f\u200bLazyObject\uff1b2\uff09\u200b\u5b9e\u73b0\u200b_setup\u200b\u65b9\u6cd5\u200b\u3002</li> </ol>","tags":["Python","Django"]},{"location":"python/pyweb/django/django_lazyobject_analysis/#demo","title":"Demo\u200b\u793a\u4f8b","text":"<p><pre><code># \u200b\u6709\u200b\u5ef6\u8fdf\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u9700\u6c42\u200b\u7684\u200b\u7c7b\u200bDemoObject\nclass DemoObject(object):  \n    def __init__(self):  \n        self.title = 'just a demo'  \n\n# \u200b\u56e0\u4e3a\u200b\u7ee7\u627f\u200b\u4e86\u200bLazyObject\uff0c\u200b\u6240\u4ee5\u200bDemoLazyObject\u200b\u6709\u200b\u5ef6\u8fdf\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u7684\u200b\u529f\u80fd\u200b\nclass DemoLazyObject(LazyObject):\n    # \u200b\u5b50\u7c7b\u200b\u9700\u8981\u200b\u91cd\u65b0\u200b\u5b9e\u73b0\u200b_setup\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u5b9e\u4f8b\u200b\u5316\u7c7b\u200bDemoObject\uff0c\u200b\u5e76\u200b\u628a\u200b\u751f\u6210\u200b\u7684\u200b\u5bf9\u8c61\u200b\u8d4b\u7ed9\u200b_wrapped\u3002\n    def _setup(self):\n        self._wrapped = DemoObject()  \n\n# \u200b\u5b9e\u4f8b\u200b\u5316\u7c7b\u200bDemoLazyObject\uff0c\u200b\u751f\u6210\u200b\u5bf9\u8c61\u200ba_demo\uff0c\u200b\u6b64\u65f6\u200b\u5e76\u200b\u6ca1\u6709\u200b\u5b9e\u9645\u200b\u5b9e\u4f8b\u200b\u5316\u7c7b\u200bDemoObject\u3002\na_demo = DemoLazyObject()\n# \u200b\u8c03\u7528\u200ba_demo.title\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u4f1a\u200b\u89e6\u53d1\u200b\u7c7b\u200bDemoObject\u200b\u7684\u200b\u5b9e\u4f8b\u200b\u5316\u200b\nprint(a_demo.title)\n</code></pre> \u200b\u4ee3\u7801\u8fd0\u884c\u200b\u6d41\u7a0b\u200b\uff1a</p> <pre><code>\u200b\u5f53\u200b\u5b9e\u4f8b\u200b\u5316\u7c7b\u200bDemoLazyObject\u200b\u65f6\u200b\uff0c\u200b\u5e76\u200b\u6ca1\u6709\u200b\u771f\u6b63\u200b\u53bb\u200b\u5b9e\u4f8b\u200b\u5316\u7c7b\u200b DemoObject\uff0c\u200b\u5b83\u200b\u7684\u200b\u5b9e\u4f8b\u200b\u5316\u5728\u200b_setup\u200b\u91cc\u9762\u200b\u3002\u200b\u53ea\u6709\u200b\u6267\u884c\u200b\u4e86\u200b\u540e\u9762\u200b\u90a3\u200b\u884c\u200bprint(a_demo.title)\uff0c\u200b\u624d\u200b\u4f1a\u200b\u771f\u6b63\u200b\u89e6\u53d1\u200b\u7c7b\u200b DemoObject\u200b\u7684\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u3002\n\n\u200b\u7b2c\u4e00\u6b21\u200b\u7684\u200b\u8c03\u7528\u200b\u6d41\u7a0b\u200b\u662f\u200bprint(a_demo.title)-&gt;LazyObject.__getattr__-&gt;new_method_proxy(getattr)-&gt;DemoLazyObject._setup(self)-&gt;DemoObject.__init__(self)-&gt;LazyObject.getattr(self._wrapped, *args)\u3002\n\n\u200b\u4ee5\u540e\u200b\u518d\u200b\u8c03\u7528\u200b\u7684\u200b\u65f6\u5019\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u8fdb\u5165\u200bDemoLazyObject._setup(self)\u200b\u548c\u200bDemoObject.__init__(self)\uff0c\u200b\u800c\u662f\u200b\u76f4\u63a5\u200b\u8fd4\u56de\u200bLazyObject.getattr(self._wrapped, *args)\u3002\n</code></pre>","tags":["Python","Django"]},{"location":"python/pyweb/django/django_lazyobject_analysis/#django","title":"django\u200b\u9879\u76ee\u200b\u4e2d\u200b\u7684\u200b\u5e94\u7528","text":"<p>\u200b\u60c5\u666f\u200b\u9700\u6c42\u200b\uff1a\u200b\u8c03\u7528\u200boss\u200b\u7684\u200bapi\u200b\u53bb\u200b\u5b9e\u73b0\u200b\u5c06\u200b\u538b\u7f29\u5305\u200b\u6587\u4ef6\u200b\u4e0a\u200b\u4f20\u5230\u200boss\u200b\u7684\u200bprivate bucket\u200b\u4e2d\u200b - models: <pre><code>file_path = models.FileField(u'\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b(*.tar.gz)',upload_to=generate_package_filename, max_length=1024,storage=system_package_storage)\n\nFileField:\u200b\u5b57\u7b26\u4e32\u200b\u7c7b\u578b\u200b\uff0c\u200b\u8def\u5f84\u200b\u4fdd\u5b58\u200b\u5230\u200b\u6570\u636e\u5e93\u200b\uff0c\u200b\u6587\u4ef6\u200b\u4e0a\u200b\u4f20\u5230\u200b\u6307\u5b9a\u200b\u76ee\u5f55\u200b\nupload_to:\u200b\u4e0a\u4f20\u200b\u6587\u4ef6\u200b\u7684\u200b\u4fdd\u5b58\u200b\u8def\u5f84\u200b\nstorage:\u200b\u5b58\u50a8\u200b\u7ec4\u4ef6\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u662f\u200bdjango.core.files.storage.FileSystemStorage\n</code></pre> - \u200b\u751f\u6210\u200b\u4e0a\u4f20\u200b\u6587\u4ef6\u200b\u7684\u200b\u4fdd\u5b58\u200b\u8def\u5f84\u200b\u7684\u200b\u65b9\u6cd5\u200b <pre><code>def generate_package_filename(instance, filename):\n    return {'product_key': instance.product.product_key}, 'system_package/%d/%s/%s%s' % (\n        instance.device_type, instance.version, int(time.mktime(datetime.now().timetuple())), file_extension(filename))\n</code></pre> - system_package_storage\u200b\u7684\u200b\u5b9e\u73b0\u200b</p> <pre><code>class AliyunBaseStorage(Storage):  # \u200b\u7ee7\u627f\u200bfrom django.core.files.storage import Storage\n    \"\"\"\n    Aliyun OSS2 Storage\n    \"\"\"\n\n    private = False\n\n    def __init__(self):\n        self.kwargs = {}\n\n    '''\n    ' \u200b\u6839\u636e\u200bmodel\u200b\u4e2d\u200b\u5b9a\u4e49\u200b\u7684\u200bupload_to\u200b\u51fd\u6570\u200b\u8fd4\u56de\u503c\u200b\uff0c\u200b\u53d6\u51fa\u200b\u6587\u4ef6\u200b\u5b58\u50a8\u200b\u8def\u5f84\u200b\n    ' \u200b\u9ed8\u8ba4\u200b\u76f4\u63a5\u200b\u4f20\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u540d\u200b\uff0c\n    ' \u200b\u8ddf\u200bproduct\u200b\u76f8\u5173\u200b\u7684\u200b\u4f1a\u200b\u4f20\u200bproduct\u200b\u76f8\u5173\u200b\u5c5e\u6027\u200b\u8fc7\u6765\u200b\n    '''\n    def get_available_name(self, upload_to):\n        super(AliyunBaseStorage, self).get_available_name(upload_to)\n\n    def get_iot_service(self):\n        kwargs = self.kwargs\n        if not kwargs.has_key('product_name') and not kwargs.has_key('product_key'):\n            kwargs.update({ 'product_name' : 'wastebin' })\n        return AliyunIoTService(**kwargs)\n\n    def get_bucket_read(self):\n        iot_service = self.get_iot_service()\n        if self.private:\n            return iot_service.get_private_bucket(aliyun_sts_type=AliyunSTSType.STSReadOnly)\n        return iot_service.get_media_bucket(aliyun_sts_type=AliyunSTSType.STSReadOnly)\n\n    def get_bucket_write(self):\n        iot_service = self.get_iot_service()\n        if self.private:\n            return iot_service.get_private_bucket(aliyun_sts_type=AliyunSTSType.STSWriteOnly)\n        return iot_service.get_media_bucket(aliyun_sts_type=AliyunSTSType.STSWriteOnly)\n\n    def get_location(self):\n        return ALIYUN_SERVER_TYPE.lower()\n\n    def _clean_name(self, name):\n        clean_name = posixpath.normpath(name).replace('\\\\', '/')\n\n        if name.endswith('/') and not clean_name.endswith('/'):\n            return clean_name + '/'\n        else:\n            return clean_name\n\n    def _normalize_name(self, name):\n        base_path = force_text(self.get_location())\n        base_path = base_path.rstrip('/')\n\n        final_path = urljoin(base_path.rstrip('/') + \"/\", name)\n\n        base_path_len = len(base_path)\n        if (not final_path.startswith(base_path) or\n                final_path[base_path_len:base_path_len + 1] not in ('', '/')):\n            raise SuspiciousOperation(\"Attempted access to '%s' denied.\" %\n                                      name)\n        return final_path.lstrip('/')\n\n    def _get_target_name(self, name):\n        name = self._normalize_name(self._clean_name(name))\n        if six.PY2:\n            name = name.encode('utf-8')\n        return name\n\n    def _open(self, name, mode='rb'):\n        return AliyunFile(name, self, mode)\n\n    def _save(self, name, content):\n        # \u200b\u4e3a\u200b\u4fdd\u8bc1\u200bdjango\u200b\u884c\u4e3a\u200b\u7684\u200b\u4e00\u81f4\u6027\u200b\uff0c\u200b\u4fdd\u5b58\u200b\u6587\u4ef6\u200b\u65f6\u200b\uff0c\u200b\u5e94\u8be5\u200b\u8fd4\u56de\u200b\u76f8\u5bf9\u200b\u4e8e\u200b`media path`\u200b\u7684\u200b\u76f8\u5bf9\u8def\u5f84\u200b\u3002\n        target_name = self._get_target_name(name)\n\n        content.open()\n        content_str = b''.join(chunk for chunk in content.chunks())\n        self.get_bucket_write().put_object(target_name, content_str)\n        content.close()\n\n        return self._clean_name(name)\n\n    def get_file_header(self, name):\n        name = self._get_target_name(name)\n        return self.get_bucket_read().head_object(name)\n\n    def exists(self, name):\n        return self.get_bucket_read().object_exists(name)\n\n    def size(self, name):\n        file_info = self.get_file_header(name)\n        return file_info.content_length\n\n    def modified_time(self, name):\n        file_info = self.get_file_header(name)\n        return datetime.datetime.fromtimestamp(file_info.last_modified)\n\n    def listdir(self, name):\n        name = self._normalize_name(self._clean_name(name))\n        if name and name.endswith('/'):\n            name = name[:-1]\n\n        files = []\n        dirs = set()\n\n        for obj in ObjectIterator(self.get_bucket_read(), prefix=name, delimiter='/'):\n            if obj.is_prefix():\n                dirs.add(obj.key)\n            else:\n                files.append(obj.key)\n\n        return list(dirs), files\n\n    def url(self, name):\n        name = self._normalize_name(self._clean_name(name))\n        # name = filepath_to_uri(name) # \u200b\u8fd9\u6bb5\u200b\u4f1a\u200b\u5bfc\u81f4\u200b\u4e8c\u6b21\u200bencode\n        name = name.encode('utf8')\n        # \u200b\u505a\u200b\u8fd9\u4e2a\u200b\u8f6c\u5316\u200b\uff0c\u200b\u662f\u56e0\u4e3a\u200b\u4e0b\u9762\u200b\u7684\u200b_make_url\u200b\u4f1a\u200b\u7528\u200burllib.quote\u200b\u8f6c\u7801\u200b\uff0c\u200b\u8f6c\u7801\u200b\u4e0d\u200b\u652f\u6301\u200bunicode\uff0c\u200b\u4f1a\u200b\u62a5\u9519\u200b\uff0c\u200b\u5728\u200bpython2\u200b\u73af\u5883\u200b\u4e0b\u200b\u3002\n        return self.get_bucket_read()._make_url(self.get_bucket_read().bucket_name, name)\n\n    def read(self, name):\n        pass\n\n    def delete(self, name):\n        name = self._get_target_name(name)\n        result = self.get_bucket_write().delete_object(name)\n        if result.status &gt;= 400:\n            raise AliyunOperationError(result.resp)\n\n\nclass AliyunSystemPackageStorage(AliyunBaseStorage):\n\n    private = True\n\n    def _save(self, name, content):\n        super(AliyunSystemPackageStorage, self)._save(name, content)\n        return name\n\n    def get_available_name(self, upload_to):\n        kwargs, name = upload_to\n        self.kwargs.update(kwargs)\n\n        dir_name, file_name = os.path.split(name)\n        file_root, file_ext = os.path.splitext(file_name)\n        count = itertools.count(1)\n        while self.exists(name):\n            name = os.path.join(dir_name, \"%s_%s%s\" % (file_root, next(count), file_ext))\n\n        return name\n\nclass OSSSystemPackageStorage(LazyObject):\n    def _setup(self):\n        self._wrapped = AliyunSystemPackageStorage()\n\nsystem_package_storage = OSSSystemPackageStorage()\n</code></pre>","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_fields_summary/","title":"\u8868\u4e0e\u200b\u5b57\u200b\u6bb5","text":"<p>\u200b\u5bf9\u4e8e\u200bORM\u200b\u6765\u8bf4\u200b,\u200b\u8868\u4e0e\u200b\u5b57\u200b\u6bb5\u200b\u5c31\u662f\u200b\u7c7b\u200b\u4e0e\u200b\u7c7b\u200b\u5c5e\u6027\u200b,\u200b\u662f\u200bORM\u200b\u6a21\u578b\u200b\u7684\u200b\u57fa\u7840\u200b,\u200b\u6ca1\u6709\u200b\u7c7b\u548c\u7c7b\u200b\u5c5e\u6027\u200b,\u200b\u5c31\u200b\u6839\u672c\u65e0\u6cd5\u200b\u4f7f\u7528\u200b\u6570\u636e\u5e93\u200b,\u200b\u540c\u65f6\u200b\u5728\u200bDjango\u200b\u91cc\u200b\u8bbe\u7f6e\u200b\u7c7b\u548c\u7c7b\u200b\u5c5e\u6027\u200b,\u200b\u5bf9\u4e8e\u200b\u5b9e\u9645\u200b\u7684\u200bMySQL\u200b\u4e2d\u200b\u7684\u200b\u8868\u6709\u4f55\u200b\u5f71\u54cd\u200b,\u200b\u4e5f\u200b\u662f\u200b\u5fc5\u987b\u200b\u8981\u200b\u638c\u63e1\u200b\u7684\u200b\u5185\u5bb9\u200b.</p>","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_fields_summary/#_2","title":"\u7c7b\u200b=\u200b\u8868","text":"<p>\u200b\u5728\u200bORM\u200b\u4e2d\u200b,\u200b\u5bf9\u5e94\u200b\u4e00\u5f20\u200b\u6570\u636e\u8868\u200b\u7684\u200b,\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7c7b\u200b(\u200b\u4e00\u822c\u200b\u79f0\u4e3a\u200b\u4e00\u4e2a\u200bModel,\u200b\u4e00\u4e2a\u200b\u6a21\u578b\u200b),\u200b\u8fd9\u4e2a\u200b\u7c7b\u200b\u5fc5\u987b\u200b\u5177\u6709\u200b\u5982\u4e0b\u200b\u7279\u70b9\u200b:</p> <ol> <li>\u200b\u7ee7\u627f\u200b<code>django.db.models.Model</code>\u200b\u7c7b\u200b,\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u7c7b\u200b\u5c5e\u6027\u200b\u8868\u793a\u200b\u4e00\u4e2a\u200b\u6570\u636e\u8868\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b(database field)</li> <li>\u200b\u67d0\u4e2a\u200bapp\u200b\u8981\u200b\u4f7f\u7528\u200b\u7684\u200b\u7c7b\u200b,\u200b\u9700\u8981\u200b\u5199\u200b\u5728\u200b\u8be5\u200bapp\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200bmodels.py\u200b\u6587\u4ef6\u200b\u5185\u90e8\u200b,\u200b\u8fd8\u8981\u200b\u5728\u200bsettings.py\u200b\u6587\u4ef6\u200b\u7684\u200bINSTALLED_APPS\u200b\u5185\u200b\u6ce8\u518c\u200b\u8be5\u200bAPP</li> <li>\u200b\u6ee1\u8db3\u200b\u4e0a\u8fb9\u200b\u4e24\u4e2a\u200b\u6761\u4ef6\u200b\u540e\u200b,Django\u200b\u4e3a\u200b\u8fd9\u4e2a\u200b\u7c7b\u200b\u81ea\u52a8\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u7cfb\u5217\u200b\u7684\u200bAPI\u200b\u53ef\u200b\u4f9b\u200b\u89c6\u56fe\u200b\u51fd\u6570\u200b\u4f7f\u7528\u200b,\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5404\u79cd\u200b\u7c7b\u200b\u65b9\u6cd5\u200b,\u200b\u4e3b\u8981\u200b\u7528\u4e8e\u200b\u589e\u5220\u200b\u6539\u67e5\u200b\u6570\u636e\u200b.</li> </ol> <p>\u200b\u8868\u200b\u8fd8\u6709\u200b\u4e00\u4e9b\u200b\u5176\u4ed6\u200b\u7684\u200b\u5185\u5bb9\u200b,\u200b\u6bd4\u5982\u200bMETA\u200b\u7c7b\u200b,\u200b\u4e00\u4e9b\u200b\u9ed8\u8ba4\u200b\u7c7b\u200b\u65b9\u6cd5\u200b,\u200b\u8fd8\u6709\u200b\u8868\u200b\u4e4b\u95f4\u200b\u7684\u200b\u7ee7\u627f\u200b\u5173\u7cfb\u200b,\u200b\u7b49\u5230\u200b\u540e\u8fb9\u200b\u518d\u200b\u5b66\u4e60\u200b,\u200b\u5148\u200b\u6765\u770b\u200b\u6700\u200b\u6838\u5fc3\u200b\u7684\u200b\u5185\u5bb9\u200b-\u200b\u8868\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b.</p>","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_fields_summary/#_3","title":"\u5c5e\u6027\u200b=\u200b\u5b57\u200b\u6bb5","text":"<p>\u200b\u8868\u200b\u7684\u200b\u5185\u5bb9\u200b\u76f8\u5bf9\u200b\u7b80\u5355\u200b,\u200b\u5c31\u662f\u200b\u5efa\u7acb\u200b\u4e00\u4e2a\u200b\u7c7b\u200b.\u200b\u800c\u200b\u771f\u6b63\u200b\u5bf9\u8868\u6709\u200b\u5f71\u54cd\u200b\u7684\u200b,\u200b\u662f\u200b\u5176\u4e2d\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b(Field),\u200b\u975e\u5e38\u200b\u91cd\u8981\u200b,\u200b\u56e0\u4e3a\u200b\u5b57\u200b\u6bb5\u200b\u4e0d\u4ec5\u200b\u4ee3\u8868\u200b\u8fd9\u8868\u200b\u7684\u200b\u5b9e\u9645\u200b\u5185\u5bb9\u200b,\u200b\u5728\u200bORM\u200b\u6a21\u578b\u200b\u4e0b\u200b,\u200b\u5b57\u6bb5\u200b\u7684\u200b\u8bbe\u7f6e\u200b\u8fd8\u4f1a\u200b\u5bf9\u200bMySQL\u200b\u91cc\u200b\u5b9e\u9645\u200b\u5efa\u7acb\u200b\u7684\u200b\u8868\u200b\u4ea7\u751f\u200b\u975e\u5e38\u200b\u5927\u200b\u7684\u200b\u5f71\u54cd\u200b. \u200b\u5728\u200b\u4e4b\u524d\u200b\u7684\u200b\u9879\u76ee\u200b\u4e2d\u200b,\u200b\u4f7f\u7528\u200b\u8fc7\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u6709\u200bAutoField,CharField,ForeignKey,ManyToManyField.\u200b\u8fd9\u4e9b\u200b\u5bf9\u4e8e\u200b\u5f00\u53d1\u200b\u7a0b\u5e8f\u200b\u6765\u8bf4\u200b\u8fdc\u8fdc\u4e0d\u591f\u200b,\u200b\u73b0\u5728\u200b\u8981\u200b\u6765\u200b\u8be6\u7ec6\u200b\u7684\u200b\u770b\u200b\u4e00\u4e0b\u200b\u6240\u6709\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u53ca\u200b\u5bf9\u5e94\u200b\u5173\u7cfb\u200b.</p> <p>\u200b\u5728\u200bDjango\u200b\u4e2d\u200b,\u200b\u6240\u6709\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b(Field),\u200b\u90fd\u200b\u662f\u200b\u7531\u200b\u4e24\u200b\u90e8\u5206\u200b\u7ec4\u6210\u200b\u7684\u200b,\u200b\u5373\u5b57\u6bb5\u200b\u7c7b\u578b\u200b(Field Types)\u200b\u548c\u200b\u5b57\u200b\u6bb5\u200b\u9009\u9879\u200b(Field Options)\u200b\u6784\u6210\u200b.\u200b\u4f8b\u5982\u200b\u6211\u4eec\u200b\u4e4b\u524d\u200b\u5199\u200b\u7684\u200b:</p> <pre><code>id = models.AutoField(primary_key=True)\n</code></pre> <p>\u200b\u5176\u4e2d\u200b<code>models.AutoField</code>\u200b\u53eb\u505a\u200b\u5b57\u200b\u6bb5\u200b\u7c7b\u578b\u200b;<code>primary_key</code>\u200b\u53eb\u505a\u200b\u5b57\u200b\u6bb5\u200b\u9009\u9879\u200b\u6216\u8005\u8bf4\u200b\u5b57\u200b\u6bb5\u200b\u53c2\u6570\u200b,\u200b\u5b57\u200b\u6bb5\u200b\u9009\u9879\u200b\u5728\u200b\u8bbe\u7f6e\u200b\u7684\u200b\u65f6\u5019\u200b\u901a\u8fc7\u200b\u7c7b\u4f3c\u200b\u5173\u952e\u5b57\u200b\u53c2\u6570\u200b\u7684\u200b\u65b9\u5f0f\u200b\u8bbe\u7f6e\u200b.\u200b\u4e0b\u8fb9\u200b\u5206\u5f00\u200b\u4ecb\u7ecd\u200b\u8fd9\u200b\u4e24\u200b\u90e8\u5206\u200b.</p>","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_fields_summary/#field-types","title":"\u5b57\u200b\u6bb5\u200b\u7c7b\u578b\u200b Field types","text":"\u5b57\u200b\u6bb5\u200b\u7c7b\u578b\u200b \u200b\u5c5e\u6027\u200b\u540d\u79f0\u200b \u200b\u89e3\u91ca\u200b AutoField \u200b\u81ea\u589e\u5b57\u200b\u6bb5\u200b,\u200b\u662f\u200b\u4e00\u4e2a\u200bIntegerField(32\u200b\u4f4d\u200bINT).\u200b\u5982\u679c\u200b\u624b\u52a8\u200b\u8bbe\u7f6e\u200b\u4e86\u200bAutoField,\u200b\u5fc5\u987b\u200b\u6307\u5b9a\u200b\u5b57\u200b\u6bb5\u200b\u9009\u9879\u200bprimary_key=True. \u200b\u5982\u679c\u200b\u4e00\u4e2a\u200b\u8868\u200b\u91cc\u8fb9\u200b\u6ca1\u6709\u200b\u4efb\u4f55\u200bAutoField,\u200b\u6240\u6709\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u4e5f\u200b\u90fd\u200b\u6ca1\u6709\u200b\u88ab\u200b\u8bbe\u7f6e\u200bprimary_key=True,\u200b\u5219\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u5217\u540d\u200b\u53eb\u505a\u200bid,\u200b\u4e3a\u200bIntegerField\u200b\u7684\u200b\u81ea\u589e\u200b\u4e3b\u952e\u200b\u5217\u200b. BigAutoField \u200b\u662f\u200b\u4e00\u4e2a\u200b64\u200b\u4f4d\u200bINT\u200b\u7684\u200bAutoField BigIntegerField 64\u200b\u4f4d\u200bINT\u200b\u7684\u200b IntegerField,\u200b\u8303\u56f4\u200b -9223372036854775808 \u200b\u5230\u200b 9223372036854775807. BinaryField \u200b\u5b58\u653e\u200b\u539f\u59cb\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u636e\u200b,\u200b\u529f\u80fd\u200b\u6709\u9650\u200b,\u200b\u8f83\u200b\u5c11\u200b\u4f7f\u7528\u200b,\u200b\u5728\u200bModel Form\u200b\u91cc\u200b\u4e5f\u200b\u6ca1\u6709\u200b\u5bf9\u5e94\u200b\u8868\u5355\u200b. BooleanField \u200b\u5e03\u5c14\u503c\u200b.\u200b\u5e03\u5c14\u200b\u5b57\u6bb5\u200b\u7684\u200b\u9ed8\u8ba4\u503c\u200b\u662f\u200bNone,\u200b\u9664\u975e\u200b\u81ea\u5b9a\u4e49\u200b Field.default.\u200b\u9ed8\u8ba4\u200b\u5e03\u5c14\u200b\u5b57\u200b\u6bb5\u200b\u4e0d\u80fd\u200b\u4e3a\u200bnull,\u200b\u5982\u679c\u200b\u8981\u200b\u4e3a\u200bnull,\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b NullBooleanField CharField \u200b\u76f8\u5f53\u4e8e\u200bMySQL\u200b\u91cc\u200b\u7684\u200bVachar,\u200b\u5fc5\u987b\u200b\u6307\u5b9a\u200bmax_length\u200b\u503c\u200b.\u200b\u5bf9\u5e94\u200b\u7684\u200b\u8868\u5355\u200b\u5143\u7d20\u200b\u662f\u200binput-text.\u200b\u5982\u679c\u200b\u8981\u200b\u5b58\u50a8\u200b\u5927\u91cf\u200b\u6587\u5b57\u200b,\u200b\u7528\u200bTextField\u200b\u5b57\u200b\u6bb5\u200b.ORM\u200b\u4e2d\u200b\u6ca1\u6709\u200b\u5bf9\u5e94\u200bMySQL\u200b\u4e2d\u200b\u7684\u200bchar\u200b\u7c7b\u578b\u200b,\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u53ef\u4ee5\u200b\u81ea\u5b9a\u4e49\u200b DateField \u200b\u65f6\u95f4\u200b\u5b57\u200b\u6bb5\u200b,\u200b\u5f88\u200b\u91cd\u8981\u200b.\u200b\u8868\u793a\u200b\u4e00\u4e2a\u200b\u65e5\u671f\u200b,\u200b\u5bf9\u5e94\u200b\u7684\u200bPtyhon\u200b\u4e2d\u200b\u7684\u200b\u5bf9\u8c61\u200b\u662f\u200b datetime.date\u200b\u5b9e\u4f8b\u200b.\u200b\u6709\u200b\u4e24\u4e2a\u200b\u9009\u9879\u200bauto_now=True\u200b\u8868\u793a\u200b\u6bcf\u6b21\u200b\u8be5\u884c\u200b\u6570\u636e\u200b\u88ab\u200b.save()\u200b\u4fee\u6539\u200b\u7684\u200b\u65f6\u5019\u200b\u8bb0\u5f55\u200b\u5f53\u524d\u200b\u65f6\u95f4\u200b,\u200b\u7528\u4e8e\u200b\u8bb0\u5f55\u200b\u6bcf\u6b21\u200b\u4fee\u6539\u200b\u7684\u200b\u65f6\u95f4\u200b,\u200b\u9ed8\u8ba4\u200b\u4f20\u200b\u8fdb\u6765\u200b\u7684\u200b\u6570\u636e\u200b\u6765\u81ea\u200b datetime.date.today(). auto_now_add=True\u200b\u8868\u793a\u200b\u5728\u200b\u751f\u6210\u200b\u8be5\u200b\u5bf9\u8c61\u200b\u7684\u200b\u65f6\u5019\u200b\u8bb0\u5f55\u200b\u4e00\u6b21\u200b\u5f53\u524d\u200b\u65f6\u95f4\u200b,\u200b\u4e4b\u540e\u200b\u4e0d\u518d\u200b\u6539\u53d8\u200b,\u200b\u7528\u4e8e\u200b\u8bb0\u5f55\u200b\u751f\u6210\u200b\u65f6\u95f4\u200b\u6233\u200b,\u200b\u9ed8\u8ba4\u200b\u4f20\u200b\u8fdb\u6765\u200b\u7684\u200b\u6570\u636e\u200b\u662f\u200b django.utils.timezone.now(). DateTimeField \u200b\u8fd9\u4e2a\u200b\u5bf9\u5e94\u200b\u7684\u200b\u662f\u200b datetime.datetime,\u200b\u5373\u200b\u5e26\u6709\u200b\u65f6\u95f4\u200b\u548c\u200b\u65e5\u671f\u200b\u7684\u200b\u5bf9\u8c61\u200b.\u200b\u5176\u4ed6\u200b\u8bbe\u7f6e\u200b\u548c\u200bDateField\u200b\u4e00\u6837\u200b. DecimalField \u200b\u56fa\u5b9a\u200b\u7cbe\u786e\u5ea6\u200b\u7684\u200b\u5c0f\u6570\u200b,\u200b\u5bf9\u5e94\u200bpython\u200b\u7684\u200bDecimal\u200b\u7c7b\u6709\u200b\u4e24\u4e2a\u200b\u9009\u9879\u200b:max_digits\u200b\u8868\u793a\u200b\u603b\u957f\u5ea6\u200b,decimal_places\u200b\u8868\u793a\u200b\u5c0f\u6570\u70b9\u200b\u540e\u200b\u7684\u200b\u957f\u5ea6\u200b. EmailField \u200b\u5185\u90e8\u200b\u662f\u200b\u4e00\u4e2a\u200bCharField,\u200b\u9ed8\u8ba4\u200b\u957f\u5ea6\u200b\u4e3a\u200b254,Django Admin\u200b\u548c\u200bModel Form\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u68c0\u67e5\u200bEmail\u200b\u5730\u5740\u200b\u7684\u200b\u6709\u6548\u6027\u200b. DateTimeField \u200b\u8fd9\u4e2a\u200b\u5bf9\u5e94\u200b\u7684\u200b\u662f\u200b datetime.datetime,\u200b\u5373\u200b\u5e26\u6709\u200b\u65f6\u95f4\u200b\u548c\u200b\u65e5\u671f\u200b\u7684\u200b\u5bf9\u8c61\u200b.\u200b\u5176\u4ed6\u200b\u8bbe\u7f6e\u200b\u548c\u200bDateField\u200b\u4e00\u6837\u200b. FloatField \u200b\u5b58\u653e\u200b\u53cc\u200b\u7cbe\u5ea6\u200b\u6d6e\u70b9\u6570\u200b IntegerField 32\u200b\u4f4d\u200bINT,\u200b\u6807\u51c6\u200b\u7684\u200b\u6574\u6570\u200b\u7c7b\u578b\u200b\u5b57\u200b\u6bb5\u200b SmallIntegerField \u200b\u5c0f\u200b\u6574\u6570\u200b\u7c7b\u578b\u200b,\u200b\u4ece\u200b-32768 \u200b\u5230\u200b 32767 IntegerField 32\u200b\u4f4d\u200bINT,\u200b\u6807\u51c6\u200b\u7684\u200b\u6574\u6570\u200b\u7c7b\u578b\u200b\u5b57\u200b\u6bb5\u200b PositiveIntegerField 32\u200b\u4f4d\u200b\u6b63\u6574\u6570\u200b\u7c7b\u578b\u200b,0 to 2147483647 PositiveSmallIntegerField \u200b\u5c0f\u200b\u6b63\u6574\u6570\u200b\u7c7b\u578b\u200b, 0 to 32767 TextField \u200b\u5b58\u653e\u200b\u957f\u200b\u5b57\u7b26\u200b GenericIPAddressField \u200b\u5185\u90e8\u200b\u662f\u200bCharField,\u200b\u63d0\u4f9b\u200b\u9a8c\u8bc1\u200bIPV4\u200b\u548c\u200bIPV6.\u200b\u4e24\u4e2a\u200b\u9009\u9879\u200b,protocol\u200b\u7528\u4e8e\u200b\u6307\u5b9a\u200b\u534f\u8bae\u200b\u662f\u200bIPV4\u200b\u8fd8\u662f\u200bIPV6.unpack_ipv4\u200b\u53ef\u4ee5\u200b\u63d0\u4f9b\u200b\u89e3\u6790\u200b,\u200b\u9700\u8981\u200bprotocol\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u201dboth\u201d URLField \u200b\u5185\u90e8\u200b\u662f\u200bCharField,Django Admin\u200b\u548c\u200bModel Form\u200b\u4e2d\u200b\u63d0\u4f9b\u200b\u9a8c\u8bc1\u200bURL SlugField \u200b\u5185\u90e8\u200b\u662f\u200bCharField,Django Admin\u200b\u548c\u200bModel Form\u200b\u4e2d\u200b\u63d0\u4f9b\u200b\u9a8c\u8bc1\u200b,\u200b\u53ea\u80fd\u200b\u4e3a\u200b\u5b57\u6bcd\u200b,\u200b\u6570\u5b57\u200b,\u200b\u4e0b\u5212\u7ebf\u200b\u548c\u200b\u8fde\u63a5\u7b26\u200b(\u200b\u51cf\u53f7\u200b) CommaSeparatedIntegerField \u200b\u9017\u53f7\u200b\u5206\u9694\u200b\u7684\u200b\u6570\u5b57\u200b,\u200b\u4e3a\u200b\u5b57\u7b26\u4e32\u200b\u7c7b\u578b\u200b UUIDField \u200b\u5b57\u7b26\u4e32\u200b\u7c7b\u578b\u200b,\u200b\u7528\u4e8e\u200b\u63d0\u4f9b\u200b\u5bf9\u200bUUID\u200b\u7684\u200b\u9a8c\u8bc1\u200b,\u200b\u5bf9\u5e94\u200bPython\u200b\u4e2d\u200b\u7684\u200bUUID\u200b\u6a21\u5757\u200b,Django Admin\u200b\u548c\u200bModel Form\u200b\u4e2d\u200b\u63d0\u4f9b\u200bUUID\u200b\u7684\u200b\u9a8c\u8bc1\u200b FilePathField \u200b\u7528\u4e8e\u200b\u5b58\u653e\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b,Django Admin \u200b\u548c\u200bModel Form\u200b\u4e2d\u200b\u63d0\u4f9b\u200b\u8bfb\u53d6\u200b\u6587\u4ef6\u5939\u200b\u4e0b\u200b\u6587\u4ef6\u200b\u7684\u200b\u529f\u80fd\u200b,\u200b\u8fd9\u91cc\u200b\u53ef\u4ee5\u200b\u5b58\u653e\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b,\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5b58\u653e\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u7684\u200b\u8def\u5f84\u200b.\u200b\u8be6\u7ec6\u200b\u770b\u200b\u8fd9\u91cc\u200b FileField \u200b\u5b57\u7b26\u4e32\u200b,\u200b\u7528\u4e8e\u200b\u63a5\u53d7\u200b\u6587\u4ef6\u200b,\u200b\u9009\u9879\u200bupload_to\u200b\u8868\u793a\u200b\u4e0a\u4f20\u200b\u6587\u4ef6\u200b\u7684\u200b\u4fdd\u5b58\u200b\u8def\u5f84\u200b,storage=None,\u200b\u662f\u200b\u9009\u62e9\u200b\u5b58\u50a8\u200b\u7ec4\u4ef6\u200b,\u200b\u5177\u4f53\u200b\u770b\u200b\u8fd9\u91cc\u200b ImageField \u200b\u548c\u200bFileField\u200b\u4e00\u6837\u200b,\u200b\u53ea\u4e0d\u8fc7\u200b\u9a8c\u8bc1\u200b\u4e0a\u4f20\u200b\u7684\u200b\u6587\u4ef6\u200b\u4e00\u5b9a\u200b\u662f\u200b\u56fe\u50cf\u200b. TimeField \u200b\u5bf9\u5e94\u200bdatetime.time\u200b\u5b9e\u4f8b\u200b,\u200b\u5176\u4ed6\u200b\u7528\u6cd5\u200b\u548c\u200b\u53e6\u5916\u200b\u4e24\u4e2a\u200b\u65f6\u95f4\u200b\u6a21\u5757\u200b\u4e00\u6837\u200b DurationField \u200b\u957f\u200b\u6574\u6570\u200b\u7c7b\u578b\u200b,\u200b\u7528\u4e8e\u200b\u5b58\u653e\u200b\u65f6\u95f4\u200b\u95f4\u9694\u200b,ORM\u200b\u4e2d\u200b\u83b7\u53d6\u200b\u7684\u200b\u503c\u200b\u662f\u200bdatetime.timedelta\u200b\u7c7b\u578b\u200b <p>\u200b\u9664\u4e86\u200b\u4e0a\u8fb9\u200b\u5e38\u7528\u200b\u7684\u200b\u5185\u7f6e\u200b\u5b57\u200b\u6bb5\u200b\u4e4b\u5916\u200b,\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u81ea\u5b9a\u4e49\u200b\u5b57\u200b\u6bb5\u200b,\u200b\u5728\u200bmodels.py\u200b\u91cc\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200b\u7c7b\u200b\u7ee7\u627f\u200bmodels.Field\u200b\u7c7b\u200b,\u200b\u5177\u4f53\u200b\u4ee5\u540e\u200b\u5148\u200b\u7814\u7a76\u200b,\u200b\u5148\u200b\u628a\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\u8d34\u200b\u5728\u200b\u8fd9\u91cc\u200b:</p> <pre><code>class FixedCharField(models.Field):\n    \"\"\"\n    \u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200bchar\u200b\u7c7b\u578b\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u7c7b\u200b\n    \"\"\"\n    def __init__(self, max_length, *args, **kwargs):\n        self.max_length = max_length\n        super(FixedCharField, self).__init__(max_length=max_length, *args, **kwargs)\n\n    def db_type(self, connection):\n        \"\"\"\n        \u200b\u9650\u5b9a\u200b\u751f\u6210\u200b\u6570\u636e\u5e93\u200b\u8868\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u7c7b\u578b\u200b\u4e3a\u200bchar\uff0c\u200b\u957f\u5ea6\u200b\u4e3a\u200bmax_length\u200b\u6307\u5b9a\u200b\u7684\u200b\u503c\u200b\n        \"\"\"\n        return 'char(%s)' % self.max_length\n\n\nclass Class(models.Model):\n    id = models.AutoField(primary_key=True)\n    title = models.CharField(max_length=25)\n    # \u200b\u4f7f\u7528\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200bchar\u200b\u7c7b\u578b\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\n    cname = FixedCharField(max_length=25)\n</code></pre>","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_fields_summary/#field-options","title":"\u5b57\u200b\u6bb5\u200b\u9009\u9879\u200b Field options","text":"<p>\u200b\u4e0b\u8fb9\u200b\u7684\u200b\u9009\u9879\u200b\u53ef\u4ee5\u200b\u7528\u4e8e\u200b\u6240\u6709\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b:</p> \u200b\u5b57\u200b\u6bb5\u200b\u9009\u9879\u200b(\u200b\u5b57\u200b\u6bb5\u200b\u53c2\u6570\u200b) \u200b\u9009\u9879\u200b\u540d\u79f0\u200b \u200b\u89e3\u91ca\u200b null \u200b\u8868\u793a\u200b\u5b57\u200b\u6bb5\u200b\u662f\u5426\u200b\u53ef\u4ee5\u200b\u4e3a\u7a7a\u200b,\u200b\u9ed8\u8ba4\u200b\u4e3a\u200bFalse\u200b\u5373\u200b\u4e0d\u80fd\u200b\u4e3a\u7a7a\u200b.\u200b\u5982\u679c\u200b\u8bbe\u7f6e\u200b\u4e3a\u200bTrue,\u200b\u4e0d\u4f20\u503c\u200b\u7684\u200b\u65f6\u5019\u200bDjango\u200b\u4f1a\u200b\u5b58\u5165\u200bMySQL\u200b\u7684\u200bNull\u200b\u503c\u200b.\u200b\u5bf9\u4e8e\u200b\u57fa\u4e8e\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u5982\u679c\u200b\u8bbe\u7f6e\u200b\u4e3a\u200bTrue,\u200b\u610f\u5473\u7740\u200b\u53ef\u80fd\u200b\u5b58\u5728\u200bNull\u200b\u548c\u200b\u7a7a\u200b\u5b57\u7b26\u4e32\u200b\u4e24\u79cd\u200b\u5f62\u5f0f\u200b.\u200b\u4e00\u822c\u200b\u6700\u597d\u200b\u9a8c\u8bc1\u200b\u4e00\u4e0b\u200b\u5b57\u7b26\u4e32\u200b\u4e0d\u4e3a\u200b\u7a7a\u200b. blank \u200b\u662f\u5426\u200b\u53ef\u4ee5\u200b\u4e3a\u200b\u7a7a\u503c\u200b,\u200b\u6ce8\u610f\u200b\u7a7a\u503c\u200b\u548c\u200bNull\u200b\u662f\u200b\u4e0d\u540c\u200b\u7684\u200b,Null\u200b\u662f\u200b\u7eaf\u7cb9\u200b\u5bf9\u4e8e\u200b\u6570\u636e\u5e93\u200b\u6765\u8bf4\u200b\u7684\u200b\u5c5e\u6027\u200b.\u200b\u5982\u679c\u200b\u8bbe\u7f6e\u200b\u4e3a\u200bTrue,\u200b\u8868\u5355\u200b\u53ef\u4ee5\u200b\u63d0\u4ea4\u200b\u7a7a\u767d\u200b\u7684\u200b\u6570\u636e\u200b,\u200b\u5426\u5219\u200b\u5c31\u200b\u4e0d\u884c\u200b.\u200b\u5bf9\u4e8e\u200b\u67d0\u4e9b\u200b\u5b57\u7b26\u4e32\u200b,\u200b\u6700\u597d\u200b\u540c\u65f6\u200b\u8bbe\u7f6e\u200bnull=False\u200b\u548c\u200bblank=False choices \u200b\u7528\u4e8e\u200b\u9875\u9762\u200b\u4e0a\u200b\u7684\u200b\u9009\u62e9\u200b\u6846\u200b\u6807\u7b7e\u200b\uff0c\u200b\u9700\u8981\u200b\u5148\u200b\u63d0\u4f9b\u200b\u4e00\u4e2a\u4e8c\u7ef4\u200b\u7684\u200b\u4e8c\u5143\u200b\u5143\u7ec4\u200b\uff0c\u200b\u7b2c\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u8868\u793a\u200b\u5b58\u5728\u200b\u6570\u636e\u5e93\u200b\u5185\u200b\u771f\u5b9e\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u7b2c\u4e8c\u4e2a\u200b\u8868\u793a\u200b\u9875\u9762\u200b\u4e0a\u200b\u663e\u793a\u200b\u7684\u200b\u5177\u4f53\u5185\u5bb9\u200b\u3002\u200b\u5728\u200b\u6d4f\u89c8\u5668\u200b\u9875\u9762\u200b\u4e0a\u5c06\u200b\u663e\u793a\u200b\u7b2c\u4e8c\u4e2a\u200b\u5143\u7d20\u200b\u7684\u200b\u503c\u200b\u3002 db_column \u200b\u8be5\u200b\u53c2\u6570\u200b\u7528\u4e8e\u200b\u5b9a\u4e49\u200b\u5f53\u524d\u200b\u5b57\u6bb5\u200b\u5728\u200b\u6570\u636e\u8868\u200b\u5185\u200b\u7684\u200b\u5217\u540d\u200b\u3002\u200b\u5982\u679c\u200b\u672a\u6307\u5b9a\u200b\uff0cDjango\u200b\u5c06\u200b\u4f7f\u7528\u200b\u53d8\u91cf\u540d\u200b\u4f5c\u4e3a\u200b\u5217\u540d\u200b. db_index \u200b\u8fd9\u4e2a\u200b\u53c2\u6570\u200b\u63a5\u53d7\u200b\u5e03\u5c14\u503c\u200b,\u200b\u4e3a\u200bTrue\u200b\u8868\u793a\u200b\u4e3a\u200b\u5f53\u524d\u200b\u5b57\u200b\u6bb5\u200b\u521b\u5efa\u200b\u7d22\u5f15\u200b default \u200b\u5b57\u6bb5\u200b\u7684\u200b\u9ed8\u8ba4\u503c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u662f\u200b\u503c\u200b\u6216\u8005\u200b\u4e00\u4e2a\u200b\u53ef\u200b\u8c03\u7528\u200b\u5bf9\u8c61\u200b\u3002\u200b\u5982\u679c\u200b\u662f\u200b\u53ef\u200b\u8c03\u7528\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u90a3\u4e48\u200b\u6bcf\u6b21\u200b\u521b\u5efa\u200b\u65b0\u200b\u5bf9\u8c61\u200b\u65f6\u200b\u90fd\u200b\u4f1a\u200b\u8c03\u7528\u200b\u3002\u200b\u8bbe\u7f6e\u200b\u7684\u200b\u9ed8\u8ba4\u503c\u200b\u4e0d\u80fd\u200b\u662f\u200b\u4e00\u4e2a\u200b\u53ef\u53d8\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u6bd4\u5982\u200b\u5217\u8868\u200b\u3001\u200b\u96c6\u5408\u200b\u7b49\u7b49\u200b\u3002lambda\u200b\u533f\u540d\u200b\u51fd\u6570\u200b\u4e5f\u200b\u4e0d\u53ef\u200b\u7528\u4e8e\u200bdefault\u200b\u7684\u200b\u8c03\u7528\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u533f\u540d\u200b\u51fd\u6570\u200b\u4e0d\u80fd\u200b\u88ab\u200bmigrations\u200b\u5e8f\u5217\u5316\u200b\u3002 editable \u200b\u5982\u679c\u200b\u8bbe\u200b\u4e3a\u200bFalse\uff0c\u200b\u90a3\u4e48\u200b\u5f53\u524d\u200b\u5b57\u6bb5\u200b\u5c06\u200b\u4e0d\u4f1a\u200b\u5728\u200badmin\u200b\u540e\u53f0\u200b\u6216\u8005\u200b\u5176\u5b83\u200b\u7684\u200bModelForm\u200b\u8868\u5355\u200b\u4e2d\u200b\u663e\u793a\u200b\uff0c\u200b\u540c\u65f6\u200b\u8fd8\u4f1a\u200b\u88ab\u200b\u6a21\u578b\u200b\u9a8c\u8bc1\u200b\u529f\u80fd\u200b\u8df3\u8fc7\u200b\u3002\u200b\u53c2\u6570\u200b\u9ed8\u8ba4\u503c\u200b\u4e3a\u200bTrue\u3002 error_messages \u200b\u7528\u4e8e\u200b\u81ea\u5b9a\u4e49\u200b\u9519\u8bef\u4fe1\u606f\u200b\u3002\u200b\u53c2\u6570\u200b\u63a5\u6536\u200b\u5b57\u5178\u200b\u7c7b\u578b\u200b\u7684\u200b\u503c\u200b\u3002\u200b\u5b57\u5178\u200b\u7684\u200b\u952e\u200b\u53ef\u4ee5\u200b\u662f\u200bnull\u3001 blank\u3001 invalid\u3001 invalid_choice\u3001 unique\u200b\u548c\u200bunique_for_date\u200b\u5176\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u3002 help_text \u200b\u989d\u5916\u200b\u663e\u793a\u200b\u5728\u200b\u8868\u5355\u200b\u90e8\u4ef6\u200b\u4e0a\u200b\u7684\u200b\u5e2e\u52a9\u200b\u6587\u672c\u200b\u3002\u200b\u4f7f\u7528\u200b\u65f6\u8bf7\u200b\u6ce8\u610f\u200b\u8f6c\u4e49\u200b\u4e3a\u200b\u7eaf\u200b\u6587\u672c\u200b\uff0c\u200b\u9632\u6b62\u200b\u811a\u672c\u200b\u653b\u51fb\u200b\u3002 primary_key \u200b\u4e3a\u200b\u67d0\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\u8bbe\u7f6e\u200b\u4e86\u200bprimary_key=True\uff0c\u200b\u5219\u200b\u5f53\u524d\u200b\u5b57\u200b\u6bb5\u200b\u53d8\u4e3a\u200b\u4e3b\u952e\u200b\uff0c\u200b\u5e76\u200b\u5173\u95ed\u200bDjango\u200b\u81ea\u52a8\u200b\u751f\u6210\u200bid\u200b\u4e3b\u952e\u200b\u7684\u200b\u529f\u80fd\u200b\u3002primary_key=True\u200b\u9690\u542b\u200bnull=False\u200b\u548c\u200bunique=True\u200b\u7684\u200b\u610f\u601d\u200b\u3002\u200b\u4e00\u4e2a\u200b\u6a21\u578b\u200b\u4e2d\u200b\u53ea\u80fd\u200b\u6709\u200b\u4e00\u4e2a\u200b\u4e3b\u952e\u200b\u5b57\u200b\u6bb5\u200b\uff01 unique \u200b\u8bbe\u200b\u4e3a\u200bTrue\u200b\u65f6\u200b\uff0c\u200b\u5728\u200b\u6574\u4e2a\u200b\u6570\u636e\u8868\u200b\u5185\u8be5\u200b\u5b57\u200b\u6bb5\u200b\u7684\u200b\u6570\u636e\u200b\u4e0d\u53ef\u200b\u91cd\u590d\u200b\u3002\u200b\u5f53\u200bunique=True\u200b\u65f6\u200b\uff0cdb_index\u200b\u53c2\u6570\u200b\u65e0\u987b\u200b\u8bbe\u7f6e\u200b\uff0c\u200b\u56e0\u4e3a\u200bunqiue\u200b\u9690\u542b\u200b\u4e86\u200b\u7d22\u5f15\u200b\u3002\u200b\u5bf9\u4e8e\u200bManyToManyField\u200b\u548c\u200bOneToOneField\u200b\u5173\u7cfb\u200b\u7c7b\u578b\u200b\uff0c\u200b\u8be5\u200b\u53c2\u6570\u200b\u65e0\u6548\u200b\u3002 verbose_name \u200b\u4e3a\u200b\u5b57\u200b\u6bb5\u200b\u8bbe\u7f6e\u200b\u4e00\u4e2a\u200b\u4eba\u7c7b\u200b\u53ef\u200b\u8bfb\u200b\uff0c\u200b\u66f4\u52a0\u200b\u76f4\u89c2\u200b\u7684\u200b\u522b\u540d\u200b\u3002\u200b\u5bf9\u4e8e\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\u7c7b\u578b\u200b\uff0c\u200b\u9664\u4e86\u200bForeignKey\u3001ManyToManyField\u200b\u548c\u200bOneToOneField\u200b\u8fd9\u200b\u4e09\u4e2a\u200b\u7279\u6b8a\u200b\u7684\u200b\u5173\u7cfb\u200b\u7c7b\u578b\u200b\uff0c\u200b\u5176\u200b\u7b2c\u4e00\u200b\u53ef\u200b\u9009\u200b\u4f4d\u7f6e\u200b\u53c2\u6570\u200b\u90fd\u200b\u662f\u200bverbose_name\u3002\u200b\u5982\u679c\u200b\u6ca1\u200b\u6307\u5b9a\u200b\u8fd9\u4e2a\u200b\u53c2\u6570\u200b\uff0cDjango\u200b\u4f1a\u200b\u5229\u7528\u200b\u5b57\u6bb5\u200b\u7684\u200b\u5c5e\u6027\u200b\u540d\u200b\u81ea\u52a8\u200b\u521b\u5efa\u200b\u5b83\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u4e0b\u5212\u7ebf\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u7a7a\u683c\u200b\u3002 validators \u200b\u8fd0\u884c\u200b\u5728\u200b\u8be5\u200b\u5b57\u200b\u6bb5\u200b\u4e0a\u200b\u7684\u200b\u9a8c\u8bc1\u200b\u5668\u200b\u7684\u200b\u5217\u8868","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_fields_summary/#_4","title":"\u5173\u7cfb\u200b\u578b\u200b\u5b57\u200b\u6bb5","text":"<p>\u200b\u4e0a\u8fb9\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u8868\u200b\u7684\u200b\u6240\u6709\u200b\u6570\u636e\u5b57\u200b\u6bb5\u200b\u4ee5\u53ca\u200b\u5e38\u7528\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u9009\u9879\u200b.\u200b\u5728\u200bORM\u200b\u4e2d\u200b,\u200b\u8fd8\u6709\u200b\u4e00\u7c7b\u200b\u91cd\u8981\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u5c31\u662f\u200b\u5173\u7cfb\u200b\u578b\u200b\u5b57\u200b\u6bb5\u200b.\u200b\u5728\u200bMySQL\u200b\u4e2d\u200b,\u200b\u4ec5\u4ec5\u200b\u53ea\u6709\u200b\u5916\u952e\u200b\u4e2d\u200b\u4e00\u79cd\u200b\u7c7b\u578b\u200b,\u200b\u5b9e\u73b0\u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u9700\u8981\u200b\u81ea\u884c\u200b\u5199\u200b\u4e00\u5f20\u200b\u8868\u6765\u200b\u5bf9\u5e94\u200b.\u200b\u800c\u200b\u5728\u200bORM\u200b\u6a21\u578b\u200b\u4e2d\u200b,\u200b\u62bd\u8c61\u200b\u51fa\u200b\u4e86\u200b\u4e00\u5bf9\u200b\u591a\u200b,\u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u5173\u7cfb\u200b\u5e76\u200b\u5c01\u88c5\u200b\u597d\u200b,\u200b\u4f53\u73b0\u200b\u5728\u200b\u4e86\u200b\u5173\u7cfb\u200b\u578b\u200b\u5b57\u200b\u6bb5\u200b\u7684\u200b\u8bbe\u7f6e\u200b\u4e0a\u200b.\u200b\u5173\u7cfb\u200b\u578b\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u6309\u7167\u200b\u5173\u7cfb\u200b\u6765\u200b\u5b66\u4e60\u200b:</p>","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_fields_summary/#foreignkey","title":"ForeignKey \u200b\u4e00\u5bf9\u200b\u591a\u200b\u5173\u7cfb","text":"<p>\u200b\u5916\u952e\u200b\u7c7b\u578b\u200b\u5728\u200bORM\u200b\u4e2d\u200b\u7528\u6765\u200b\u8868\u793a\u200b\u5916\u952e\u200b\u5173\u8054\u200b\u5173\u7cfb\u200b\uff0c\u200b\u4e00\u822c\u200b\u628a\u200bForeignKey\u200b\u5b57\u200b\u6bb5\u200b\u8bbe\u7f6e\u200b\u5728\u200b \u2018\u200b\u4e00\u5bf9\u200b\u591a\u200b\u2019\u200b\u4e2d\u200b\u2019\u200b\u591a\u200b\u2019\u200b\u7684\u200b\u4e00\u65b9\u200b\u3002 ForeignKey\u200b\u53ef\u4ee5\u200b\u548c\u200b\u5176\u4ed6\u200b\u8868\u505a\u200b\u5173\u8054\u200b\u5173\u7cfb\u200b\u540c\u65f6\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u548c\u200b\u81ea\u8eab\u200b\u505a\u200b\u5173\u8054\u200b\u5173\u7cfb\u200b\u3002\u200b\u8bbe\u7f6e\u200bForeignKey\u200b\u7684\u200b\u683c\u5f0f\u200b\u5982\u4e0b\u200b:</p> <pre><code>theclass = models.ForeignKey(to=\"Classes\",to_field=\"name\" related_name=\"students\",on_delete=models.CASCADE)\n</code></pre> <p>ForeignKey\u200b\u7684\u200b\u51e0\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\u53c2\u6570\u200b\u4ecb\u7ecd\u200b\u5982\u4e0b\u200b: to= \u200b\u5176\u4e2d\u200b\u7684\u200bto=\u200b\u8868\u793a\u200b\u5916\u952e\u200b\u5173\u8054\u200b\u5230\u200b\u54ea\u4e2a\u200b\u8868\u200b,\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u4e3a\u200b\u7c7b\u540d\u200b,\u200b\u5982\u679c\u200b\u7c7b\u200b\u8fd8\u200b\u6ca1\u200b\u5efa\u7acb\u200b,\u200b\u53ef\u4ee5\u200b\u7528\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u7c7b\u540d\u200b.to_field\u200b\u8868\u793a\u200b\u5173\u8054\u200b\u5230\u200b\u54ea\u4e2a\u200b\u5b57\u200b\u6bb5\u200b,\u200b\u5982\u679c\u200b\u4e0d\u200b\u8bbe\u7f6e\u200b,Django\u200b\u9ed8\u8ba4\u200b\u4f1a\u200b\u5173\u8054\u200b\u5230\u200b\u4e3b\u952e\u200b.</p> <p>related_name related_name\u200b\u8868\u793a\u200b\u53cd\u5411\u200b\u64cd\u4f5c\u200b\u7684\u200b\u65f6\u5019\u200b\u4ee3\u66ff\u200b\u7684\u200b\u8868\u540d\u200b,\u200b\u6bd4\u5982\u200b\u5b66\u751f\u200b\u8868\u200b\u5173\u8054\u200b\u5230\u200b\u73ed\u7ea7\u200b\u8868\u200b:</p> <pre><code>class Classes(models.Model):\n    name = models.CharField(max_length=32)\n\nclass Student(models.Model):\n    name = models.CharField(max_length=32)\n    theclass = models.ForeignKey(to=\"Classes\")\n</code></pre> <p>\u200b\u8fd9\u91cc\u200b\u5916\u952e\u200b\u8bbe\u7f6e\u200b\u5728\u200b\u5b66\u751f\u200b\u91cc\u200b,\u200b\u5982\u679c\u200b\u8981\u67e5\u200b\u4e00\u4e2a\u200b\u73ed\u7ea7\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6240\u6709\u200b\u5b66\u751f\u200b,\u200b\u64cd\u4f5c\u200b\u7684\u200b\u4e3b\u4f53\u200b\u662f\u200bClasses\u200b\u5bf9\u8c61\u200b,\u200b\u5199\u6210\u200b:</p> <pre><code>models.Classes.objects.first().student_set.all()\n</code></pre> <p>\u200b\u8fd9\u91cc\u200b\u7684\u200b_set\u200b\u662f\u200b\u56fa\u5b9a\u200b\u5199\u6cd5\u200b,\u200b\u5373\u200b\u53bb\u200b\u53cd\u67e5\u200b\u8bbe\u7f6e\u200b\u4e86\u200b\u5916\u952e\u200b\u7684\u200b\u90a3\u200b\u4e00\u5f20\u200b\u8868\u200b.student\u200b\u662f\u200b\u81ea\u52a8\u200b\u5c0f\u5199\u200b\u7684\u200b\u7c7b\u540d\u200b. \u200b\u5982\u679c\u200bStudent\u200b\u8868\u91cc\u200b\u7684\u200btheclass\u200b\u5916\u952e\u200b\u8bbe\u7f6e\u200b\u4e86\u200brelated_name\u200b\u5982\u4e0b\u200b:</p> <pre><code>class Student(models.Model):\n    name = models.CharField(max_length=32)\n    theclass = models.ForeignKey(to=\"Classes\", related_name=\"students\")\n</code></pre> <p>\u200b\u5219\u200b\u4e0a\u8fb9\u200b\u901a\u8fc7\u200b\u73ed\u7ea7\u200b\u8868\u67e5\u200b\u5bf9\u5e94\u200b\u5b66\u751f\u200b\u53ef\u4ee5\u200b\u5199\u6210\u200b:</p> <pre><code>models.Classes.objects.first().students.all()\n</code></pre> <p>related_query_name \u200b\u53cd\u5411\u200b\u67e5\u8be2\u200b\u64cd\u4f5c\u200b\u65f6\u200b\uff0c\u200b\u4f7f\u7528\u200b\u7684\u200b\u8fde\u63a5\u200b\u524d\u7f00\u200b\uff0c\u200b\u7528\u4e8e\u200b\u66ff\u6362\u200b\u8868\u540d\u200b\u3002\u200b\u5373\u200b\u5728\u200b\u53cd\u5411\u200b\u64cd\u4f5c\u200b\u7684\u200b\u65f6\u5019\u200b\u7ed9\u8868\u8d77\u200b\u4e2a\u522b\u200b\u540d\u200b.related_name\u200b\u662f\u200b\u7ed9\u200b\u5916\u952e\u200b\u5b57\u200b\u6bb5\u200b\u8d77\u200b\u4e00\u4e2a\u200b\u522b\u540d\u200b.</p> <p>on_delete \u200b\u8fd9\u4e2a\u200b\u8868\u793a\u200b\u5f53\u200b\u5220\u9664\u200b\u5b57\u6bb5\u200b\u7684\u200b\u65f6\u5019\u200b,\u200b\u5bf9\u5e94\u200b\u7684\u200b\u884c\u4e3a\u200b,\u200b\u6709\u200b\u5982\u4e0b\u200b\u51e0\u79cd\u200b.</p> on_delete\u200b\u53c2\u6570\u200b \u200b\u53c2\u6570\u503c\u200b \u200b\u89e3\u91ca\u200b models.CASCADE \u200b\u5220\u9664\u200b\u5173\u8054\u200b\u6570\u636e\u200b\uff0c\u200b\u4e0e\u200b\u4e4b\u200b\u5173\u8054\u200b\u4e5f\u200b\u5220\u9664\u200b.\u200b\u4e00\u822c\u200b\u5927\u578b\u200b\u6570\u636e\u5e93\u200b\u91cc\u200b\u4e0d\u7528\u200b models.DO_NOTHING \u200b\u4ec0\u4e48\u200b\u90fd\u200b\u4e0d\u200b\u505a\u200b,\u200b\u5982\u679c\u200b\u6570\u636e\u5e93\u200b\u5f3a\u5236\u200b\u68c0\u67e5\u200b\u64cd\u4f5c\u200b\u7684\u200b\u5b8c\u6574\u6027\u200b,\u200b\u6709\u200b\u53ef\u80fd\u200b\u5f15\u53d1\u200b IntegrityError \u200b\u9519\u8bef\u200b models.PROTECT \u200b\u5f15\u53d1\u200b\u9519\u8bef\u200bProtectedError,\u200b\u4e0d\u4f1a\u200b\u5220\u9664\u200b\u6570\u636e\u200b models.SET_NULL \u200b\u5220\u9664\u200b\u5173\u8054\u200b\u6570\u636e\u200b\uff0c\u200b\u5c06\u200b\u5916\u952e\u200b\u8bbe\u7f6e\u200b\u4e3a\u7a7a\u200b,\u200b\u9700\u8981\u200b\u5916\u952e\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u4e3a\u7a7a\u200b models.SET_DEFAULT \u200b\u5c06\u200b\u5916\u952e\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u9ed8\u8ba4\u503c\u200b,\u200b\u524d\u63d0\u200b\u662f\u200b\u5916\u952e\u200b\u8bbe\u7f6e\u200b\u8fc7\u200b\u9ed8\u8ba4\u503c\u200b models.SET \u200b\u5220\u9664\u200b\u5173\u8054\u200b\u6570\u636e\u200b\uff0c a. \u200b\u4e0e\u200b\u4e4b\u200b\u5173\u8054\u200b\u7684\u200b\u503c\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u6307\u5b9a\u200b\u503c\u200b\uff0c\u200b\u8bbe\u7f6e\u200b\uff1amodels.SET(\u200b\u503c\u200b) b. \u200b\u4e0e\u200b\u4e4b\u200b\u5173\u8054\u200b\u7684\u200b\u503c\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u53ef\u200b\u6267\u884c\u200b\u5bf9\u8c61\u200b\u7684\u200b\u8fd4\u56de\u503c\u200b\uff0c\u200b\u8bbe\u7f6e\u200b\uff1amodels.SET(\u200b\u53ef\u200b\u6267\u884c\u200b\u5bf9\u8c61\u200b) <p>db_constraint \u200b\u8868\u793a\u200b\u662f\u5426\u200b\u5efa\u7acb\u200b\u7ea6\u675f\u200b,\u200b\u9ed8\u8ba4\u200b\u662f\u200bTrue,\u200b\u4f46\u200b\u4e00\u822c\u200b\u5927\u578b\u200b\u6570\u636e\u5e93\u200b\u662f\u200b\u5efa\u7acb\u200b\u8f6f\u200b\u7ea6\u675f\u200b,\u200b\u5373\u200b\u5efa\u7acb\u200b\u5916\u952e\u200b\u4f46\u662f\u200b\u4e0d\u200b\u8bbe\u7f6e\u200b\u7ea6\u675f\u200b,\u200b\u6bcf\u6b21\u200b\u901a\u8fc7\u200b\u7a0b\u5e8f\u200b\u6765\u200b\u68c0\u67e5\u6570\u636e\u200b\u4e00\u81f4\u6027\u200b.\u200b\u8bbe\u7f6e\u200b\u6210\u200bFalse\u200b\u7684\u8bdd\u200b\u4f9d\u636e\u200bORM\u200b\u5173\u7cfb\u200b\u5b57\u6bb5\u200b\u7684\u200b\u67e5\u8be2\u200b\u5c06\u200b\u65e0\u6cd5\u200b\u751f\u6548\u200b.</p>","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_fields_summary/#onetoonefield","title":"OneToOneField \u200b\u4e00\u5bf9\u4e00\u200b\u5173\u7cfb","text":"<p>\u200b\u4e00\u5bf9\u4e00\u200b\u5173\u7cfb\u200b\u7ecf\u5e38\u200b\u662f\u200b\u7528\u6765\u200b\u6269\u5c55\u200b\u5b58\u50a8\u200b\u7684\u200b\u5185\u5bb9\u200b,\u200b\u5b9e\u9645\u4e0a\u200b\u7528\u200b\u4e00\u5f20\u200b\u8868\u200b\u4e5f\u200b\u80fd\u200b\u88c5\u4e0b\u200b,\u200b\u4e3b\u8981\u200b\u7528\u4e8e\u200b\u5bf9\u4e8e\u200b\u67d0\u4e9b\u200b\u5b57\u200b\u6bb5\u200b\u67e5\u8be2\u200b\u7279\u522b\u200b\u9891\u7e41\u200b\u7684\u200b\u60c5\u51b5\u200b,\u200b\u5c06\u200b\u4e00\u5f20\u200b\u8868\u4e2d\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u5355\u72ec\u200b\u5206\u79bb\u200b\u51fa\u200b\u4e00\u4e2a\u200b\u8868\u200b. \u200b\u4e00\u5bf9\u4e00\u200b\u5173\u7cfb\u200b\u548c\u200bunique=True\u200b\u7684\u200b\u5916\u952e\u200b\u529f\u80fd\u200b\u662f\u200b\u76f8\u540c\u200b\u7684\u200b,\u200b\u53ea\u4e0d\u8fc7\u200b\u5728\u200b\u53cd\u67e5\u200b\u7684\u200b\u65f6\u5019\u200b,\u200b\u4e0d\u662f\u200b\u8fd4\u56de\u200b\u4e00\u7ec4\u200b\u5bf9\u8c61\u200b,\u200b\u800c\u662f\u200b\u76f4\u63a5\u200b\u8fd4\u56de\u200b\u5355\u4e2a\u200b\u5bf9\u8c61\u200b(\u200b\u56e0\u4e3a\u200b\u662f\u200b\u4e00\u5bf9\u4e00\u200b) \u200b\u5b57\u200b\u6bb5\u200b\u9009\u9879\u200b\u548c\u200b\u5916\u952e\u200b\u90fd\u200b\u76f8\u540c\u200b.</p>","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_fields_summary/#manytomanyfield","title":"ManyToManyField \u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u5173\u7cfb","text":"<p>\u200b\u5728\u200b\u4e4b\u524d\u200b\u5df2\u7ecf\u200b\u4f7f\u7528\u200b\u8fc7\u200b\u4e00\u6b21\u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u5173\u7cfb\u200b,\u200b\u5176\u200b\u5199\u6cd5\u200b\u4e0e\u200b\u5916\u952e\u200b\u4e5f\u200b\u7c7b\u4f3c\u200b,\u200b\u4f46\u662f\u200b\u770b\u5230\u200b\u7ed3\u679c\u200b\u662f\u200b\u5728\u200bMySQL\u200b\u91cc\u200b\u81ea\u52a8\u200b\u751f\u6210\u200b\u4e86\u200b\u7528\u4e8e\u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u5173\u7cfb\u200b\u7684\u200b\u8868\u200b.\u200b\u73b0\u5728\u200b\u770b\u4e00\u770b\u200b\u8be6\u7ec6\u200b\u7684\u200b\u63a7\u5236\u200b\u65b9\u6cd5\u200b \u200b\u5b57\u200b\u6bb5\u200b\u53c2\u6570\u200b:</p> \u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u5b57\u200b\u6bb5\u200b\u53c2\u6570\u200b \u200b\u53c2\u6570\u503c\u200b \u200b\u89e3\u91ca\u200b to \u200b\u8bbe\u7f6e\u200b\u8981\u200b\u5173\u8054\u200b\u7684\u200b\u8868\u200b,\u200b\u5982\u679c\u200b\u8bbe\u7f6e\u200b\u6210\u200b\u201dself\u201d\u200b\u8868\u793a\u200b\u5173\u8054\u200b\u81ea\u8eab\u200b related_name \u200b\u548c\u200b\u5916\u952e\u200b\u4e00\u6837\u200b,\u200b\u7ed9\u200b\u8fd9\u4e2a\u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u5b57\u200b\u6bb5\u200b\u8d77\u200b\u522b\u540d\u200b related_query_name \u200b\u548c\u200b\u5916\u952e\u200b\u4e00\u6837\u200b,\u200b\u7ed9\u200b\u67e5\u8be2\u200b\u8868\u540d\u200b\u8d77\u200b\u522b\u540d\u200b symmetrical \u200b\u4ec5\u200b\u7528\u4e8e\u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u5173\u8054\u200b\u81ea\u8eab\u200b,\u200b\u6307\u5b9a\u200b\u5185\u90e8\u200b\u662f\u5426\u200b\u521b\u5efa\u200b\u53cd\u5411\u200b\u64cd\u4f5c\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b,\u200b\u9ed8\u8ba4\u200b\u4e3a\u200bTrue,\u200b\u5373\u200b\u53ef\u4ee5\u200b\u7528\u200b_set\u200b\u53cd\u5411\u200b\u67e5\u8be2\u200b through \u200b\u65e0\u8be5\u200b\u53c2\u6570\u200b,Django\u200b\u81ea\u52a8\u200b\u521b\u5efa\u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u5173\u7cfb\u200b\u8868\u200b.\u200b\u8be5\u200b\u53c2\u6570\u200b\u662f\u200b\u624b\u52a8\u200b\u521b\u5efa\u200b\u591a\u200b\u5bf9\u200b\u591a\u8868\u200b\u7684\u200b\u540d\u79f0\u200b. through_fields \u200b\u8bbe\u7f6e\u200b\u5173\u8054\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u3002 db_table \u200b\u9ed8\u8ba4\u200b\u521b\u5efa\u200b\u7b2c\u4e09\u5f20\u200b\u8868\u65f6\u200b\uff0c\u200b\u6570\u636e\u5e93\u200b\u4e2d\u8868\u200b\u7684\u200b\u540d\u79f0\u200b\u3002 <p>\u200b\u4f46\u200b\u770b\u200b\u5b57\u200b\u6bb5\u200b\u53c2\u6570\u200b\u8fd8\u200b\u6709\u70b9\u200b\u4e0d\u200b\u660e\u767d\u200b,\u200b\u5728\u200bMySQL\u200b\u91cc\u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u5173\u7cfb\u200b\u662f\u200b\u901a\u8fc7\u200b\u521b\u5efa\u200b\u4e00\u5f20\u200b\u8868\u683c\u200b\u6765\u200b\u5bf9\u5e94\u200b\u7684\u200b.\u200b\u8981\u200b\u4e86\u89e3\u200bManyToMany,\u200b\u5c31\u8981\u200b\u4e86\u89e3\u200bORM\u200b\u6a21\u578b\u200b\u91cc\u200b\u521b\u5efa\u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u5173\u7cfb\u200b\u7684\u200b\u4e09\u79cd\u200b\u65b9\u6cd5\u200b:</p> <p>\u200b\u7b2c\u4e00\u79cd\u200b\u65b9\u6cd5\u200b,\u200b\u81ea\u884c\u200b\u521b\u5efa\u200b\u7b2c\u4e09\u5f20\u200b\u8868\u200b,\u200b\u4e0d\u200b\u4f7f\u7528\u200bManyToMany:</p> <pre><code>class Book(models.Model):\n    title = models.CharField(max_length=32, verbose_name=\"\u200b\u4e66\u540d\u200b\")\n\n\nclass Author(models.Model):\n    name = models.CharField(max_length=32, verbose_name=\"\u200b\u4f5c\u8005\u59d3\u540d\u200b\")\n\n\n# \u200b\u81ea\u5df1\u200b\u521b\u5efa\u200b\u7b2c\u4e09\u5f20\u200b\u8868\u200b\uff0c\u200b\u5206\u522b\u200b\u901a\u8fc7\u200b\u5916\u952e\u200b\u5173\u8054\u200b\u4e66\u200b\u548c\u200b\u4f5c\u8005\u200b\nclass Author2Book(models.Model):\n    author = models.ForeignKey(to=\"Author\")\n    book = models.ForeignKey(to=\"Book\")\n\n    class Meta:\n        unique_together = (\"author\", \"book\")\n</code></pre> <p>\u200b\u8fd9\u79cd\u200b\u65b9\u6cd5\u200b\u81ea\u7136\u200b\u65e0\u6cd5\u200b\u901a\u8fc7\u200bManyToMany\u200b\u5b57\u6bb5\u200b\u6765\u200b\u76f4\u63a5\u200b\u67e5\u8be2\u200b\u53d6\u503c\u200b,\u200b\u60f3\u8981\u200b\u67e5\u8be2\u200b\u5173\u7cfb\u200b\u5c31\u200b\u5fc5\u987b\u200b\u901a\u8fc7\u200b\u591a\u200b\u5bf9\u200b\u591a\u8868\u200b\u62ff\u5230\u200b\u7ed3\u679c\u200b\u518d\u200b\u8fc7\u6ee4\u200b.</p> <p>\u200b\u7b2c\u4e8c\u79cd\u200b\u65b9\u6cd5\u200b,\u200b\u901a\u8fc7\u200bManyToManyField\u200b\u81ea\u52a8\u200b\u521b\u5efa\u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u5173\u7cfb\u200b\u8868\u200b:</p> <pre><code>class Book(models.Model):\n    title = models.CharField(max_length=32, verbose_name=\"\u200b\u4e66\u540d\u200b\")\n\n\n# \u200b\u901a\u8fc7\u200bORM\u200b\u81ea\u5e26\u200b\u7684\u200bManyToManyField\u200b\u81ea\u52a8\u200b\u521b\u5efa\u200b\u7b2c\u4e09\u5f20\u200b\u8868\u200b\nclass Author(models.Model):\n    name = models.CharField(max_length=32, verbose_name=\"\u200b\u4f5c\u8005\u59d3\u540d\u200b\")\n    books = models.ManyToManyField(to=\"Book\", related_name=\"authors\")\n</code></pre> <p>\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u60f3\u8981\u200b\u67e5\u8be2\u200b\u4f5c\u8005\u200b\u5bf9\u5e94\u200b\u7684\u200b\u4e66\u200b,\u200b\u662f\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200bDjango\u200b\u63d0\u4f9b\u200b\u7684\u200bAPI\u200b\u76f4\u63a5\u200b\u67e5\u8be2\u200b\u7684\u200b,\u200b\u5c31\u200b\u50cf\u200b\u4e4b\u524d\u200b\u9879\u76ee\u200b\u91cc\u200b\u5199\u200b\u7684\u200b<code>author_obj.book.set(books)</code>\u200b\u76f4\u63a5\u200b\u5728\u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u5173\u7cfb\u200b\u91cc\u200b\u8bbe\u7f6e\u200b\u4e86\u200b\u5bf9\u5e94\u200b\u5173\u7cfb\u200b.</p> <p>\u200b\u7b2c\u4e09\u79cd\u200b\u65b9\u6cd5\u200b,\u200b\u8bbe\u7f6e\u200bManyTomanyField\u200b\u5e76\u200b\u6307\u5b9a\u200b\u81ea\u884c\u200b\u521b\u5efa\u200b\u7684\u200b\u7b2c\u4e09\u5f20\u200b\u8868\u200b:</p> <pre><code>class Book(models.Model):\n    title = models.CharField(max_length=32, verbose_name=\"\u200b\u4e66\u540d\u200b\")\n\n\n# \u200b\u81ea\u5df1\u200b\u521b\u5efa\u200b\u7b2c\u4e09\u5f20\u200b\u8868\u200b\uff0c\u200b\u5e76\u200b\u901a\u8fc7\u200bManyToManyField\u200b\u6307\u5b9a\u200b\u5173\u8054\u200b\nclass Author(models.Model):\n    name = models.CharField(max_length=32, verbose_name=\"\u200b\u4f5c\u8005\u59d3\u540d\u200b\")\n    books = models.ManyToManyField(to=\"Book\", through=\"Author2Book\", through_fields=(\"author\", \"book\"))\n    # through_fields\u200b\u63a5\u53d7\u200b\u4e00\u4e2a\u200b2\u200b\u5143\u7ec4\u200b\uff08'field1'\uff0c'field2'\uff09\uff1a\n    # \u200b\u5176\u4e2d\u200bfield1\u200b\u662f\u200b\u5b9a\u4e49\u200bManyToManyField\u200b\u7684\u200b\u6a21\u578b\u200b(ManyToMany\u200b\u5b57\u200b\u6bb5\u200b\u6240\u5728\u200b\u7684\u200b\u8868\u200b)\u200b\u5916\u952e\u200b\u7684\u200b\u540d\u200b\uff08author\uff09\uff0cfield2\u200b\u662f\u200b\u5173\u8054\u200b\u76ee\u6807\u200b\u6a21\u578b\u200b \uff08book\uff09\u200b\u7684\u200b\u5916\u200b\u952e\u540d\u200b\u3002\n\n\nclass Author2Book(models.Model):\n    author = models.ForeignKey(to=\"Author\")\n    book = models.ForeignKey(to=\"Book\")\n\n    class Meta:\n        unique_together = (\"author\", \"book\")\n</code></pre> <p>\u200b\u867d\u7136\u200b\u7b2c\u4e09\u79cd\u200b\u65b9\u5f0f\u200b\u4e5f\u200b\u4f7f\u7528\u200b\u4e86\u200bManyToMany\u200b\u5b57\u200b\u6bb5\u200b,\u200b\u4f46\u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\u4e0e\u200b\u7b2c\u4e00\u79cd\u200b\u7c7b\u4f3c\u200b,\u200b\u65e0\u6cd5\u200b\u4f7f\u7528\u200bset\u3001add\u3001remove\u3001clear\u200b\u7b49\u200b\u5185\u5efa\u200bAPI\u200b\u6765\u200b\u7ba1\u7406\u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u7684\u200b\u5173\u7cfb\u200b\u4e86\u200b\uff0c\u200b\u9700\u8981\u200b\u901a\u8fc7\u200b\u7b2c\u4e09\u5f20\u200b\u8868\u200b\u81ea\u5df1\u200b\u53d6\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b\u518d\u200b\u64cd\u4f5c\u200b.</p> <p>\u200b\u5230\u200b\u8fd9\u91cc\u200b\u57fa\u672c\u4e0a\u200b\u5b66\u4e60\u200b\u5b8c\u200b\u4e86\u200b\u5b9a\u4e49\u200b\u8868\u200b\u65f6\u5019\u200b\u7684\u200b\u64cd\u4f5c\u200b,\u200b\u5305\u62ec\u200b\u7c7b\u548c\u7c7b\u200b\u5c5e\u6027\u200b,\u200b\u5173\u8054\u200b\u5173\u7cfb\u200b\u7684\u200b\u5404\u79cd\u200b\u8bbe\u7f6e\u200b. \u200b\u6b64\u5916\u200b,\u200b\u8fd8\u8981\u200b\u5bf9\u8868\u200b\u518d\u200b\u8865\u5145\u200b\u4e00\u70b9\u200b,\u200b\u5c31\u662f\u200b\u7c7b\u5185\u200b\u53ef\u4ee5\u200b\u518d\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u53eb\u200bMETA\u200b\u7684\u200b\u7c7b\u200b,\u200b\u4fdd\u5b58\u200b\u7740\u200b\u8fd9\u4e2a\u200b\u8868\u200b\u7684\u200b\u4e00\u4e9b\u200b\u5176\u4ed6\u200b\u5c5e\u6027\u200b. \u200b\u5efa\u7acb\u200bMETA\u200b\u7c7b\u200b\u5f88\u200b\u7b80\u5355\u200b,\u200b\u53ea\u8981\u200b\u5728\u200b\u8868\u200b\u7684\u200b\u7c7b\u200b\u5185\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u7c7b\u200b\u5982\u4e0b\u200b:</p> <pre><code>class Meta:\n    unique_together = (\"author\", \"book\")\n</code></pre> <p>META\u200b\u7c7b\u200b\u7684\u200b\u7c7b\u200b\u5c5e\u6027\u200b\u90fd\u200b\u6709\u7740\u200b\u7279\u6b8a\u200b\u7684\u200b\u610f\u4e49\u200b:</p> META\u200b\u7c7b\u200b\u7684\u200b\u7c7b\u200b\u5c5e\u6027\u200b \u200b\u5c5e\u6027\u200b\u540d\u200b \u200b\u89e3\u91ca\u200b abstract \u200b\u8bbe\u7f6e\u200b\u4e3a\u200bTrue\u200b\u8868\u793a\u200b\u8fd9\u662f\u200b\u4e00\u4e2a\u200bABC\u200b\u7c7b\u200b,\u200b\u8fd9\u4e2a\u200b\u7c7b\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u4f1a\u200b\u5e94\u7528\u200b\u5230\u200b\u5b50\u7c7b\u200b\u4e2d\u200b. app_label \u200b\u7c7b\u200b\u5bf9\u5e94\u200b\u7684\u200bapp\u200b\u540d\u79f0\u200b.\u200b\u5982\u679c\u200b\u5f53\u524d\u200b\u8fd9\u4e2a\u200b\u7c7b\u200b\u662f\u200b\u5728\u200bapp\u200b\u4e4b\u5916\u200b\u5b9a\u4e49\u200b\u7684\u200b,\u200b\u5c06\u200bapp_label\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u5177\u4f53\u200b\u7684\u200bapp\u200b\u540d\u79f0\u200b\u53ef\u4ee5\u200b\u6307\u5b9a\u200b\u8fd9\u4e2a\u200b\u7c7b\u200b\u662f\u200b\u4e3a\u200b\u54ea\u4e2a\u200bapp\u200b\u51c6\u5907\u200b\u7684\u200b db_table \u200b\u6307\u5b9a\u200b\u8868\u540d\u200b,\u200b\u4e0d\u200b\u6307\u5b9a\u200b\u5219\u200bDjango\u200b\u81ea\u52a8\u200b\u6309\u7167\u200bapp_\u200b\u7c7b\u540d\u200b\u751f\u6210\u200b\u8868\u540d\u200b indexes \u200b\u6307\u5b9a\u200b\u7f16\u5236\u200b\u7d22\u5f15\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u548c\u200b\u7d22\u5f15\u200b\u540d\u79f0\u200b,\u200b\u5177\u4f53\u200b\u770b\u200b\u8fd9\u91cc\u200b unique_together \u200b\u53c2\u6570\u200b\u4e3a\u200b\u5b57\u200b\u6bb5\u200b\u5143\u7ec4\u200b,\u200b\u8868\u793a\u200b\u54ea\u200b\u4e00\u7ec4\u200b\u5b57\u200b\u6bb5\u200b\u8fdb\u884c\u200b\u8054\u5408\u200b\u552f\u4e00\u200b\u7ea6\u675f\u200b,\u200b\u5177\u4f53\u200b\u770b\u200b\u8fd9\u91cc\u200b index_together \u200b\u53c2\u6570\u200b\u4e3a\u200b\u5b57\u6bb5\u540d\u200b\u7684\u200b\u5217\u8868\u200b,\u200b\u8868\u793a\u200b\u8054\u5408\u200b\u7d22\u5f15\u200b verbose_name \u200b\u7ed9\u200b\u8fd9\u4e2a\u200b\u8868\u200b\u8bbe\u7f6e\u200b\u4e00\u4e2a\u200b\u522b\u540d\u200b. ordering \u200b\u53c2\u6570\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u5b57\u6bb5\u540d\u200b\u79f0\u200b\u7684\u200b\u5217\u8868\u200b,\u200b\u8868\u793a\u200b\u9ed8\u8ba4\u200b\u6309\u7167\u200b\u54ea\u200b\u4e00\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\u6392\u5e8f\u200b.\u200b\u8bbe\u7f6e\u200b\u4e86\u200b\u8be5\u200b\u5c5e\u6027\u200b\u4e4b\u540e\u200b,\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b\u96c6\u624d\u200b\u53ef\u4ee5\u200b\u88ab\u200breverse(). <p>\u200b\u53ef\u89c1\u200bORM\u200b\u5bf9\u4e8e\u200b\u8868\u200b\u7684\u200b\u5904\u7406\u200b,\u200b\u8fd8\u662f\u200b\u8fdb\u884c\u200b\u4e86\u200b\u5c3d\u53ef\u80fd\u200b\u8be6\u7ec6\u200b\u7684\u200b\u533a\u5206\u200b,\u200b\u8868\u200b\u7684\u200b\u57fa\u672c\u200b\u5c5e\u6027\u200b,\u200b\u6392\u5e8f\u200b\u548c\u200b\u7d22\u5f15\u200b\u5b57\u200b\u6bb5\u200b,\u200b\u4ee5\u53ca\u200b\u5177\u4f53\u200b\u5b57\u6bb5\u200b\u7684\u200b\u8bbe\u7f6e\u200b\u90fd\u200b\u6709\u200b\u5bf9\u5e94\u200b\u7684\u200b\u65b9\u6cd5\u200b.\u200b\u4eca\u540e\u200b\u5728\u200b\u8bbe\u7f6e\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u65f6\u5019\u200b,\u200b\u5c3d\u91cf\u200b\u4f7f\u7528\u200b\u5404\u79cd\u200b\u7279\u6027\u200b.</p>","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_query_summary/","title":"\u67e5\u8be2","text":"<p>\u200b\u67e5\u8be2\u200b\u662f\u200b\u901a\u8fc7\u200bORM\u200b\u8bbe\u7f6e\u200b\u597d\u200b\u7684\u200bAPI,\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5404\u79cd\u200b\u65b9\u6cd5\u200b\u548c\u200b\u5c5e\u6027\u200b\u5b9e\u73b0\u200b\u7684\u200b.\u200b\u67e5\u8be2\u200b\u5206\u4e3a\u200b\u67e5\u8be2\u65b9\u6cd5\u200b\u548c\u200b\u67e5\u8be2\u200b\u6761\u4ef6\u200b.</p>","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_query_summary/#methods-that-return-new-querysets","title":"\u67e5\u8be2\u65b9\u6cd5\u200b Methods that return new QuerySets","text":"<p>\u200b\u67e5\u8be2\u65b9\u6cd5\u200b\u8fd4\u56de\u200b\u7684\u200b\u90fd\u200b\u662f\u200bQuerySet\u200b\u5bf9\u8c61\u200b(\u200b\u5305\u542b\u200b\u4e00\u7ec4\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5217\u8868\u200b)\u200b\u6216\u8005\u200b\u5177\u4f53\u200b\u7684\u200b\u5bf9\u8c61\u200b(\u200b\u8868\u793a\u200b\u4e00\u884c\u200b\u6570\u636e\u200b),\u200b\u6765\u770b\u200b\u4e00\u4e0b\u200b\u57fa\u672c\u200b\u7684\u200b\u67e5\u8be2\u65b9\u6cd5\u200b:</p> ORM\u200b\u4e00\u822c\u200b\u67e5\u8be2\u200b \u200b\u65b9\u6cd5\u200b \u200b\u89e3\u91ca\u200b all() \u200b\u67e5\u8be2\u200b\u6240\u6709\u200b\u7ed3\u679c\u200b.objects\u200b\u540e\u8fb9\u200b\u7684\u200b.all()\u200b\u53ef\u4ee5\u200b\u7701\u7565\u200b,\u200b\u7701\u7565\u200b\u7684\u200b\u65f6\u5019\u200b\u5c31\u662f\u200b\u5bf9\u200b\u6240\u6709\u200b\u7ed3\u679c\u200b\u64cd\u4f5c\u200b. get(**kwargs): \u200b\u8fd4\u56de\u200b\u4e0e\u200b\u6240\u200b\u7ed9\u200b\u7b5b\u9009\u200b\u6761\u4ef6\u200b\u76f8\u5339\u914d\u200b\u7684\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u8fd4\u56de\u200b\u7ed3\u679c\u200b\u6709\u4e14\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\uff0c\u200b\u5982\u679c\u200b\u7b26\u5408\u200b\u7b5b\u9009\u200b\u6761\u4ef6\u200b\u7684\u200b\u5bf9\u8c61\u200b\u8d85\u8fc7\u200b\u4e00\u4e2a\u200b\u6216\u8005\u200b\u6ca1\u200b\u67e5\u627e\u200b\u5230\u200b\u90fd\u200b\u4f1a\u200b\u629b\u51fa\u200b\u9519\u8bef\u200b\u3002\u200b\u8fd4\u56de\u200b\u5177\u4f53\u200b\u5bf9\u8c61\u200b,\u200b\u4e0d\u662f\u200bQuerySet filter(**kwargs): \u200b\u8fd4\u56de\u200b\u4e0e\u200b\u6240\u200b\u7ed9\u200b\u7b5b\u9009\u200b\u6761\u4ef6\u200b\u76f8\u5339\u914d\u200b\u7684\u200b\u7ed3\u679c\u200b\u96c6\u200b(QuerySet\u200b\u5bf9\u8c61\u200b,\u200b\u653e\u200b\u6709\u200b\u6240\u6709\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b\u7684\u200b\u5217\u8868\u200b),\u200b\u5373\u4f7f\u200b\u7ed3\u679c\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b,\u200b\u4e5f\u200b\u662f\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u7ed3\u679c\u200b\u96c6\u200b,\u200b\u9700\u8981\u200b\u4ece\u4e2d\u200b\u53d6\u51fa\u200b\u6bcf\u6761\u200b\u6570\u636e\u5904\u7406\u200b.\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u7ed3\u679c\u200b,\u200b\u8fd4\u56de\u200b\u7a7a\u96c6\u200b.\u200b\u4ee5\u540e\u200b\u591a\u7528\u200bfilter,\u200b\u57fa\u672c\u200b\u4e0d\u7528\u200bget exclude(**kwargs) \u200b\u4e0d\u200b\u7b26\u5408\u200b\u7b5b\u9009\u200b\u6761\u4ef6\u200b\u7684\u200b\u7ed3\u679c\u200b.\u200b\u8fd4\u56de\u200bQuerySet values(*field) \u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200bQuerySet,,\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u662f\u200b\u4ee3\u8868\u200b\u4e00\u884c\u200b\u6570\u636e\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5b57\u5178\u200b,\u200b\u91cc\u8fb9\u200b\u7528\u952e\u200b=\u200b\u5b57\u6bb5\u540d\u200b \u200b\u503c\u200b= \u200b\u6570\u636e\u200b \u200b\u7684\u200b\u65b9\u5f0f\u200b\u5b58\u653e\u200b\u6240\u6709\u200b\u67e5\u8be2\u200b\u5230\u200b\u7684\u200b\u7ed3\u679c\u200b.\u200b\u53ef\u4ee5\u200b\u52a0\u200b\u53c2\u6570\u200b\u6307\u5b9a\u200b\u5177\u4f53\u200b\u5b57\u200b\u6bb5\u200b,\u200b\u591a\u4e2a\u200b\u5b57\u6bb5\u540d\u200b\u7528\u200b\u9017\u53f7\u200b\u5206\u9694\u200b,\u200b\u4e0d\u200b\u6307\u5b9a\u200b\u53c2\u6570\u200b\u5219\u200b\u53d6\u51fa\u200b\u6240\u6709\u200b\u5b57\u200b\u6bb5\u200b.\u200b\u53ea\u80fd\u200b\u4f5c\u7528\u200b\u5728\u200bQuerySet\u200b\u5bf9\u8c61\u200b\u4e0a\u200b,\u200b\u4e0d\u80fd\u200b\u4f5c\u7528\u200b\u4e8e\u200b\u5355\u72ec\u200b\u7684\u200b\u5bf9\u8c61\u200b. values_list(*field) \u200b\u548c\u200bvalues\u200b\u7c7b\u4f3c\u200b,\u200b\u53ea\u4e0d\u8fc7\u200bQuerySet\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5143\u7ec4\u200b,\u200b\u6309\u200b\u53c2\u6570\u200b\u987a\u5e8f\u200b\u653e\u7740\u200b\u5b57\u200b\u6bb5\u200b\u7684\u200b\u503c\u200b.\u200b\u53ea\u80fd\u200b\u4f5c\u7528\u200b\u5728\u200bQuerySet\u200b\u5bf9\u8c61\u200b\u4e0a\u200b,\u200b\u4e0d\u80fd\u200b\u4f5c\u7528\u200b\u4e8e\u200b\u5355\u72ec\u200b\u7684\u200b\u5bf9\u8c61\u200b. order_by(*field) \u200b\u6309\u7167\u200b\u6307\u5b9a\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u6392\u5e8f\u200b.\u200b\u5728\u200b\u5b57\u7b26\u4e32\u200b\u5f00\u5934\u200b\u5199\u200b-\u200b\u8868\u793a\u200b\u5012\u5e8f\u200b\u5982\u200b\u201d-price\u201d.\u200b\u4e0d\u200b\u4f7f\u7528\u200border_by\u200b\u7684\u8bdd\u200b,\u200b\u9ed8\u8ba4\u200b\u4f1a\u200b\u6309\u7167\u200bMETA\u200b\u91cc\u200b\u8bbe\u7f6e\u200b\u7684\u200b\u987a\u5e8f\u200b\u5bf9\u200b\u7ed3\u679c\u200b\u6392\u5e8f\u200b.\u200b\u8fd4\u56de\u200bQuerySet reverse() reverse\u200b\u53ea\u80fd\u200b\u5728\u200b\u6307\u5b9a\u200b\u987a\u5e8f\u200b\u7684\u200bQuerySet\u200b\u4e0a\u200b\u8c03\u7528\u200b,\u200b\u6bd4\u5982\u200b\u7528\u8fc7\u200b\u4e86\u200border_by\u200b\u65b9\u6cd5\u200b\u6216\u8005\u200bMETA\u200b\u91cc\u200b\u5199\u200b\u4e86\u200b\u6392\u5e8f\u200b\u65b9\u6cd5\u200b.\u200b\u5f97\u5230\u200b\u53cd\u5411\u200b\u6392\u5e8f\u200b\u7684\u200b\u987a\u5e8f\u200b.\u200b\u8fd4\u56de\u200bQuerySet distinct() \u200b\u4ece\u200b\u8fd4\u56de\u200b\u7ed3\u679c\u200b\u4e2d\u200b\u5254\u9664\u200b\u91cd\u590d\u200b\u7eaa\u5f55\u200b.\u200b\u8de8\u8868\u200b\u67e5\u8be2\u200b\u7684\u200b\u65f6\u5019\u200b\u7ecf\u5e38\u200b\u7528\u6b64\u200b\u65b9\u6cd5\u200b\u53bb\u200b\u91cd\u200b. count() \u200b\u8fd4\u56de\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\u5339\u914d\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b\u96c6\u200b(QuerySet)\u200b\u4e2d\u200b\u7684\u200b\u5bf9\u8c61\u200b\u6570\u91cf\u200b.\u200b\u662f\u200b\u4e00\u4e2a\u200bInt\u200b\u503c\u200b. first() \u200b\u8fd4\u56de\u200bQuerySet\u200b\u4e2d\u200b\u7b2c\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b.\u200b\u8fd4\u56de\u200b\u7684\u200b\u662f\u200b\u5177\u4f53\u200b\u5bf9\u8c61\u200b,\u200b\u4e0d\u662f\u200bQuerySet last() \u200b\u8fd4\u56de\u200bQuerySet\u200b\u4e2d\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b.\u200b\u8fd4\u56de\u200b\u7684\u200b\u662f\u200b\u5177\u4f53\u200b\u5bf9\u8c61\u200b,\u200b\u4e0d\u662f\u200bQuerySet exists() \u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u5e03\u5c14\u503c\u200b.\u200b\u5982\u679c\u200bQuerySet\u200b\u5305\u542b\u200b\u6570\u636e\u200b\uff0c\u200b\u5c31\u200b\u8fd4\u56de\u200bTrue\uff0c\u200b\u5426\u5219\u200b\u8fd4\u56de\u200bFalse.\u200b\u7528\u4e8e\u200b\u5feb\u901f\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u67e5\u8be2\u200b\u5230\u200b\u7ed3\u679c\u200b.","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_query_summary/#field-lookups","title":"\u67e5\u8be2\u200b\u6761\u4ef6\u200b Field lookups","text":"<p>\u200b\u57fa\u672c\u200b\u67e5\u8be2\u200b\u8bed\u53e5\u200b\u7684\u200b\u53c2\u6570\u200b\u662f\u200b**kwargs\u200b\u7684\u200b\u90fd\u200b\u662f\u200b\u5404\u79cd\u200b\u67e5\u8be2\u200b\u6761\u4ef6\u200b,\u200b\u4e0a\u8fb9\u200b\u4f8b\u5b50\u200b\u91cc\u200b\u662f\u200b\u7528\u200b\u7684\u200b=\u200b\u6765\u200b\u8868\u793a\u200b\u6761\u4ef6\u200b,\u200b\u8fd9\u662f\u200b\u7cbe\u786e\u200b\u5339\u914d\u200b,\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u91c7\u7528\u200b\u5176\u4ed6\u200b\u6761\u4ef6\u200b.\u200b\u8fd9\u90e8\u5206\u200b\u5bf9\u5e94\u200b\u7684\u200b\u90fd\u200b\u662f\u200bMySQL\u200b\u7684\u200bWHERE\u200b\u8bed\u53e5\u200b\u540e\u8fb9\u200b\u7684\u200b\u5185\u5bb9\u200b.\u200b\u5728\u200bDjango ROM\u200b\u91cc\u200b\u53eb\u505a\u200b Field lookups.\u200b\u8fd9\u4e9b\u200bField lookups \u200b\u5173\u952e\u5b57\u200b\u90fd\u200b\u7528\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\u52a0\u200b\u5728\u200b\u5b57\u6bb5\u540d\u200b\u540e\u8fb9\u200b.\u200b\u6709\u200b\u591a\u4e2a\u200b\u6761\u4ef6\u200b\u7684\u200b,\u200b\u5c06\u200b\u6761\u4ef6\u200b\u7528\u200b\u9017\u53f7\u200b\u9694\u5f00\u200b\u653e\u5728\u200b\u4e0a\u8fb9\u200b\u7684\u200b\u57fa\u672c\u200b\u67e5\u8be2\u200b\u8bed\u53e5\u200b\u4e2d\u200b,\u200b\u6bd4\u5982\u200b<code>models.Person.objects.filter(id__gt=2,id__lt=5)</code>.</p> Field lookups \u200b\u67e5\u8be2\u200b\u6761\u4ef6\u200b \u200b\u6761\u4ef6\u200b \u200b\u89e3\u91ca\u200b = \u200b\u8868\u793a\u200b\u7cbe\u786e\u200b\u5339\u914d\u200b,\u200b\u53ea\u200b\u9009\u62e9\u200b\u7b26\u5408\u6761\u4ef6\u200b\u7684\u200b\u5bf9\u8c61\u200b iexact \u200b\u5927\u5c0f\u5199\u200b\u4e0d\u200b\u654f\u611f\u200b\u7684\u200b\u7cbe\u786e\u200b\u5339\u914d\u200b,\u200b\u5e38\u7528\u200b\u6765\u200b\u5339\u914d\u200b\u4e00\u6bb5\u200b\u5b57\u7b26\u4e32\u200b contains \u200b\u5305\u542b\u200b\u6709\u200b\u67d0\u6bb5\u200b\u5b57\u7b26\u4e32\u200b\u5185\u5bb9\u200b\u7684\u200b\u5339\u914d\u200b,\u200b\u5927\u5c0f\u5199\u200b\u654f\u611f\u200b icontains \u200b\u5927\u5c0f\u5199\u200b\u4e0d\u200b\u654f\u611f\u200b\u7684\u200bicontains in \u200b\u5728\u200b\u4e00\u4e2a\u200b\u5217\u8868\u200b\u5185\u200b.\u200b\u548c\u200bSQL\u200b\u8bed\u53e5\u200b\u7684\u200bin\u200b\u4e00\u6837\u200b gt \u200b\u5927\u4e8e\u200b gte \u200b\u5927\u4e8e\u200b\u7b49\u4e8e\u200b lt \u200b\u5c0f\u4e8e\u200b lte \u200b\u5c0f\u4e8e\u200b\u7b49\u4e8e\u200b startswith \u200b\u4ee5\u200b\u5b57\u7b26\u4e32\u200b\u5f00\u59cb\u200b,\u200b\u5927\u5c0f\u5199\u200b\u654f\u611f\u200b istartswith \u200b\u5927\u5c0f\u5199\u200b\u4e0d\u200b\u654f\u611f\u200b\u7248\u672c\u200b\u7684\u200bstartswith endswith \u200b\u4ee5\u200b\u5b57\u7b26\u4e32\u200b\u7ed3\u5c3e\u200b,\u200b\u5927\u5c0f\u5199\u200b\u654f\u611f\u200b iendswith \u200b\u5927\u5c0f\u5199\u200b\u4e0d\u200b\u654f\u611f\u200b\u7248\u672c\u200b\u7684\u200bendswith range \u200b\u662f\u5426\u200b\u5728\u200b\u4e00\u4e2a\u200b\u8303\u56f4\u200b\u5185\u200b,\u200b\u5305\u542b\u200b\u8303\u56f4\u200b\u7684\u200b\u4e24\u7aef\u200b,=\u200b\u53f7\u200b\u540e\u8fb9\u200b\u662f\u200b\u4e00\u4e2a\u200b\u4e24\u4e2a\u200b\u5143\u7d20\u200b\u7684\u200b\u5143\u7ec4\u200b,\u200b\u8868\u793a\u200b\u5f00\u59cb\u200b\u548c\u200b\u7ed3\u675f\u200b date \u200b\u7528\u200b\u5728\u200bdatetime\u200b\u7c7b\u522b\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u4e0a\u200b,\u200b\u5355\u72ec\u200b\u53d6\u51fa\u200b\u65e5\u671f\u200b(datetime\u200b\u5bf9\u8c61\u200b)\u200b\u6765\u200b\u6bd4\u8f83\u200b,\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u540e\u7eed\u200b\u63a5\u200b\u5176\u4ed6\u200bField lookups,\u200b\u8be6\u7ec6\u200b\u770b\u200b\u8fd9\u91cc\u200b year \u200b\u548c\u200bdate\u200b\u4e00\u6837\u200b,\u200b\u53ea\u4e0d\u8fc7\u200b\u5355\u72ec\u200b\u53d6\u51fa\u200b\u6765\u200b\u5e74\u4efd\u200b\u6bd4\u8f83\u200b.\u200b\u662f\u200b\u4e00\u4e2a\u200bINT\u200b\u7c7b\u578b\u200b month \u200b\u548c\u200bdate\u200b\u4e00\u6837\u200b,\u200b\u53ea\u4e0d\u8fc7\u200b\u5355\u72ec\u200b\u53d6\u51fa\u200b\u6765\u200b\u6708\u4efd\u200b\u8fdb\u884c\u200b\u6bd4\u8f83\u200b,\u200b\u662f\u200b\u4e00\u4e2a\u200bINT\u200b\u7c7b\u578b\u200b day \u200b\u548c\u200bdate\u200b\u4e00\u6837\u200b,\u200b\u53ea\u4e0d\u8fc7\u200b\u5355\u72ec\u200b\u53d6\u51fa\u200b\u6765\u200b\u65e5\u200b\u8fdb\u884c\u200b\u6bd4\u8f83\u200b,\u200b\u662f\u200b\u4e00\u4e2a\u200bINT\u200b\u7c7b\u578b\u200b.year,month\u200b\u548c\u200bday\u200b\u7ecf\u5e38\u200b\u7528\u200b\u5728\u200b\u5feb\u901f\u200b\u8fc7\u6ee4\u200b\u65e5\u671f\u200b,\u200b\u6bd4\u200b\u4f7f\u7528\u200bdatetime\u200b\u5bf9\u8c61\u200b\u6bd4\u8f83\u200b\u8981\u200b\u7b80\u5355\u200b\u5f88\u591a\u200b. week \u200b\u548c\u200bdate\u200b\u4e00\u6837\u200b,\u200b\u53ea\u4e0d\u8fc7\u200b\u5355\u72ec\u200b\u53d6\u51fa\u200b\u6765\u200b\u7b2c\u200b\u51e0\u5468\u200b\u8fdb\u884c\u200b\u6bd4\u8f83\u200b,\u200b\u662f\u200b\u4e00\u4e2a\u200bINT\u200b\u7c7b\u578b\u200b. week_day \u200b\u548c\u200bdate\u200b\u4e00\u6837\u200b,\u200b\u53ea\u4e0d\u8fc7\u200b\u5355\u72ec\u200b\u53d6\u51fa\u200b\u6765\u200b\u661f\u671f\u200b\u51e0\u65e5\u200b\u8fdb\u884c\u200b\u6bd4\u8f83\u200b,\u200b\u662f\u200b\u4e00\u4e2a\u200bINT\u200b\u7c7b\u578b\u200b.\u200b\u661f\u671f\u5929\u200b\u662f\u200b1,\u200b\u661f\u671f\u516d\u200b\u662f\u200b7.\u200b\u6bd4\u8f83\u200b\u5e38\u7528\u200b. time \u200b\u548c\u200bdate\u200b\u4e00\u6837\u200b,\u200b\u53ea\u4e0d\u8fc7\u200b\u5355\u72ec\u200b\u53d6\u51fa\u200b\u6765\u200b\u65f6\u95f4\u200b\u8fdb\u884c\u200b\u6bd4\u8f83\u200b,\u200b\u662f\u200b\u4e00\u4e2a\u200b datetime.time\u200b\u5bf9\u8c61\u200b. hour \u200b\u4ece\u200bdatetime\u200b\u548c\u200btime fileds\u200b\u91cc\u53d6\u200b\u5c0f\u65f6\u200b,\u200b\u8303\u56f4\u200b\u662f\u200b0-23,\u200b\u662f\u200b\u4e00\u4e2a\u200bINT\u200b\u7c7b\u578b\u200b. minute \u200b\u540c\u200bhour,\u200b\u53d6\u200b\u5206\u949f\u200b,\u200b\u8303\u56f4\u200b0-59,\u200b\u662f\u200b\u4e00\u4e2a\u200bINT\u200b\u7c7b\u578b\u200b second \u200b\u540c\u200bhour,\u200b\u53d6\u79d2\u200b,\u200b\u8303\u56f4\u200b0-59,\u200b\u662f\u200b\u4e00\u4e2a\u200bINT\u200b\u7c7b\u578b\u200b isnull \u200b\u5224\u65ad\u200b\u5b57\u200b\u6bb5\u200b\u662f\u5426\u662f\u200bNull regex \u200b\u5927\u5c0f\u5199\u200b\u654f\u611f\u200b\u7684\u200b\u6b63\u5219\u200b\u5339\u914d\u200b\u6a21\u5f0f\u200b,\u200b\u7b49\u200b\u53f7\u200b\u540e\u8fb9\u200b\u9700\u8981\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6b63\u5219\u8868\u8fbe\u5f0f\u200b iregex \u200b\u5927\u5c0f\u5199\u200b\u4e0d\u200b\u654f\u611f\u200b\u7684\u200b\u6b63\u5219\u8868\u8fbe\u5f0f","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_query_summary/#_2","title":"\u8de8\u8868\u200b\u67e5\u8be2","text":"<p>\u200b\u8de8\u8868\u200b\u67e5\u8be2\u200b\u6307\u200b\u7684\u200b\u662f\u200b\u4f9d\u9760\u200b\u5173\u7cfb\u200b\u8fdb\u884c\u200b\u67e5\u8be2\u200b\u7684\u200b\u65b9\u6cd5\u200b.\u200b\u5176\u200b\u6838\u5fc3\u200b\u5c31\u662f\u200b\u4f9d\u636e\u200b\u5916\u952e\u200b\u4ee5\u53ca\u200b\u4e00\u5bf9\u4e00\u200b,\u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u5b57\u200b\u6bb5\u200b\u8fdb\u884c\u200b\u7684\u200b\u67e5\u627e\u200b.\u200b\u5148\u200b\u6765\u770b\u200b\u7ecf\u5178\u200b\u7684\u200b\u5916\u952e\u200b\u4e00\u5bf9\u200b\u591a\u200b\u67e5\u8be2\u200b:</p>","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_query_summary/#foreignkey","title":"ForeignKey \u200b\u4e00\u5bf9\u200b\u591a\u200b\u67e5\u8be2","text":"<p>\u200b\u5148\u200b\u6765\u200b\u4e86\u89e3\u200b\u4e00\u4e0b\u200b\u6b63\u5411\u200b\u67e5\u8be2\u200b\u548c\u200b\u53cd\u5411\u200b\u67e5\u8be2\u200b \u200b\u6b63\u5411\u200b\u67e5\u8be2\u200b:\u200b\u5916\u952e\u200b\u6240\u5728\u200b\u7684\u200b\u8868\u53bb\u200b\u67e5\u5916\u952e\u200b\u5173\u8054\u200b\u7684\u200b\u8868\u200b. \u200b\u9006\u5411\u200b\u67e5\u8be2\u200b:\u200b\u4e00\u4e2a\u200b\u8868\u53bb\u200b\u67e5\u200b\u53e6\u5916\u200b\u4e00\u4e2a\u200b\u5916\u952e\u200b\u5173\u8054\u200b\u5230\u200b\u5f53\u524d\u200b\u8fd9\u4e2a\u200b\u8868\u7684\u8868\u200b. \u200b\u4f8b\u5b50\u200b:</p> <pre><code>class Publisher(models.Model):\n    id = models.AutoField(primary_key=True)\n    name = models.CharField(max_length=32, unique=True)\n\n    def __str__(self):\n        return \"\u200b\u6211\u200b\u662f\u200b\u4e00\u4e2a\u200b\u51fa\u7248\u793e\u200b\u5bf9\u8c61\u200b:{}\".format(self.name)\n\n\nclass Book(models.Model):\n    id = models.AutoField(primary_key=True)\n    price = models.DecimalField(max_digits=5, decimal_places=2, default=99.99)\n    # \u200b\u5e93\u5b58\u200b\u6570\u200b\n    kucun = models.IntegerField(default=1000)\n    # \u200b\u5356\u51fa\u200b\u6570\u200b\n    maichu = models.IntegerField(default=0)\n\n    title = models.CharField(max_length=32)\n    # \u200b\u5916\u952e\u200b\n    # related_name=\"books\" \u200b\u53cd\u5411\u200b\u67e5\u8be2\u200b\u662f\u200b\u7528\u6765\u200b\u4ee3\u66ff\u200b book_set\u200b\u7684\u200b\n    publisher = models.ForeignKey(\n        to=\"Publisher\",\n        on_delete=models.CASCADE)\n\n    def __str__(self):\n        return self.title\n</code></pre> <p>\u200b\u4ece\u200bBook\u200b\u8868\u53bb\u200b\u67e5\u200bPublisher\u200b\u67e5\u200b\u53eb\u505a\u200b\u6b63\u5411\u200b\u67e5\u8be2\u200b,\u200b\u4ece\u200bPublisher\u200b\u8868\u53bb\u200b\u67e5\u200bBook\u200b\u53eb\u505a\u200b\u53cd\u5411\u200b\u67e5\u8be2\u200b.</p> <p>\u200b\u6b63\u5411\u200b\u67e5\u8be2\u200b,\u200b\u5728\u200b\u5f53\u524d\u200b\u8868\u5185\u67e5\u200b\u5230\u200b\u7ed3\u679c\u200b\u4e4b\u540e\u200b,\u200b\u76f4\u63a5\u200b\u8c03\u7528\u200b\u5916\u952e\u200b\u5bf9\u5e94\u200b\u7684\u200b\u5c5e\u6027\u200b,\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5f97\u5230\u200b\u6307\u5411\u200b\u7684\u200b\u5916\u952e\u200b\u5bf9\u8c61\u200b.\u200b\u7531\u4e8e\u200b\u8fd9\u91cc\u200b\u662f\u200b\u4e00\u5bf9\u200b\u591a\u200b\u7684\u200b,\u200b\u6b63\u5411\u200b\u67e5\u8be2\u200b\u56de\u53bb\u200b\u7684\u200b\u7ed3\u679c\u200b\u5c31\u662f\u200b\u5bf9\u5e94\u200b\u7684\u200b\u5bf9\u8c61\u200b,\u200b\u4e0d\u662f\u200bQuerySet.\u200b\u4f8b\u5b50\u200b:</p> <pre><code>book_obj = models.Book.objects.all().first()\nret = book_obj.publisher  # \u200b\u548c\u200b\u6211\u200b\u8fd9\u200b\u672c\u4e66\u200b\u5173\u8054\u200b\u7684\u200b\u51fa\u7248\u793e\u200b\u5bf9\u8c61\u200b\nprint(ret, type(ret))\n</code></pre> <p>\u200b\u7ed3\u679c\u200b\u76f4\u63a5\u200b\u5c31\u662f\u200b\u4e66\u200b\u5bf9\u5e94\u200b\u7684\u200b\u51fa\u7248\u793e\u200b\u5bf9\u8c61\u200b.\u200b\u5982\u679c\u200b\u60f3\u67e5\u200b\u5bf9\u5e94\u200b\u7684\u200b\u51fa\u7248\u793e\u200b\u7684\u200b\u540d\u79f0\u200b,\u200b\u7531\u4e8e\u200b\u67e5\u5230\u200b\u4e86\u200b\u5bf9\u8c61\u200b,\u200b\u53ef\u4ee5\u200b\u518d\u53d6\u200b\u540d\u79f0\u200b,\u200b\u4f46\u200b\u6709\u200b\u7b80\u5355\u200b\u7684\u200b\u65b9\u6cd5\u200b\u6765\u67e5\u200b\u5916\u952e\u200b\u5bf9\u5e94\u200b\u7684\u200b\u5177\u4f53\u200b\u5b57\u200b\u6bb5\u200b:</p> <pre><code>ret = models.Book.objects.filter(id=1).values_list(\"publisher__name\")\nprint(ret)\n</code></pre> <p>\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\u5c31\u200b\u8868\u793a\u200b\u8de8\u200b\u4e86\u200b\u8868\u200b,\u200b\u524d\u8fb9\u200b\u7684\u200bpublisher\u200b\u662f\u200b\u8868\u540d\u200b,\u200b\u540e\u8fb9\u200b\u662f\u200b\u8868\u793a\u200b\u5b57\u6bb5\u540d\u200b.\u200b\u7531\u4e8e\u200b\u662f\u200b\u62ff\u5230\u200b\u5177\u4f53\u200b\u503c\u200b,\u200b\u6240\u4ee5\u200b\u53ea\u80fd\u200b\u5728\u200bvalues\u200b\u548c\u200bvalues_list\u200b\u91cc\u200b\u5e94\u7528\u200b\u8be5\u200b\u65b9\u6cd5\u200b.</p> <p>\u200b\u53cd\u5411\u200b\u67e5\u8be2\u200b,\u200b\u5982\u679c\u200b\u8981\u67e5\u200b\u4e00\u4e2a\u200b\u51fa\u7248\u793e\u200b\u6240\u6709\u200b\u7684\u200b\u4e66\u200b,\u200b\u6709\u4e2a\u200b\u7279\u6b8a\u200b\u7684\u200b\u65b9\u6cd5\u200b\u662f\u200b\u8868\u540d\u200b+_set\u200b\u6765\u200b\u53cd\u200b\u7740\u200b\u627e\u200b\u201d\u200b\u4e00\u5bf9\u200b\u591a\u200b\u201d\u200b\u91cc\u200b\u7684\u200b\u201d\u200b\u591a\u200b\u201d,\u200b\u6765\u770b\u200b\u4f8b\u5b50\u200b:</p> <pre><code>publisher_obj = models.Publisher.objects.first()  # \u200b\u627e\u5230\u200b\u7b2c\u4e00\u4e2a\u200b\u51fa\u7248\u793e\u200b\u5bf9\u8c61\u200b\nbooks = publisher_obj.book_set.all()  # \u200b\u627e\u5230\u200b\u7b2c\u4e00\u4e2a\u200b\u51fa\u7248\u793e\u200b\u51fa\u7248\u200b\u7684\u200b\u6240\u6709\u200b\u4e66\u200b\ntitles = books.values_list(\"title\")\n</code></pre> <p>\u200b\u8fd9\u91cc\u200b\u7684\u200bbook\u200b\u662f\u200b\u8868\u540d\u200b,\u200b\u540e\u8fb9\u200b\u52a0\u4e0a\u200b_set\u200b\u5c31\u200b\u8868\u793a\u200b\u6765\u200b\u53cd\u200b\u7740\u200b\u627e\u200b,\u200b\u7ed3\u679c\u200b\u662f\u200b\u4e00\u4e2a\u200bQuerySet,\u200b\u53ef\u4ee5\u200b\u628a\u200bbook\u200b\u8868\u91cc\u200b\u7531\u200b\u7b2c\u4e00\u4e2a\u200b\u51fa\u7248\u793e\u200b\u51fa\u7248\u200b\u7684\u200b\u6240\u6709\u200b\u4e66\u200b\u90fd\u200b\u627e\u5230\u200b. \u200b\u5982\u679c\u200b\u5728\u200bbook\u200b\u8868\u200b\u7684\u200b\u5916\u952e\u200b\u91cc\u200b\u7ed9\u200b\u5916\u952e\u200b\u6307\u5b9a\u200b\u4e86\u200brelated_name,\u200b\u90a3\u4e48\u200b\u6b64\u65f6\u200b\u5c31\u200b\u4e0d\u8981\u200b\u7528\u8868\u540d\u200b,\u200b\u76f4\u63a5\u200b\u7528\u200brelated_name\u200b\u7684\u200b\u540d\u5b57\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4e86\u200b.\u200b\u6bd4\u5982\u200b\u6307\u5b9a\u200b\u4e86\u200brelated_name\u200b\u4e3a\u200ball_books.\u200b\u4e0a\u8fb9\u200b\u4f8b\u5b50\u200b\u7684\u200b\u7b2c\u4e8c\u53e5\u200b\u8bdd\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u6539\u5199\u200b\u6210\u200b:</p> <pre><code>books = publisher_obj.allbook.all()\n</code></pre> <p>\u200b\u6ce8\u610f\u200b,\u200b\u5982\u679c\u200b\u8d77\u200b\u4e86\u200b\u5916\u952e\u200b\u522b\u540d\u200b,\u200b\u518d\u200b\u4f7f\u7528\u200b\u539f\u8868\u540d\u200b_set\u200b\u4f1a\u200b\u62a5\u9519\u200b.\u200b\u5b9e\u9645\u4e0a\u200b\u522b\u540d\u200b\u4ee3\u66ff\u200b\u4e86\u200b\u539f\u6765\u200b\u5bf9\u8c61\u200b\u4e0a\u200b\u7684\u200b\u8868\u540d\u200b_set\u200b\u65b9\u6cd5\u200b. \u200b\u540c\u6837\u200b,\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u67e5\u5b57\u200b\u6bb5\u200b,\u200b\u4e5f\u200b\u662f\u200b\u7528\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\u6765\u200b\u8fde\u63a5\u200b\u8868\u540d\u200b\u548c\u200b\u5b57\u200b\u6bb5\u200b.</p> <pre><code>ret = models.Publisher.objects.filter(id=1).values_list(\"book__title\")\nprint(ret)\n</code></pre> <p>book\u200b\u662f\u200b\u8868\u540d\u200b,title\u200b\u662f\u200b\u5b57\u6bb5\u540d\u200b.\u200b\u6ce8\u610f\u200b,\u200b\u8fd9\u91cc\u200b\u5982\u679c\u200b\u5916\u952e\u200b\u6307\u5b9a\u200b\u4e86\u200brelated_name\u200b\u7684\u200b\u503c\u200b\u800c\u200b\u6ca1\u6709\u200b\u6307\u5b9a\u200brelated_query_name\u200b\u7684\u200b\u503c\u200b,\u200b\u5219\u200b\u9700\u8981\u200b\u5c06\u200bbook\u200b\u6362\u6210\u200b\u5176\u200brelated_name\u200b\u7684\u200b\u503c\u200b,\u200b\u5982\u679c\u200b\u540c\u65f6\u200b\u6307\u5b9a\u200b\u4e86\u200brelated_name\u200b\u548c\u200brelated_query_name\u200b\u7684\u200b\u503c\u200b,\u200b\u5219\u200b\u9700\u8981\u200b\u6362\u6210\u200brelated_query_name\u200b\u7684\u200b\u503c\u200b,\u200b\u5982\u679c\u200b\u53ea\u200b\u6307\u5b9a\u200b\u4e86\u200brelated_query_name\u200b\u7684\u200b\u503c\u200b,\u200b\u4e5f\u200b\u9700\u8981\u200b\u6362\u6210\u200b\u5176\u503c\u200b. \u200b\u7ed3\u679c\u200b\u5f97\u5230\u200b\u7684\u200b\u662f\u200b\u5143\u7d20\u200b\u4e3a\u200b\u5143\u7ec4\u200b\u7684\u200b\u5217\u8868\u200b,\u200b\u6bcf\u4e2a\u200b\u5143\u7ec4\u200b\u5185\u200b\u5c31\u662f\u200b\u67e5\u8be2\u200b\u5b57\u6bb5\u200b\u7684\u200b\u7ed3\u679c\u200b.</p>","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_query_summary/#manytomanyfield","title":"ManyToManyField \u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u67e5\u8be2","text":"<p>\u200b\u5728\u200bORM\u200b\u4e2d\u200b,\u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u4ee5\u53ca\u200b\u5916\u952e\u200b\u7684\u200b\u53cd\u5411\u200b\u67e5\u8be2\u200b(\u200b\u7ed3\u679c\u200b\u96c6\u90fd\u200b\u662f\u200b\u53d6\u5230\u200b\u591a\u4e2a\u200b\u5bf9\u8c61\u200b\u7684\u200b\u65f6\u5019\u200b),\u200b\u5185\u90e8\u200b\u90fd\u200b\u662f\u200b\u901a\u8fc7\u200b\u4e00\u4e2a\u200b\u53eb\u505a\u200b RelatedManager\u200b\u7c7b\u200b\u7684\u200b\u5b9e\u4f8b\u200b,\u200b\u5373\u200b\u5173\u8054\u200b\u4e0a\u4e0b\u6587\u200b\u7ba1\u7406\u5668\u200b\u6765\u200b\u64cd\u4f5c\u200b\u7684\u200b. \u200b\u6bd4\u5982\u200b\u5728\u5916\u200b\u952e\u200b\u7684\u200b\u4f8b\u5b50\u200b\u4e2d\u200b,\u200b\u5982\u679c\u200b\u6253\u5370\u200b<code>publisher_obj.allbook</code>,\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\u7ed3\u679c\u200b\u662f\u200b\u4e00\u4e2a\u200b RelatedManager\u200b\u7c7b\u200b.\u200b\u9488\u5bf9\u200b\u8fd9\u4e2a\u200b\u7c7b\u200b,\u200b\u50cf\u200b.all()\u200b\u5c31\u662f\u200b\u53d6\u200b\u5168\u90e8\u200b\u7ed3\u679c\u200b,\u200b\u9664\u6b64\u4e4b\u5916\u200b,\u200b\u9488\u5bf9\u200b\u8fd9\u4e2a\u200b\u7c7b\u200b\u8fd8\u6709\u200b\u4e00\u4e9b\u200b\u7279\u6b8a\u200b\u7684\u200b\u64cd\u4f5c\u200b:</p> <p><code>create()</code> \u200b\u7528\u4e8e\u200b\u4ece\u200b\u521b\u5efa\u200b\u4e00\u5bf9\u200b\u591a\u200b\u5173\u7cfb\u200b</p> <pre><code>models.Author.objects.first().book_set.create(title=\"\u200b\u756a\u8304\u200b\u7269\u8bed\u200b\", publish_date=datetime.date.today())\n</code></pre> <p>\u200b\u901a\u8fc7\u200bAuthor.objects.first()\u200b\u53d6\u200b\u5230\u200b\u4e00\u4e2a\u200b\u5177\u4f53\u200b\u7684\u200b\u4f5c\u8005\u200b\u5bf9\u8c61\u200b,\u200b\u7136\u540e\u200b.book_set\u200b\u53d6\u200b\u5230\u200b\u4e0a\u4e0b\u6587\u200b\u7ba1\u7406\u5668\u200b\u5bf9\u8c61\u200b,\u200b\u7136\u540e\u200b\u5bf9\u200b\u8fd9\u4e2a\u200b\u5bf9\u8c61\u200b\u8fdb\u884c\u200b.create\u200b\u65b9\u6cd5\u200b,\u200b\u7ed3\u679c\u200b\u662f\u200b\u5148\u200b\u5728\u200bbook\u200b\u8868\u5185\u200b\u5efa\u7acb\u200b\u4e00\u200b\u672c\u4e66\u200b,\u200b\u7136\u540e\u200b\u5728\u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u7684\u200b\u8868\u5185\u200b\u5efa\u7acb\u200b\u8fd9\u200b\u672c\u4e66\u200b\u4e0e\u200b\u8fd9\u4e2a\u200b\u4f5c\u8005\u200b\u7684\u200b\u5173\u7cfb\u200b.</p> <p><code>add()</code> \u200b\u64cd\u4f5c\u200b\u4e00\u4e2a\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\u7684\u200b\u5bf9\u8c61\u200b,\u200b\u5c06\u200b\u5bf9\u8c61\u200b\u6dfb\u52a0\u200b\u5230\u200b\u5bf9\u5e94\u200b\u5173\u7cfb\u200b\u91cc\u200b</p> <pre><code>new_book = models.book.objects.create(name= '\u200b\u65b0\u200b\u7684\u200b\u4e66\u200b').save()  # \u200b\u5728\u200bbook\u200b\u8868\u5185\u200b\u5efa\u7acb\u200b\u4e00\u672c\u200b\u65b0\u4e66\u200b\nmodels.Author.objects.first().book_set.add(new_book)  # \u200b\u5728\u200b\u591a\u200b\u5bf9\u200b\u591a\u8868\u5185\u200b\u6dfb\u52a0\u200b\u4e00\u884c\u200b,\u200b\u8bb0\u5f55\u200b\u7b2c\u4e00\u4e2a\u200b\u4f5c\u8005\u200b\u548c\u200b\u8fd9\u672c\u200b\u65b0\u4e66\u200b\u7684\u200b\u5bf9\u5e94\u200b\u5173\u7cfb\u200b.\n</code></pre> <p>add\u200b\u7684\u200b\u53c2\u6570\u200b\u53ef\u4ee5\u200b\u662f\u200b\u5bf9\u8c61\u200b,\u200b\u53ef\u4ee5\u200b\u662f\u200b\u89e3\u5f00\u200b\u7684\u200bQeurySet\u200b\u5bf9\u8c61\u200b(ret),\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6570\u5b57\u200b\u8868\u793a\u200bid\u200b\u6216\u8005\u200b\u62c6\u89e3\u200b\u5f00\u200b\u7684\u200b\u5217\u8868\u200bid,\u200b\u5982\u200badd([3,12,19]).</p> <p><code>set()</code> \u200b\u4e00\u6b21\u6027\u200b\u5728\u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u8868\u91cc\u200b\u8bbe\u7f6e\u200b\u4e00\u7ec4\u200b\u5bf9\u5e94\u200b\u5173\u7cfb\u200b \u200b\u5728\u200b\u4e4b\u524d\u200b\u7684\u200b\u9879\u76ee\u200b\u4e2d\u200b\u5df2\u7ecf\u200b\u4f7f\u7528\u200b\u8fc7\u200bset\u200b\u4e86\u200b,\u200b\u5176\u200b\u7ed3\u679c\u200b\u5c31\u662f\u200b\u5c06\u200b\u5bf9\u5e94\u200b\u7684\u200b\u4e00\u7ec4\u200bid\u200b\u6216\u8005\u200b\u5bf9\u8c61\u200b\u4ee3\u8868\u200b\u7684\u200b\u5185\u5bb9\u200b,\u200b\u5728\u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u8868\u91cc\u200b\u53bb\u200b\u5f53\u524d\u200b\u5bf9\u8c61\u200b\u8054\u7cfb\u200b\u8d77\u6765\u200b/</p> <pre><code>book_obj = models.Book.objects.first()\nbook_obj.authors.set([2, 3])\n</code></pre> <p>\u200b\u8fd9\u4e2a\u200b\u4f8b\u5b50\u200b\u5c31\u662f\u200b\u5c06\u200b\u7b2c\u4e00\u200b\u672c\u4e66\u200b\u4e0e\u200bid\u200b\u4e3a\u200b2,3\u200b\u7684\u200b\u4f5c\u8005\u200b\u5728\u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u8868\u91cc\u200b\u8054\u7cfb\u200b\u8d77\u6765\u200b.</p> <p><code>remove()</code> \u200b\u79fb\u9664\u200b\u53c2\u6570\u200b\u6307\u5b9a\u200b\u7684\u200b\u5bf9\u8c61\u200b\u4e0e\u200b\u5f53\u524d\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5bf9\u5e94\u200b\u5173\u7cfb\u200b</p> <pre><code>book_obj = models.Book.objects.first()\nbook_obj.authors.remove(3)\n</code></pre> <p>remove\u200b\u63a5\u53d7\u200b\u7684\u200b\u53c2\u6570\u200b\u548c\u200badd\u200b\u4e00\u6837\u200b.</p> <p><code>clear()</code> \u200b\u8868\u793a\u200b\u6e05\u9664\u200b\u5f53\u524d\u200b\u5bf9\u8c61\u200b\u5728\u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u8868\u91cc\u200b\u5bf9\u5e94\u200b\u67d0\u4e2a\u200b\u8868\u200b\u7684\u200b\u5168\u90e8\u200b\u5bf9\u5e94\u200b\u5173\u7cfb\u200b.</p> <pre><code>book_obj = models.Book.objects.first()\nbook_obj.authors.clear()\n</code></pre> <p>\u200b\u8fd9\u4e2a\u200b\u64cd\u4f5c\u200b\u7684\u200b\u610f\u601d\u200b\u8868\u793a\u200b\u79fb\u9664\u200b\u7b2c\u4e00\u200b\u672c\u4e66\u200b\u548c\u200b\u6240\u6709\u200b\u4f5c\u8005\u200b\u7684\u200b\u5173\u8054\u200b\u5173\u7cfb\u200b.\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5728\u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u8868\u91cc\u200b\u5220\u9664\u200b\u6240\u6709\u200bbook_id = 1\u200b\u7684\u200b\u6570\u636e\u200b\u884c\u200b.</p> <p>\u200b\u7531\u4e8e\u200b\u4e0a\u4e0b\u6587\u200b\u7ba1\u7406\u5668\u200b\u5728\u5916\u200b\u952e\u200b\u7684\u200b\u53cd\u5411\u200b\u67e5\u8be2\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u4e5f\u200b\u5b58\u5728\u200b,\u200b\u56e0\u6b64\u200b\u4e5f\u200b\u662f\u200b\u53ef\u4ee5\u200b\u7528\u200b\u4e0a\u8fb9\u200b\u4e94\u79cd\u200b\u65b9\u6cd5\u200b\u6765\u200b\u64cd\u4f5c\u200b\u7684\u200b,\u200b\u53ea\u4e0d\u8fc7\u200b\u5728\u5916\u200b\u952e\u200b\u53cd\u5411\u200b\u67e5\u8be2\u200b\u4e2d\u200b,\u200b\u4e0d\u200b\u5b58\u5728\u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u7684\u200b\u8868\u683c\u200b.\u200b\u6240\u4ee5\u200bclear()\u200b\u548c\u200bremove()\u200b\u64cd\u4f5c\u200b\u5b9e\u9645\u4e0a\u200b\u662f\u200b\u5c06\u200b\u5916\u952e\u200b\u90a3\u200b\u4e00\u5217\u200b\u4fee\u6539\u200b\u6210\u200bNull,\u200b\u56e0\u6b64\u200b\u5fc5\u987b\u200b\u8981\u6c42\u200b\u5916\u952e\u200b\u8bbe\u7f6e\u200b\u6210\u200bNull=True,\u200b\u5426\u5219\u200b\u4f1a\u200b\u62a5\u9519\u200b.</p>","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_query_summary/#_3","title":"\u4e00\u5bf9\u4e00\u200b\u67e5\u8be2","text":"<p>\u200b\u4e00\u5bf9\u4e00\u200b\u7684\u200b\u5173\u7cfb\u200b\u5b57\u6bb5\u200b\u662f\u200bmodels.OneToOneField(to=).\u200b\u5b9e\u9645\u4e0a\u200b\u6b63\u67e5\u200b\u53cd\u67e5\u200b\u90fd\u200b\u662f\u200b\u53ea\u80fd\u200b\u51fa\u6765\u200b\u4e00\u6761\u200b\u5b57\u200b\u6bb5\u200b.\u200b\u4e0d\u518d\u200b\u8d58\u8ff0\u200b.\u200b\u5176\u5b9e\u200b\u7528\u200bid\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u53d6\u5f97\u200b\u76f8\u540c\u200b\u7684\u200b\u6570\u636e\u200b. \u200b\u8fd9\u91cc\u200b\u6709\u200b\u4e00\u7bc7\u200b\u6587\u7ae0\u200b\u8bb2\u200b\u4e86\u200bDjango\u200b\u4e2d\u200b\u5173\u7cfb\u200b\u7684\u200b\u603b\u7ed3\u200b.</p>","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_query_summary/#_4","title":"\u4f7f\u7528\u200b\u805a\u5408\u200b\u51fd\u6570\u200b\u4e0e\u200b\u5206\u7ec4\u200b\u67e5\u8be2","text":"<p>\u200b\u5728\u200bORM\u200b\u4e2d\u200b,\u200b\u4e00\u6837\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4fbf\u5229\u200b\u7684\u200b\u805a\u5408\u200b\u51fd\u6570\u200b\u4ee5\u53ca\u200b\u975e\u5e38\u200b\u5e38\u89c1\u200b\u7684\u200b\u5206\u7ec4\u200b\u67e5\u8be2\u200b.</p>","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_query_summary/#_5","title":"\u805a\u5408\u200b\u51fd\u6570","text":"<p>\u200b\u805a\u5408\u200b\u51fd\u6570\u200b\u7684\u200b\u65b9\u6cd5\u200b\u662f\u200b<code>aggregate()</code>,\u200b\u5728\u200b\u4f7f\u7528\u200b\u8fd9\u4e2a\u200b\u65b9\u6cd5\u200b\u4e4b\u540e\u200b,\u200b\u67e5\u8be2\u200b\u8bed\u53e5\u200b\u5c31\u200b\u7ed3\u675f\u200b\u4e86\u200b,\u200b\u8fd9\u4e2a\u200b\u65b9\u6cd5\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u5b57\u5178\u200b,\u200b\u91cc\u8fb9\u200b\u5305\u542b\u200b\u7740\u200b\u4f7f\u7528\u200b\u805a\u5408\u200b\u51fd\u6570\u200b\u7684\u200b\u7ed3\u679c\u200b. \u200b\u5728\u200b\u4f7f\u7528\u200b\u805a\u5408\u200b\u51fd\u6570\u200b\u4e4b\u524d\u200b,\u200b\u5fc5\u987b\u200b\u5bfc\u5165\u200b\u5bf9\u5e94\u200b\u7684\u200b\u805a\u5408\u200b\u51fd\u6570\u200b\u6a21\u5757\u200b:</p> <pre><code>from django.db.models import Avg, Sum, Max, Min, Count\n</code></pre> <p>\u200b\u8fd9\u4e9b\u200b\u51fd\u6570\u200b\u7684\u200b\u53c2\u6570\u200b\u90fd\u200b\u662f\u200b\u5b57\u6bb5\u540d\u200b\u79f0\u200b.\u200b\u5bf9\u4e8e\u200b\u751f\u6210\u200b\u7684\u200b\u7ed3\u679c\u200b\u5b57\u5178\u200b,\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u6307\u5b9a\u200b\u540d\u79f0\u200b,\u200b\u5219\u200bDjango\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u8bbe\u7f6e\u200b\u4e00\u4e2a\u200b\u540d\u79f0\u200b.\u200b\u5982\u679c\u200b\u6307\u5b9a\u200b\u4e86\u200b\u540d\u79f0\u200b,\u200b\u5c31\u200b\u4f1a\u200b\u4f7f\u7528\u200b\u6307\u5b9a\u200b\u7684\u200b\u540d\u79f0\u200b,\u200b\u7136\u540e\u200b\u518d\u200b\u4ece\u200b\u5b57\u5178\u200b\u91cc\u200b\u53d6\u6570\u200b\u5373\u53ef\u200b:</p> <pre><code>models.Book.objects.all().aggregate(Avg(\"price\"))\n# \u200b\u7ed3\u679c\u200b\u662f\u200b{'price__avg': 13.233333},\u200b\u5176\u4e2d\u200b\u7684\u200b\"price__avg\"\u200b\u7531\u200bDjango\u200b\u81ea\u52a8\u200b\u751f\u6210\u200b\n\nmodels.Book.objects.aggregate(average_price=Avg('price'))\n# \u200b\u7ed3\u679c\u200b\u662f\u200b{'average_price': 13.233333}, \u200b\u5176\u4e2d\u200b\u7684\u200b\"average_price\"\u200b\u662f\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u540d\u79f0\u200b.\n\nmodels.Book.objects.all().aggregate(Avg(\"price\"), Max(\"price\"), Min(\"price\"))\n# \u200b\u540c\u65f6\u200b\u4f7f\u7528\u200b\u591a\u4e2a\u200b\u805a\u5408\u200b\u51fd\u6570\u200b,\u200b\u53ef\u4ee5\u200b\u7528\u200b\u9017\u53f7\u200b\u5206\u5272\u200b,\u200b\u7ed3\u679c\u200b\u5b57\u5178\u200b\u4e2d\u200b\u4f1a\u200b\u5305\u62ec\u200b\u5168\u90e8\u200b\u7ed3\u679c\u200b.\n</code></pre>","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_query_summary/#_6","title":"\u5206\u7ec4","text":"<p>\u200b\u5206\u7ec4\u200b\u7684\u200b\u65b9\u6cd5\u200b\u662f\u200b<code>.annotate()</code>.\u200b\u8fd9\u91cc\u200b\u53ef\u80fd\u200b\u6709\u70b9\u200b\u62bd\u8c61\u200b,\u200b\u5176\u5b9e\u200bannotate\u200b\u7684\u200b\u4f5c\u7528\u200b\u5c31\u662f\u200b\u5148\u200b\u6309\u7167\u200b\u4e4b\u524d\u200b\u7684\u200b\u67e5\u627e\u200b\u65b9\u5f0f\u200b\u8fd4\u56de\u200b\u6570\u636e\u200b,\u200b\u518d\u200b\u5c06\u200b\u8fd4\u56de\u200b\u7684\u200b\u591a\u884c\u200b\u6570\u636e\u200b\u6309\u7167\u200b\u67d0\u4e2a\u200b\u6307\u5b9a\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u8fdb\u884c\u200b\u5206\u7ec4\u200b\u64cd\u4f5c\u200b,\u200b\u7136\u540e\u200b\u5c06\u200b\u5206\u7ec4\u200b\u8fc7\u200b\u7684\u200b\u6bcf\u200b\u4e00\u884c\u200b\u7ed3\u679c\u200b\u90fd\u200b\u5305\u200b\u5728\u200b\u4e00\u4e2a\u200bQuerySet\u200b\u4e2d\u200b\u8fd4\u56de\u200b.\u200b\u5176\u4e2d\u200b.annotate\u200b\u4e4b\u524d\u200b\u7684\u200b\u90e8\u5206\u200b\u5982\u679c\u200b\u662f\u200b\u901a\u8fc7\u200b\u5916\u952e\u200b\u67e5\u8be2\u200b,\u200b\u5176\u200b\u672c\u8eab\u200b\u5c31\u200b\u76f8\u5f53\u4e8e\u200b\u8fde\u8868\u200b\u64cd\u4f5c\u200b,\u200b\u518d\u200b\u5206\u7ec4\u200b\u4e4b\u540e\u200b\u5c31\u662f\u200b\u5206\u7ec4\u200b\u540e\u200b\u7684\u200bQuerySet\u200b\u4e86\u200b. \u200b\u6bd4\u5982\u200b\u5728\u200b\u81ea\u5df1\u200b\u7f16\u5199\u200b\u7684\u200b\u884c\u653f\u200b\u7269\u54c1\u200b\u7ba1\u7406\u7cfb\u7edf\u200b\u5185\u200b,\u200b\u9700\u8981\u200b\u5217\u51fa\u200b\u6bcf\u200b\u4e00\u79cd\u200b\u7269\u54c1\u200b\u7684\u200b\u7ed3\u4f59\u200b,\u200b\u5373\u200b\u901a\u8fc7\u200b\u7269\u54c1\u200b\u5217\u8868\u200b\u67e5\u5230\u200b\u6bcf\u200b\u4e00\u79cd\u200b\u7269\u54c1\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6240\u6709\u200b\u51fa\u5165\u5e93\u200b\u8bb0\u5f55\u200b,\u200b\u518d\u200b\u5c06\u200b\u51fa\u5e93\u200b\u548c\u200b\u5165\u5e93\u200b\u8bb0\u5f55\u200b\u6c42\u548c\u200b\u5206\u522b\u200b\u6c42\u548c\u200b\u5e76\u200b\u76f8\u51cf\u200b. \u200b\u7528\u200bSQL\u200b\u8bed\u53e5\u200b\u662f\u200b\u5148\u200b\u901a\u8fc7\u200bmove\u200b\u7684\u200bitem_id\u200b\u8fde\u8868\u200b,\u200b\u7136\u540e\u200b\u6309\u7167\u200bitem_id\u200b\u5206\u7ec4\u200b\u5e76\u200b\u5bf9\u200bin_num\u200b\u548c\u200bout_num\u200b\u5b57\u200b\u6bb5\u200b\u8fdb\u884c\u200b\u6c42\u548c\u200b\u518d\u200b\u76f8\u51cf\u200b. \u200b\u5728\u200bORM\u200b\u91cc\u200b,\u200b\u901a\u8fc7\u200b\u7269\u54c1\u200b\u5217\u8868\u200b\u7684\u200b\u8fd9\u200b\u4e00\u6bb5\u200b\u5199\u200b\u5728\u200b\u524d\u8fb9\u200b,\u200b\u5230\u200b\u5916\u952e\u200b\u6240\u5728\u200b\u7684\u200b\u8868\u53bb\u200b\u67e5\u8be2\u200b,\u200b\u5219\u200b\u5c06\u200b\u5916\u952e\u200b\u6240\u5728\u200b\u7684\u200b\u8868\u53ca\u200b\u5b57\u6bb5\u540d\u200b\u79f0\u5199\u200b\u5728\u200bannotate\u200b\u5185\u90e8\u200b\u7684\u200b\u805a\u5408\u200b\u51fd\u6570\u200b\u5185\u200b,\u200b\u5373\u200b\u50cf\u200b\u8fd9\u6837\u200b:</p> <pre><code>ret = models.Items.objects.all().annotate(num_balance=Sum(\"moves__in_num\") - Sum(\"moves__out_num\"))\n</code></pre> <p>\u200b\u524d\u8fb9\u200b\u7684\u200b<code>ret = models.Items.objects.all()</code>\u200b\u8868\u793a\u200b\u6309\u7167\u200b\u6240\u6709\u200b\u7684\u200b\u7269\u54c1\u200b\u5206\u7ec4\u200b.\u200b\u7531\u4e8e\u200b\u662f\u200b\u6b63\u5411\u200b\u67e5\u8be2\u200b\u5373\u200b\u901a\u8fc7\u200b\u7269\u54c1\u200b\u67e5\u200b\u4f59\u989d\u200b,\u200b\u6240\u4ee5\u200b<code>moves__in_num</code>\u200b\u548c\u200b<code>moves__out_num</code>\u200b\u5176\u4e2d\u200b\u91c7\u53d6\u200b\u8868\u540d\u200b__\u200b\u5b57\u6bb5\u540d\u200b\u7684\u200b\u5199\u6cd5\u200b.<code>.annotate</code>\u200b\u5c31\u200b\u8868\u793a\u200b\u6309\u7167\u200b\u4e4b\u524d\u200b\u7684\u200b\u5bf9\u8c61\u200b\u5206\u7ec4\u200b\u5e76\u4e14\u200b\u6309\u7167\u200b\u53c2\u6570\u200b\u4e2d\u200b\u7684\u200b\u67d0\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\u8fdb\u884c\u200b\u5904\u7406\u200b,\u200b\u8fd9\u91cc\u200b\u662f\u200b\u5206\u7ec4\u200b\u4ee5\u540e\u200b\u5bf9\u200b\u5206\u7ec4\u200b\u7684\u200bin_num\u200b\u6c42\u548c\u200b\u518d\u200b\u51cf\u53bb\u200bout_num\u200b\u7684\u200b\u6c42\u548c\u200b,\u200b\u5c31\u200b\u5f97\u5230\u200b\u4e86\u200b\u6309\u7167\u200b\u7269\u54c1\u200b\u5206\u7ec4\u200b\u7684\u200b\u4f59\u989d\u200b.\u200b\u8fd9\u91cc\u200b\u662f\u200b\u53cd\u5411\u200b\u64cd\u4f5c\u200b,\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b\u5c0f\u5199\u200b\u7684\u200b\u7c7b\u540d\u200b\u5373\u53ef\u200b,\u200b\u4e0d\u7528\u200b\u52a0\u200b__set,\u200b\u5982\u679c\u200b\u662f\u200b\u6b63\u5411\u200b,\u200b\u7528\u200b\u5916\u952e\u200b\u4e5f\u200b\u53ef\u4ee5\u200b.(\u200b\u5f53\u7136\u200b\u4e00\u822c\u200b\u5206\u7ec4\u200b\u4e0d\u4f1a\u200b\u7528\u200b\u6b63\u5411\u200b\u67e5\u8be2\u200b) ret\u200b\u662f\u200b\u4e00\u4e2a\u200bQuerySet,\u200b\u5176\u4e2d\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b,\u200b\u8868\u793a\u200b\u4e00\u884c\u200b\u7ecf\u8fc7\u200b\u5206\u7ec4\u200b\u8fc7\u540e\u200b\u7684\u200b\u6570\u636e\u200b,\u200b\u8fd9\u200b\u4e00\u884c\u200b\u91cc\u200b\u7684\u200b\u5c5e\u6027\u200b\u5305\u62ec\u200bItems\u200b\u8868\u91cc\u200b\u7684\u200b\u5168\u90e8\u200b\u5c5e\u6027\u200b,\u200b\u4ee5\u53ca\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200bnum_balance\u200b\u5c5e\u6027\u200b.</p> <p>\u200b\u8fd9\u91cc\u200b\u76f4\u63a5\u200b\u5c31\u200b\u4f7f\u7528\u200b\u4e86\u200b\u8de8\u8868\u200b\u67e5\u8be2\u200b,\u200b\u5982\u679c\u200b\u60f3\u200b\u5728\u200b\u540c\u4e00\u4e2a\u200b\u8868\u5185\u200b,\u200b\u6309\u7167\u200b\u67d0\u200b\u4e00\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\u8fdb\u884c\u200b\u5206\u7ec4\u200b,\u200b\u50cf\u200b\u4e0a\u8fb9\u200b\u4f8b\u5b50\u200b\u91cc\u200b\u7684\u200b<code>models.Items.objects.all()</code>\u200b\u7684\u200b\u90e8\u5206\u200b,\u200b\u5c31\u200b\u9700\u8981\u200b\u6539\u6210\u200b\u5f53\u524d\u200b\u8868\u91cc\u200b\u5b57\u6bb5\u200b\u7684\u200b\u7528\u200bvalues\u200b\u7684\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b,\u200b\u4e5f\u200b\u5c31\u662f\u200b\u544a\u8bc9\u200bORM\u200b\u6309\u7167\u200b\u54ea\u4e2a\u200b\u5b57\u6bb5\u200b\u6765\u200b\u5206\u7ec4\u200b. \u200b\u5728\u200b\u81ea\u5df1\u200b\u7f16\u5199\u200b\u7684\u200b\u8fdb\u9500\u5b58\u200b\u7cfb\u7edf\u200b\u4e2d\u200b,\u200b\u67e5\u8be2\u200bmoves\u200b\u8868\u200b\u6309\u7167\u200bitem_id\u200b\u5206\u7c7b\u200b\u7684\u200bin_sum\u200b\u5b57\u6bb5\u200b\u7684\u200b\u548c\u200b:</p> <pre><code>ret = models.Moves.objects.values(\"item_id\").annotate(insum = Sum(\"in_num\"))\n</code></pre> <p>\u200b\u8fd9\u4e2a\u200b\u5c31\u662f\u200b\u5148\u7528\u200b\u4e86\u200bitem_id\u200b\u8fc7\u6ee4\u200b\u51fa\u200b\u5185\u5bb9\u200b,\u200b\u7ed3\u679c\u200b\u7684\u200bQuerySet\u200b\u91cc\u200b\u53ea\u200b\u5305\u62ec\u200bitem_id\u200b\u5b57\u6bb5\u200b\u7684\u200b\u503c\u200b,\u200b\u7136\u540e\u200b\u5728\u200b\u5bf9\u200b\u5176\u200b\u8fdb\u884c\u200b\u5206\u7ec4\u200b\u5e76\u200b\u5bf9\u200b\u5bf9\u5e94\u200b\u7684\u200bin_num\u200b\u5b57\u200b\u6bb5\u200b\u6c42\u548c\u200b,\u200b\u6c42\u548c\u200b\u7684\u200b\u7ed3\u679c\u200b\u653e\u5230\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u7ed3\u679c\u200b\u91cc\u200b\u7684\u200binsum\u200b\u5b57\u6bb5\u540d\u200b\u4e2d\u200b. ret\u200b\u5b9e\u9645\u4e0a\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b\u5206\u7ec4\u200b\u5e76\u4e14\u200b\u8ba1\u7b97\u200b\u8fc7\u200b\u7684\u200b\u8868\u200b\u7684\u200b\u6bcf\u200b\u4e00\u884c\u200b\u5185\u5bb9\u200b\u7684\u200bQuerySet,\u200b\u518d\u200b\u4ece\u200b\u91cc\u8fb9\u200b\u53d6\u51fa\u200b\u6bcf\u200b\u4e00\u884c\u200b\u8fdb\u884c\u200b\u64cd\u4f5c\u200b\u548c\u200b\u5c55\u793a\u200b\u5373\u53ef\u200b.</p> <p>\u200b\u5206\u7ec4\u200b\u7684\u200b\u64cd\u4f5c\u200b\u4e0d\u662f\u200b\u592a\u200b\u76f4\u89c2\u200b,\u200b\u7528\u200b\u8fd9\u91cc\u200b\u5206\u7ec4\u200b\u7684\u200b\u4f8b\u5b50\u200b\u4e3e\u200b\u4e00\u4e2a\u200b\u4f8b\u5b50\u200b: \u200b\u5728\u200b\u4e00\u5f20\u200b\u8868\u5185\u200b\u8fdb\u884c\u200b\u5206\u7ec4\u200b,\u200b\u7528\u200bSQL\u200b\u8bed\u53e5\u200b\u6bd4\u8f83\u200b\u76f4\u89c2\u200b:</p> <pre><code>select dept,AVG(salary) from employee group by dept;\n</code></pre> <p>\u200b\u5982\u679c\u200b\u6362\u6210\u200bORM,\u200b\u9996\u5148\u200b\u660e\u786e\u200b\u662f\u200b\u8981\u67e5\u200b\u90a3\u200b\u5f20\u8868\u200b.\u200b\u8fd9\u4e2a\u200b\u67e5\u8be2\u200b\u53ea\u200b\u5728\u200b\u4e00\u4e2a\u200b\u8868\u5185\u200b\u67e5\u8be2\u200b,\u200b\u67e5\u8be2\u200b\u7684\u200b\u7ed3\u679c\u200b\u5305\u62ec\u200bdept\u200b\u548c\u200bAVG(salary),group by \u200b\u540e\u8fb9\u200b\u662f\u200bdept. \u200b\u8fd9\u200b\u8bf4\u660e\u200b\u6309\u7167\u200bdept\u200b\u5148\u200b\u5206\u7ec4\u200b,\u200b\u7136\u540e\u200b\u5bf9\u4e8e\u200b\u805a\u5408\u200b\u540e\u200b\u7684\u200b\u7ed3\u679c\u200b,\u200b\u7528\u200bavg\u200b\u5bf9\u200bsalary\u200b\u6c42\u200b\u5e73\u5747\u6570\u200b,\u200b\u6700\u540e\u200b\u8fd4\u56de\u200b\u5206\u7ec4\u200b\u540e\u200b\u7684\u200b\u90e8\u95e8\u200b\u548c\u200b\u7ed3\u679c\u200b.</p>","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_query_summary/#sqlorm","title":"SQL\u200b\u8bed\u53e5\u200b\u4e0e\u200bORM\u200b\u7684\u200b\u5bf9\u5e94\u200b\u5173\u7cfb\u200b:","text":"<p>\u200b\u7b2c\u4e00\u6b65\u200b:\u200b\u57fa\u7840\u200b\u5bf9\u5e94\u200b\u5173\u7cfb\u200b: models.Employee \u200b\u8868\u793a\u200b\u4ece\u200b\u90a3\u200b\u5f20\u8868\u200b\u8fdb\u884c\u200b\u67e5\u8be2\u200b,\u200b\u5373\u200bfrom. objects\u200b\u662f\u200b\u4e2d\u95f4\u4ef6\u200b\u7684\u200b\u540d\u79f0\u200b,\u200b\u4e0d\u7528\u200b\u7ba1\u200b .all\u200b\u8868\u793a\u200bSELECT * \u200b\u5982\u679c\u200b\u662f\u200b\u8981\u200b\u53d6\u200b\u5177\u4f53\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b,\u200b\u5c31\u200b\u7528\u200bvalues(\u201c\u200b\u5b57\u6bb5\u540d\u200b\u201d),\u200b\u6bd4\u5982\u200bvalues(\u201cdept\u201d)\u200b\u5c31\u200b\u76f8\u5f53\u4e8e\u200b SELECT dept. \u200b\u53ef\u89c1\u200b,\u200b\u5982\u679c\u200b\u60f3\u8981\u200b\u8fbe\u5230\u200bselect dept,AVG(salary) from employee\u200b\u7684\u200b\u6548\u679c\u200b,\u200b\u6211\u200b\u7684\u200bORM\u200b\u8bed\u53e5\u200b\u5bf9\u5e94\u200b\u7684\u200b\u90e8\u5206\u200b\u662f\u200b:</p> <pre><code>models.Employee.objects.values(\"dept,\"\u200b\u5e73\u5747\u6570\u200b\u7684\u200b\u522b\u540d\u200b\")\n</code></pre> <p>\u200b\u73b0\u5728\u200b\u5e73\u5747\u6570\u200b\u7684\u200b\u522b\u540d\u200b\u8fd8\u200b\u4e0d\u200b\u77e5\u9053\u200b,\u200b\u7ee7\u7eed\u200b\u5f80\u4e0b\u200b\u770b\u200b\u5206\u7ec4\u200b:</p> <p>\u200b\u7b2c\u4e8c\u6b65\u200b:\u200b\u5206\u7ec4\u200b\u4e0e\u200b\u805a\u5408\u200b\u5904\u7406\u200b</p> <pre><code>models.Employee.objects.values(\"dept,\"\u200b\u5e73\u5747\u6570\u200b\u7684\u200b\u522b\u540d\u200b\").annotate()\n</code></pre> <p>\u200b\u8fd9\u91cc\u200b\u7684\u200bannotate()\u200b\u5982\u679c\u200b\u4e0d\u4f20\u200b\u53c2\u6570\u200b,\u200b\u8868\u793a\u200b\u6309\u7167\u200b.all()\u200b\u5168\u90e8\u200b\u5206\u7ec4\u200b,\u200b\u4e00\u822c\u200b\u4e0d\u200b\u8fd9\u6837\u200b\u4f7f\u7528\u200b..annotate\u200b\u4e4b\u524d\u200b\u7684\u200bvalue\u200b\u8868\u793a\u200bGROUP BY\u200b\u4e4b\u540e\u200b\u7684\u200b\u5185\u5bb9\u200b,\u200b\u6240\u4ee5\u200b<code>values(\"dept\").annotate(my_avg=Avg(\"salary\"))</code>\u200b\u5c31\u200b\u8868\u793a\u200b\u6309\u7167\u200bdept\u200b\u8fdb\u884c\u200b\u5206\u7ec4\u200b,\u200b\u7136\u540e\u200b\u5bf9\u200bsalary\u200b\u8fdb\u884c\u200b\u6c42\u548c\u200b,\u200b\u5f97\u5230\u200b\u5206\u7ec4\u200b\u7684\u200b\u7ed3\u679c\u200b.</p> <p>\u200b\u7b2c\u4e09\u6b65\u200b:\u200b\u53d6\u200b\u5206\u7ec4\u200b\u540e\u200b\u7ed3\u679c\u200b \u200b\u7531\u4e8e\u200b\u5206\u7ec4\u200b\u7ed3\u679c\u200b\u7b97\u200b\u51fa\u6765\u200b\u4e86\u200b,\u200b\u662f\u200b\u4e00\u4e2a\u200bQuerySet,\u200b\u6309\u7167\u200b\u6211\u4eec\u200b\u7684\u200b\u9700\u6c42\u200b,\u200b\u6700\u200b\u524d\u8fb9\u200b\u662f\u200bSELECT dept, Avg(salary),\u200b\u73b0\u5728\u200bAvg(salary)\u200b\u7684\u200b\u522b\u540d\u200b\u6709\u200b\u4e86\u200b,\u200b\u6240\u4ee5\u200b\u8981\u200b\u5728\u200b\u6700\u540e\u200b\u518d\u200b\u52a0\u4e0a\u200b.values(\u201cdept\u201d,\u201dmy_avg\u201d). \u200b\u6700\u7ec8\u200b\u7ed3\u679c\u200b\u548c\u200b\u539f\u6765\u200bSQL\u200b\u8bed\u53e5\u200b\u7528\u200b\u989c\u8272\u200b\u6807\u8bc6\u200b\u7684\u200b\u5bf9\u5e94\u200b\u5173\u7cfb\u200b\u662f\u200b: <code>models.Employee.objects.values(\"dept\").annotate(my_avg=Avg(\"salary\").values(dept, \"my_avg\")</code> <code>select dept,AVG(salary) from employee group by dept;</code> ORM\u200b\u8bed\u53e5\u200b\u6a59\u8272\u200b\u7684\u200b\u90e8\u5206\u200b\u5176\u5b9e\u200b\u4e5f\u200b\u6db5\u76d6\u200b\u4e86\u200bSQL\u200b\u8bed\u53e5\u200b\u4e2d\u200b\u7684\u200bAvg(salary),\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200bORM\u200b\u91cc\u200b\u4f7f\u7528\u200b\u4e86\u200b\u522b\u540d\u200b.\u200b\u5b9e\u9645\u200b\u5bf9\u5e94\u200b\u5173\u7cfb\u200b\u8fd8\u662f\u200b\u53ef\u4ee5\u200b\u5f88\u200b\u6e05\u695a\u200b\u7684\u200b\u770b\u200b\u51fa\u6765\u200b.</p> <p>\u200b\u7b2c\u4e8c\u4e2a\u200b\u4f8b\u5b50\u200b\u662f\u200b\u8fde\u8868\u200b\u67e5\u8be2\u200b,dept_id\u200b\u5916\u952e\u200b\u5173\u8054\u200b\u5230\u200bdept\u200b\u8868\u200b. \u200b\u5982\u679c\u200b\u60f3\u5f97\u5230\u200b\u548c\u200b\u4e0a\u8fb9\u200b\u4f8b\u5b50\u200b\u4e00\u6837\u200b\u7684\u200b\u7ed3\u679c\u200b,\u200b\u5728\u200bSQL\u200b\u4e2d\u200b\u5c31\u662f\u200b\u5148\u8fde\u8868\u200b\u518d\u200b\u67e5\u8be2\u200b,\u200b\u5230\u200b\u4e86\u200bORM\u200b\u91cc\u200b,\u200b\u5176\u5b9e\u200b\u5c31\u662f\u200b\u901a\u8fc7\u200b\u5916\u952e\u200b\u8fdb\u884c\u200b\u7684\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\u67e5\u8be2\u200b\u53bb\u200b\u8de8\u8868\u200b: <code>select dept.name,AVG(salary) from employee inner join dept on (employee.dept_id=dept.id) group by dept_id</code>;</p> <pre><code>models.Dept.objects.annotate(avg=Avg(\"employee__salary\")).values(\"name\", \"avg\")\n</code></pre> <p>ORM\u200b\u91cc\u200b\u4ece\u200bDept\u200b\u8868\u200b\u53d1\u8d77\u200b\u67e5\u8be2\u200b\u5e76\u4e14\u200b\u5206\u7ec4\u200b,\u200b\u7531\u4e8e\u200bdept_id\u200b\u548c\u200bdept.name\u200b\u662f\u200b\u4e00\u4e00\u5bf9\u5e94\u200b\u7684\u200b,\u200b\u6240\u4ee5\u200b\u4ece\u200bDept\u200b\u53d1\u8d77\u200b\u67e5\u8be2\u200b\u540e\u200b\u76f4\u63a5\u200b\u63a5\u200b.annotate\u200b\u5c31\u200b\u53ef\u4ee5\u200b.\u200b\u540e\u8fb9\u200b\u7684\u200b\u5bf9\u5e94\u200b\u5173\u7cfb\u200b\u4e2d\u200b\u4ece\u200bdept\u200b\u8de8\u8868\u5230\u200bemployee\u200b\u5c31\u200b\u76f8\u5f53\u4e8e\u200b\u8fde\u8868\u200b,\u200b\u7136\u540e\u200b\u5bf9\u200bsalary\u200b\u8fdb\u884c\u200bAvg\u200b\u64cd\u4f5c\u200b,\u200b\u5176\u4ed6\u200b\u7684\u200b\u5bf9\u5e94\u200b\u5173\u7cfb\u200b\u548c\u200b\u4e0a\u8fb9\u200b\u7c7b\u4f3c\u200b.</p>","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_query_summary/#fq","title":"F\u200b\u67e5\u8be2\u200b\u548c\u200bQ\u200b\u67e5\u8be2","text":"<p>F\u200b\u548c\u200bQ\u200b\u5176\u5b9e\u200b\u5c31\u662f\u200b\u4e3a\u4e86\u200b\u89e3\u51b3\u200b\u4ee5\u200b\u9762\u5411\u5bf9\u8c61\u200b\u7684\u200b\u65b9\u5f0f\u200b\u4e66\u5199\u200bSQL\u200b\u64cd\u4f5c\u200b\u7684\u200b\u65f6\u5019\u200b,\u200b\u5bf9\u4e8e\u200b\u8bed\u53e5\u200b\u4e2d\u200b\u7684\u200band or \u200b\u7b49\u200b\u903b\u8f91\u200b\u63a7\u5236\u7b26\u200b\u4e0d\u200b\u65b9\u4fbf\u200b\u4e66\u5199\u200b\u7684\u200b\u95ee\u9898\u200b.</p>","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_query_summary/#f","title":"F\u200b\u67e5\u8be2","text":"<p>\u200b\u5728\u200b\u4e4b\u524d\u200b\u7684\u200b\u67e5\u8be2\u200b\u6761\u4ef6\u200b\u4e2d\u200b,\u200b\u4f7f\u7528\u200b\u7684\u200b\u90fd\u200b\u662f\u200b\u8bf8\u5982\u200b<code>.filter(id__gt=3)</code>\u200b\u8fd9\u79cd\u200b\u5c06\u200b\u5b57\u200b\u6bb5\u503c\u200b\u4e0e\u200b\u5e38\u91cf\u200b\u8fdb\u884c\u200b\u6bd4\u8f83\u200b\u7684\u200b\u6761\u4ef6\u200b,\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u5bf9\u200b\u4e24\u4e2a\u200b\u5b57\u6bb5\u200b\u505a\u200b\u6bd4\u8f83\u200b,\u200b\u663e\u7136\u200b\u5728\u200bPython\u200b\u4e2d\u200b\u4e0d\u80fd\u200b\u5199\u6210\u200b<code>.filter(id__gt=item_id)</code>,\u200b\u56e0\u4e3a\u200bitem_id\u200b\u5e76\u200b\u6ca1\u6709\u200b\u5728\u200bpython\u200b\u7a0b\u5e8f\u200b\u4e2d\u200b\u5b9a\u4e49\u200b.\u200b\u8fd9\u4e2a\u200b\u65f6\u5019\u200b\u5c31\u8981\u200b\u4f7f\u7528\u200bF\u200b\u67e5\u8be2\u200b\u6765\u200b\u66ff\u4ee3\u200b\u5bf9\u5e94\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b,,\u200b\u53ea\u8981\u200b\u7ed9\u200bF\u200b\u7684\u200b\u53c2\u6570\u200b\u4f20\u5165\u200b\u5b57\u6bb5\u540d\u200b\u79f0\u200b\u5373\u53ef\u200b. \u200b\u6bd4\u5982\u200b\u5728\u200b\u81ea\u884c\u200b\u7f16\u5199\u200b\u7684\u200b\u884c\u653f\u200b\u7269\u54c1\u200b\u67e5\u8be2\u200b\u7cfb\u7edf\u200b\u4e2d\u200b,\u200b\u5982\u679c\u200b\u8981\u200b\u67e5\u8be2\u200b\u6240\u6709\u200b\u5165\u5e93\u200b \u200b\u5927\u4e8e\u200b \u200b\u51fa\u5e93\u200b\u7684\u200b\u5355\u636e\u200b,\u200b\u5c31\u200b\u5199\u6210\u200b:</p> <pre><code>ret = ret_temp = models.Moves.objects.filter(in_num__gte=F(\"out_num\"))\n</code></pre> <p>\u200b\u5728\u200b\u4e00\u5f20\u200b\u8868\u7528\u200b\u81ea\u8eab\u200b\u6570\u636e\u200b\u505a\u200b\u63a7\u5236\u200b\u7684\u200b\u65f6\u5019\u200b,\u200b\u5c31\u8981\u200b\u7528\u5230\u200bF\u200b\u67e5\u8be2\u200b,\u200b\u7ecf\u5e38\u200b\u5728\u200b\u5404\u79cd\u200b\u5185\u5bb9\u200b\u7ba1\u7406\u7cfb\u7edf\u200b\u4e2d\u200b\u4f7f\u7528\u200b,\u200b\u6bd4\u5982\u200b\u5217\u51fa\u200b\u70b9\u8d5e\u6570\u200b\u9ad8\u4e8e\u200b\u8e29\u6570\u200b\u7684\u200b\u6761\u76ee\u200b\u7b49\u7b49\u200b. \u200b\u9664\u4e86\u200b\u8fdb\u884c\u200b\u6bd4\u8f83\u200b\u4e4b\u5916\u200b,F\u200b\u67e5\u8be2\u200b\u5728\u200b\u6839\u636e\u200b\u81ea\u5df1\u200b\u7684\u200b\u5b57\u200b\u6bb5\u503c\u200b\u66f4\u65b0\u200b\u503c\u200b\u7684\u200b\u65f6\u5019\u200b\u6bd4\u8f83\u200b\u5e38\u7528\u200b,\u200b\u6bd4\u5982\u200b\u8981\u200b\u5728\u200b\u51fa\u5165\u5e93\u200b\u8868\u4e0a\u200b\u7684\u200b\u51fa\u5e93\u200b\u6570\u5b57\u200b\u589e\u52a0\u200b10:</p> <pre><code>models.Moves.objects.update(in_num = F(\"in_num\") + 10)\n</code></pre> <p>\u200b\u8fd9\u91cc\u200b\u8981\u200b\u6ce8\u610f\u200b\u7684\u200b\u5c31\u662f\u200bupdate\u200b\u65b9\u6cd5\u200b,\u200b\u4ec5\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5728\u200bQuerySet\u200b\u4e0a\u200b,\u200b\u5355\u4e2a\u200b\u5bf9\u8c61\u200b(\u200b\u884c\u200b\u6570\u636e\u200b)\u200b\u6ca1\u6709\u200b\u8be5\u200b\u65b9\u6cd5\u200b.\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u8fd4\u56de\u200b\u7684\u200b\u662f\u200b\u53d7\u200b\u5f71\u54cd\u200b\u7684\u200b\u884c\u6570\u200b.</p>","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_query_summary/#q","title":"Q\u200b\u67e5\u8be2","text":"<p>Q\u200b\u67e5\u8be2\u200b\u662f\u200b\u4e3a\u4e86\u200b\u89e3\u51b3\u200b\u6761\u4ef6\u200b\u67e5\u8be2\u200b\u7684\u200b\u65f6\u5019\u200b\u65b9\u4fbf\u4f7f\u7528\u200bor \u200b\u7b49\u200b\u903b\u8f91\u200b\u7b26\u200b\u7684\u200b\u95ee\u9898\u200b,\u200b\u5c06\u200b\u6761\u4ef6\u200b\u72ec\u7acb\u200b\u51fa\u6765\u200b,\u200b\u7136\u540e\u200b\u7528\u200b\u903b\u8f91\u200b\u8fd0\u7b97\u7b26\u200b\u8fde\u7ed3\u200b\u6765\u200b\u5f97\u5230\u200b\u6700\u7ec8\u200b\u6761\u4ef6\u200b. \u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200b\u4e0b\u200b,filter\u200b\u7b49\u200b\u6761\u4ef6\u200b\u67e5\u8be2\u200b\u5185\u90e8\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u591a\u4e2a\u200b\u6761\u4ef6\u200b\u8bed\u53e5\u200b,\u200b\u7528\u200b\u9017\u53f7\u200b\u5206\u5272\u200b,\u200b\u8fd9\u4e9b\u200b\u6761\u4ef6\u200b\u4e4b\u95f4\u200b\u662f\u200band\u200b\u7684\u200b\u5173\u7cfb\u200b,\u200b\u6bd4\u5982\u200b\u67e5\u8be2\u200b\u6bcf\u200b\u4e00\u5f20\u200b\u51fa\u5165\u5e93\u200b\u5355\u200b,\u200b\u8981\u6c42\u200b\u51fa\u5e93\u200b\u5927\u4e8e\u200b\u5165\u5e93\u200b\u800c\u4e14\u200b\u5165\u5e93\u200b\u5927\u4e8e\u200b50,\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5199\u6210\u200b:</p> <pre><code>ret_temp = models.Moves.objects.filter(in_num__gte=F(\"out_num\"), in_num__gt=50)\n</code></pre> <p>\u200b\u5176\u4e2d\u200b\u7684\u200b<code>in_num__gte=F(\"out_num\")</code>\u200b\u548c\u200b<code>in_num__gt=50</code>\u200b\u662f\u200band\u200b\u5173\u7cfb\u200b.\u200b\u5982\u679c\u200b\u8981\u200b\u6539\u6210\u200bor\u200b\u5173\u7cfb\u200b,\u200b\u5c31\u8981\u200b\u4f7f\u7528\u200bQ\u200b\u5bf9\u8c61\u200b\u5c06\u200b\u6761\u4ef6\u200b\u72ec\u7acb\u200b\u51fa\u6765\u200b,\u200b\u7136\u540e\u200b\u7528\u200b&amp;(\u200b\u8868\u793a\u200band)\u200b\u548c\u200b|(\u200b\u8868\u793a\u200bor)\u200b\u8fd8\u6709\u200b~(\u200b\u8868\u793a\u200b\u53d6\u53cd\u200b)\u200b\u6765\u200b\u8fde\u7ed3\u200b\u5404\u4e2a\u200bQ\u200b\u5bf9\u8c61\u200b. \u200b\u5982\u679c\u200b\u8981\u200b\u67e5\u8be2\u200b\u5165\u5e93\u200b\u5c0f\u4e8e\u200b\u51fa\u5e93\u200b\u6216\u8005\u200b\u51fa\u5e93\u200b\u5927\u4e8e\u200b20\u200b\u7684\u200b\u5355\u636e\u200b:</p> <pre><code>from django.db.models import F,Q\nret_temp = models.Moves.objects.filter(Q(in_num__lte=F(\"out_num\")) | Q(out_num__gt=20))\n</code></pre> <p>\u200b\u81f3\u6b64\u200b,\u200b\u5df2\u7ecf\u200b\u5b66\u4e60\u200b\u5b8c\u200b\u4e86\u200bDJango 1.11 QuerySet API reference \u200b\u91cc\u200b\u7684\u200bMethods that return new QuerySets,\u200b\u4e5f\u200b\u5c31\u662f\u200b\u8fd4\u56de\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b\u7684\u200b\u90e8\u5206\u200b.\u200b\u8fd8\u6709\u200b\u4e00\u90e8\u5206\u200bAPI\u200b\u6ca1\u6709\u200b\u63a5\u89e6\u200b\u5230\u200b,\u200b\u5217\u200b\u5728\u200b\u4e0b\u8fb9\u200b:</p> \u200b\u8fd4\u56de\u200bQuerySet\u200b\u7684\u200b\u65b9\u6cd5\u200b\u8865\u5145\u200b \u200b\u65b9\u6cd5\u200b\u540d\u200b \u200b\u89e3\u91ca\u200b dates(field, kind, order=\u2019ASC\u2019) \u200b\u9488\u5bf9\u200bDateField\u200b\u548c\u200bDateTimeField\u200b\u7c7b\u578b\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b,\u200b\u53d6\u51fa\u200b\u5176\u4e2d\u200b\u548c\u200b\u65e5\u671f\u200b\u76f8\u5173\u200b\u7684\u200b\u90e8\u5206\u200b,\u200b\u53bb\u200b\u91cd\u200b,\u200b\u7136\u540e\u200b\u6392\u5e8f\u200b.\u200b\u8fd4\u56de\u200b\u7684\u200b\u662f\u200b\u4e00\u4e2a\u200bQuerySet\u200b\u5bf9\u8c61\u200b,\u200b\u5176\u4e2d\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u662f\u200bdatetime.date()\u200b\u5bf9\u8c61\u200b.kind\u200b\u8868\u793a\u200b\u7cbe\u786e\u5ea6\u200b,\u200b\u53ea\u80fd\u200b\u53d6\u200b\u201dyear\u201d,\u201dmonth\u201d\u200b\u548c\u200b\u201dday\u201d\u200b\u4e09\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u503c\u200b.order\u200b\u7684\u200bASC\u200b\u8868\u793a\u200b\u6b63\u5411\u200b\u6392\u5e8f\u200b,DESC\u200b\u8868\u793a\u200b\u9006\u5411\u200b\u6392\u5e8f\u200b datetimes(field_name, kind, order=\u2019ASC\u2019, tzinfo=None) \u200b\u529f\u80fd\u200b\u4e0e\u200bdates\u200b\u7c7b\u4f3c\u200b.\u200b\u533a\u522b\u200b\u662f\u200b\u9488\u5bf9\u200bDateTimeField\u200b\u7c7b\u578b\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b, kind \u200b\u53ea\u80fd\u200b\u662f\u200b \u201cyear\u201d, \u201cmonth\u201d, \u201cday\u201d, \u201chour\u201d, \u201cminute\u201d \u200b\u6216\u200b \u201csecond\u201d.tiinfo\u200b\u7684\u200b\u53c2\u6570\u200b\u5fc5\u987b\u200b\u662f\u200b\u4e00\u4e2a\u200b datetime.tzinfo \u200b\u5bf9\u8c61\u200b,\u200b\u5982\u679c\u200b\u8bbe\u7f6e\u200b\u4e3a\u200bNone,Django\u200b\u4f1a\u200b\u4f7f\u7528\u200b\u5f53\u524d\u200b\u65f6\u200b\u533a\u200b. none() \u200b\u4e0d\u7ba1\u200b\u524d\u8fb9\u200b\u67e5\u8be2\u200b\u6761\u4ef6\u200b\u5982\u4f55\u200b,\u200b\u5e26\u4e0a\u200b\u8fd9\u4e2a\u200b\u65b9\u6cd5\u200b\u5c31\u200b\u4e00\u5b9a\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u7a7a\u200b\u7684\u200bQuerySet\u200b\u5bf9\u8c61\u200b union(*other_qs, all=False) \u200b\u5de6\u53f3\u200b\u8fde\u200b\u4e24\u4e2a\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b,\u200b\u4f7f\u7528\u200b\u65b9\u6cd5\u200b\u662f\u200b queryset1.union(queryset2).\u200b\u5982\u679c\u200ball=True,\u200b\u5219\u200b\u5141\u8bb8\u200b\u91cd\u590d\u200b\u9879\u200b. intersection(*other_qs) \u200b\u83b7\u53d6\u200b\u591a\u4e2a\u200bQuerySet\u200b\u4e2d\u200b\u76f8\u540c\u200b\u7684\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b.\u200b\u4f7f\u7528\u200b\u65b9\u6cd5\u200b\u662f\u200bqs1.intersection(qs2, qs3) difference(*other_qs) \u200b\u83b7\u53d6\u200b\u53ea\u200b\u5728\u200b\u8c03\u7528\u200b\u65b9\u6cd5\u200b\u7684\u200bQuerySet\u200b\u4e2d\u200b\u5b58\u5728\u200b,\u200b\u4e0d\u200b\u5728\u200b\u53c2\u6570\u200b\u7684\u200bQuerySet\u200b\u4e2d\u200b\u5b58\u5728\u200b\u7684\u200b\u7ed3\u679c\u200b,\u200b\u4f7f\u7528\u200b\u65b9\u6cd5\u200b\u662f\u200bqs1.difference(qs2, qs3) select_related(*fields) \u200b\u76f8\u5f53\u4e8e\u200b\u901a\u8fc7\u200b\u5916\u952e\u200b\u8fdb\u884c\u200b\u8fde\u8868\u200b\u67e5\u8be2\u200b.\u200b\u4f7f\u7528\u200b\u65b9\u6cd5\u200be = Entry.objects.select_related(\u2018blog\u2019).get(id=5),\u200b\u8868\u793a\u200b\u9009\u4e2d\u200bid\u200b\u4e3a\u200b5\u200b\u7684\u200bEntry\u200b\u8bb0\u5f55\u200b\u901a\u8fc7\u200b\u5916\u952e\u200b\u5173\u8054\u200b\u7684\u200bblog\u200b\u91cc\u200b\u7684\u200b\u5bf9\u8c61\u200b. prefetch_related(*lookups) \u200b\u8fd9\u4e2a\u200b\u4e0e\u200bselect\u200b\u7c7b\u4f3c\u200b,\u200b\u4e3b\u8981\u200b\u662f\u200b\u6027\u80fd\u200b\u76f8\u5173\u200b,\u200b\u4f1a\u200b\u9884\u5148\u200b\u901a\u8fc7\u200b\u5916\u952e\u200b\u8fdb\u884c\u200b\u67e5\u627e\u200b,\u200b\u518d\u6b21\u200b\u4f7f\u7528\u200b\u67e5\u8be2\u200b\u7684\u200b\u65f6\u5019\u200b\u4f1a\u5230\u200b\u4e34\u65f6\u200b\u8868\u91cc\u200b\u67e5\u8be2\u200b.\u200b\u8be6\u7ec6\u200b\u770b\u200b\u8fd9\u91cc\u200b extra(select=None, where=None, params=None, tables=None, order_by=None, select_params=None) \u200b\u5f53\u200bORM\u200b\u6709\u65f6\u5019\u200b\u96be\u4ee5\u63cf\u8ff0\u200b\u4e00\u4e2a\u200b\u590d\u6742\u200b\u7684\u200bWHERE\u200b\u67e5\u8be2\u200b\u7684\u200b\u65f6\u5019\u200b,\u200b\u7528\u200bextra\u200b\u6784\u9020\u200b\u989d\u5916\u200b\u7684\u200b\u67e5\u8be2\u200b\u6761\u4ef6\u200b,\u200b\u6bd4\u5982\u200b\u5b50\u200b\u67e5\u8be2\u200b.\u200b\u8be6\u7ec6\u200b\u770b\u200b\u8fd9\u91cc\u200b defer(*fields) \u200b\u53c2\u6570\u200b\u4e3a\u200b\u5b57\u6bb5\u540d\u200b,\u200b\u7528\u4e8e\u200b\u5728\u200b\u7ed3\u679c\u200b\u96c6\u4e2d\u200b\u6392\u51fa\u200b\u67d0\u4e9b\u200b\u5217\u200b,\u200b\u6392\u51fa\u200b\u4e4b\u540e\u200b,\u200b\u5217\u200b\u5c31\u200b\u6ca1\u6709\u200b\u4e86\u200b\u5bf9\u5e94\u200b\u7684\u200b\u5b57\u6bb5\u540d\u200b\u7684\u200b\u5c5e\u6027\u200b only(*fields) \u200b\u4ec5\u53d6\u200b\u6307\u5b9a\u200b\u7684\u200b\u67d0\u4e9b\u200b\u5b57\u6bb5\u200b\u7684\u200b\u4fe1\u606f\u200b. using(alias) \u200b\u5982\u679c\u200bDjango\u200b\u4e2d\u200b\u8bbe\u7f6e\u200b\u4e86\u200b\u8d85\u8fc7\u200b\u4e00\u4e2a\u200b\u6570\u636e\u5e93\u200b,\u200b\u5728\u200b\u67e5\u8be2\u200b\u7684\u200b\u65f6\u5019\u200b\u7528\u6b64\u200b\u65b9\u6cd5\u200b\u6307\u5b9a\u200b\u4f7f\u7528\u200b\u54ea\u4e2a\u200b\u6570\u636e\u5e93\u200b,alias\u200b\u662f\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u522b\u540d\u200b,\u200b\u4e0d\u52a0\u200b\u5219\u200b\u8868\u793a\u200b\u4f7f\u7528\u200b\u201ddefault\u201d\u200b\u6570\u636e\u5e93\u200b.\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u522b\u540d\u200b\u662f\u200b\u6307\u200b\u7684\u200bsettings.py\u200b\u91cc\u200bDATABASES\u200b\u53c2\u6570\u200b\u7684\u200b\u952e\u540d\u200b. select_for_update(nowait=False, skip_locked=False) \u200b\u8868\u793a\u200b\u6240\u6709\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b\u5728\u200b\u5b8c\u6210\u200b\u4e8b\u52a1\u200b\u4e4b\u524d\u200b\u90fd\u200b\u4e0d\u80fd\u200b\u88ab\u200b\u6539\u52a8\u200b,\u200b\u5177\u4f53\u200b\u770b\u200b\u8fd9\u91cc\u200b raw(raw_query, params=None, translations=None) \u200b\u6267\u884c\u200b\u539f\u751f\u200b\u7684\u200bSQL\u200b\u8bed\u53e5\u200b,\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b django.db.models.query.RawQuerySet\u200b\u5bf9\u8c61\u200b,\u200b\u53ef\u4ee5\u200b\u50cf\u200bQuerySet\u200b\u4e00\u6837\u200b\u904d\u5386\u200b\u53d6\u51fa\u200b\u5404\u884c\u200b\u6570\u636e\u200b. <p>\u200b\u4e0a\u8fb9\u200b\u7684\u200b\u6240\u6709\u200b\u65b9\u6cd5\u200b\u90fd\u200b\u662f\u200b\u7528\u6765\u200b\u67e5\u8be2\u200b,\u200b\u4e5f\u200b\u5c31\u662f\u200b\u8fd4\u56de\u200bQuerySet\u200b\u5bf9\u8c61\u200b,\u200b\u6216\u8005\u200b\u662f\u200bQuerySet\u200b\u5c01\u88c5\u200b\u7684\u200b\u5b57\u5178\u200b\u6216\u8005\u200b\u5176\u4ed6\u200b\u5bf9\u8c61\u200b(\u200b\u6bd4\u5982\u200bvalues, values_list, date\u200b\u7b49\u200b\u65b9\u6cd5\u200b),\u200b\u76f8\u5f53\u4e8e\u200b\u5728\u200bMySQL\u200b\u4e2d\u200b\u67e5\u627e\u200b\u7684\u200b\u7ed3\u679c\u200b.\u200b\u5bf9\u4e8e\u200b\u67e5\u8be2\u200b\u4ee5\u5916\u200b\u7684\u200b\u65b9\u6cd5\u200b,\u200b\u4e3b\u8981\u200b\u662f\u200b\u6d89\u53ca\u200b\u5230\u200b\u589e\u5220\u200b\u6539\u67e5\u200b,\u200b\u5c06\u200b\u5728\u200b\u4e0b\u200b\u4e00\u90e8\u5206\u200b\u5b66\u4e60\u200b.</p>","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_query_summary/#methods-that-do-not-return-querysets","title":"\u5176\u4ed6\u200b\u65b9\u6cd5\u200b Methods that do not return QuerySets","text":"<p>\u200b\u6240\u8c13\u200b\u5176\u4ed6\u200b\u65b9\u6cd5\u200b,\u200b\u4e5f\u200b\u5c31\u662f\u200b\u4e0d\u200b\u8fd4\u56de\u200bQuerySet\u200b\u7684\u200b\u65b9\u6cd5\u200b.</p> \u200b\u4e0d\u200b\u8fd4\u56de\u200bQuerySet\u200b\u7684\u200b\u65b9\u6cd5\u200b \u200b\u6761\u4ef6\u200b \u200b\u89e3\u91ca\u200b get(**kwargs) \u200b\u53c2\u6570\u200b\u4e3a\u200b\u5173\u952e\u5b57\u200b\u7684\u200b\u67e5\u8be2\u200b\u6761\u4ef6\u200b,\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u7ed3\u679c\u200b,\u200b\u5982\u679c\u200b\u627e\u200b\u4e0d\u5230\u200b,\u200b\u4f1a\u200b\u62a5\u200b DoesNotExist \u200b\u5f02\u5e38\u200b.\u200b\u5982\u679c\u200b\u627e\u5230\u200b\u591a\u4e2a\u200b,\u200b\u4f1a\u200b\u62a5\u200b MultipleObjectsReturned \u200b\u5f02\u5e38\u200b.\u200b\u5bf9\u200b\u4e00\u4e2a\u200bQuerySet\u200b\u5bf9\u8c61\u200b\u4f7f\u7528\u200b\u4e0d\u5e26\u200b\u53c2\u6570\u200b\u7684\u200bget(),\u200b\u53ef\u4ee5\u200b\u8ba9\u200b\u5176\u200b\u53ea\u200b\u8fd4\u56de\u200b\u7b2c\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b.\u200b\u4eca\u540e\u200b\u9047\u5230\u200b\u67e5\u8be2\u200b,\u200b\u8fd8\u662f\u200b\u4f18\u5148\u200b\u4f7f\u7528\u200bfilter\u200b\u65b9\u6cd5\u200b\u6bd4\u8f83\u200b\u597d\u200b create(**kwargs) \u200b\u63a5\u53d7\u200b\u53c2\u6570\u200b\u6765\u200b\u5efa\u7acb\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b,\u200b\u4f7f\u7528\u200b.create()\u200b\u65b9\u6cd5\u200b\u5c31\u200b\u5305\u542b\u200b\u4e86\u200b.save()\u200b\u7684\u200b\u8fc7\u7a0b\u200b,\u200b\u8be6\u7ec6\u200b\u770b\u200b\u8fd9\u91cc\u200b get_or_create(defaults=None, **kwargs) \u200b\u7528\u200b\u7ed9\u5b9a\u200b\u7684\u200b\u67e5\u8be2\u200b\u6761\u4ef6\u200b\u5bfb\u627e\u200b\u5bf9\u8c61\u200b,\u200b\u5982\u679c\u200b\u627e\u200b\u4e0d\u5230\u200b,\u200b\u5c31\u200b\u5efa\u7acb\u200b\u4e00\u4e2a\u200b.\u200b\u8fd9\u4e2a\u200b\u65b9\u6cd5\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u5143\u7ec4\u200b(object,created),\u200b\u5143\u7ec4\u200b\u7b2c\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u662f\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b\u6216\u8005\u200b\u65b0\u5efa\u200b\u7684\u200b\u6570\u636e\u200b,\u200b\u7b2c\u4e8c\u4e2a\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5e03\u5c14\u503c\u200b,\u200b\u5982\u679c\u200b\u65b0\u5efa\u200b\u4e86\u200b\u5c31\u662f\u200bTrue,\u200b\u5426\u5219\u200b\u662f\u200bFalse.\u200b\u8fd9\u4e2a\u200b\u65b9\u6cd5\u200b\u5b9e\u9645\u200b\u8fc7\u7a0b\u200b\u76f8\u5f53\u4e8e\u200b\u5148\u200b\u53bb\u200b\u8c03\u7528\u200bget(),\u200b\u5982\u679c\u200b\u4ea7\u751f\u200b\u4e86\u200bDoesNotExist\u200b\u5f02\u5e38\u200b,\u200b\u5219\u200b\u4f1a\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200b\u540c\u6837\u200b\u53c2\u6570\u200b\u7684\u200b\u5bf9\u8c61\u200b.\u200b\u6ce8\u610f\u200b\u5173\u952e\u5b57\u200b\u53c2\u6570\u200b\u91cc\u200b\u540d\u79f0\u200b\u53eb\u505a\u200bdefaults\u200b\u7684\u200b\u5173\u952e\u5b57\u200b\u662f\u200b\u4e0d\u4f1a\u200b\u6210\u4e3a\u200b\u5185\u542b\u200b\u7684\u200bget()\u200b\u8c03\u7528\u200b\u4e2d\u200b\u7684\u200b\u53c2\u6570\u200b,\u200b\u53ea\u4f1a\u200b\u5728\u200b\u65b0\u5efa\u200b\u7684\u200b\u65f6\u5019\u200b\u53d1\u751f\u200b\u4f5c\u7528\u200b.\u200b\u5177\u4f53\u200b\u770b\u200b\u8fd9\u91cc\u200b update_or_create(defaults=None, **kwargs) \u200b\u548c\u200bget_or_create\u200b\u7c7b\u4f3c\u200b,\u200b\u5982\u679c\u200b\u5b57\u200b\u6bb5\u200b\u5b58\u5728\u200b\u5219\u200b\u66f4\u65b0\u200b,\u200b\u5426\u5219\u200b\u521b\u5efa\u200b.defautls\u200b\u4e5f\u200b\u662f\u200b\u8868\u793a\u200b\u521b\u5efa\u200b\u65f6\u5019\u200b\u7684\u200b\u5176\u4ed6\u200b\u5b57\u200b\u6bb5\u200b. bulk_create(objs, batch_size=None) \u200b\u6279\u91cf\u200b\u63d2\u5165\u200b(\u200b\u65b0\u589e\u200b)\u200b\u6570\u636e\u200b,objs\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5217\u8868\u200b,batch_size\u200b\u8868\u793a\u200b\u4e00\u6b21\u200b\u63d2\u5165\u200b\u7684\u200b\u4e2a\u6570\u200b.\u200b\u5177\u4f53\u200b\u770b\u200b\u8fd9\u91cc\u200b in_bulk(id_list=None) id_list\u200b\u662f\u200b\u4e00\u4e2a\u200b\u4e3b\u952e\u200b\u5217\u8868\u200b,\u200b\u6839\u636e\u200b\u5176\u4e2d\u200b\u7684\u200b\u4e3b\u952e\u200b,\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u5b57\u5178\u200b,\u200b\u952e\u200b\u662f\u200b\u4e3b\u952e\u200b,\u200b\u503c\u200b\u662f\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6570\u636e\u200b\u884c\u200b\u5bf9\u8c61\u200b.\u200b\u5982\u679c\u200b\u4e0d\u4f20\u200b\u53c2\u6570\u200b,\u200b\u5219\u200b\u8fd4\u56de\u200b\u6240\u6709\u200b\u4e3b\u952e\u200b\u548c\u200b\u5bf9\u5e94\u200b\u6570\u636e\u200b\u884c\u200b\u6784\u6210\u200b\u7684\u200b\u5b57\u5178\u200b.\u200b\u5728\u200b\u6309\u7167\u200b\u4e3b\u952e\u200b\u67e5\u8be2\u200b\u7684\u200b\u65f6\u5019\u200b\u7ecf\u5e38\u200b\u7528\u6b64\u200b\u65b9\u6cd5\u200b. iterator() QuerySet\u200b\u7684\u200b\u65b9\u6cd5\u200b,\u200b\u4f7f\u7528\u200b\u4e4b\u540e\u200b\u53d8\u6210\u200b\u4e00\u4e2a\u200b\u8fed\u4ee3\u200b\u5668\u200b. latest(field_name=None) \u200b\u9700\u8981\u200b\u6307\u5b9a\u200b\u5b57\u6bb5\u540d\u200b,\u200b\u5b57\u200b\u6bb5\u200b\u5fc5\u987b\u200b\u662f\u200b\u65f6\u95f4\u200b\u7c7b\u578b\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b,\u200b\u76f4\u63a5\u200b\u8fd4\u56de\u200b\u65f6\u95f4\u200b\u6700\u665a\u200b\u7684\u200b\u90a3\u200b\u4e00\u884c\u200b\u8bb0\u5f55\u200b. earliest(field_name=None) \u200b\u548c\u200blatest\u200b\u7528\u6cd5\u200b\u76f8\u540c\u200b,\u200b\u8fd4\u56de\u200b\u65f6\u95f4\u200b\u6700\u65e9\u200b\u7684\u200b\u90a3\u200b\u4e00\u6761\u200b\u8bb0\u5f55\u200b,\u200b\u548c\u200blatest\u200b\u7ecf\u5e38\u200b\u4f7f\u7528\u200b\u5728\u200b\u4e00\u4e9b\u200b\u5185\u5bb9\u200b\u7ba1\u7406\u200b\u7684\u200b\u67e5\u627e\u200b\u4e0a\u200b update(**kwargs) \u200b\u7528\u200b\u5728\u200bQuerySet\u200b\u4e0a\u200b,\u200b\u66f4\u65b0\u200bQuerySet\u200b\u91cc\u200b\u6240\u6709\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b,\u200b\u9690\u542b\u200b\u4e86\u200bsave\u200b\u64cd\u4f5c\u200b,\u200b\u8fd4\u56de\u200b\u53d7\u200b\u5f71\u54cd\u200b\u7684\u200b\u884c\u6570\u200b.update\u200b\u4e0d\u200b\u80fd\u591f\u200b\u7528\u200b\u5728\u200b\u5173\u8054\u200b\u5173\u7cfb\u200b\u7684\u200b\u64cd\u4f5c\u200b\u4e0a\u200b,\u200b\u4e0d\u80fd\u200b\u76f4\u63a5\u200b\u901a\u8fc7\u200b\u5916\u200b\u952e\u540d\u200b__\u200b\u5b57\u6bb5\u540d\u200b\u53bb\u200b\u66f4\u65b0\u200b\u5176\u4ed6\u200b\u8868\u200b.\u200b\u4e4b\u524d\u200b\u8bf4\u200b\u8fc7\u200b\u67e5\u8be2\u200b\u7684\u200b\u65f6\u5019\u200b\u591a\u7528\u200bfilter,\u200b\u56e0\u6b64\u200b\u4eca\u540e\u200b\u5c31\u200b\u7528\u200bupdate\u200b\u4e0e\u200bfilter\u200b\u642d\u914d\u200b\u4f7f\u7528\u200b. delete() \u200b\u7528\u200b\u5728\u200b\u5355\u4e2a\u200b\u5bf9\u8c61\u200b\u6216\u8005\u200bQuerySet\u200b\u4e0a\u200b,\u200b\u8868\u793a\u200b\u5c06\u200b\u9009\u62e9\u200b\u7684\u200b\u884c\u200b\u4ece\u200b\u8868\u91cc\u200b\u5220\u9664\u200b,\u200b\u8fd4\u56de\u200b\u53d7\u200b\u5f71\u54cd\u200b\u7684\u200b\u884c\u6570\u200b. as_manager() \u200b\u5728\u200b\u6bcf\u6b21\u200b\u5199\u200b\u67e5\u8be2\u200b\u7684\u200b<code>models.Book.objects</code>\u200b\u4e2d\u200b\u7684\u200bobjects\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b\u7ba1\u7406\u5668\u200b,\u200b\u5bf9\u8c61\u200b\u7ba1\u7406\u5668\u200b\u7684\u200b\u9ed8\u8ba4\u200b\u540d\u79f0\u200b\u5c31\u662f\u200bobjects.\u200b\u8fd9\u4e2a\u200b\u65b9\u6cd5\u200b\u5c31\u662f\u200b\u4ea7\u751f\u200b\u4e00\u4e2a\u200b\u5e26\u6709\u200bQuerySet\u200b\u6240\u6709\u200b\u65b9\u6cd5\u200b\u7684\u200b\u7ba1\u7406\u5668\u200b,\u200b\u66ff\u4ee3\u200b\u4e86\u200bobjects\u200b\u8fd9\u4e2a\u200b\u540d\u5b57\u200b,\u200b\u5177\u4f53\u200b\u770b\u200b\u8fd9\u91cc","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_query_summary/#_7","title":"\u8865\u5145\u200b\u90e8\u5206","text":"","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_query_summary/#sql","title":"\u67e5\u770b\u200b\u5b9e\u9645\u200b\u751f\u6210\u200b\u7684\u200bSQL\u200b\u8bed\u53e5","text":"<p>\u200b\u5728\u200b\u4f7f\u7528\u200bORM\u200b\u7684\u200b\u65f6\u5019\u200b,\u200b\u6709\u200b\u7684\u200b\u65f6\u5019\u200b\u9700\u8981\u200b\u77e5\u9053\u200b\u5b9e\u9645\u200b\u751f\u6210\u200b\u7684\u200bSQL\u200b\u8bed\u53e5\u200b,\u200b\u5c06\u200b\u5982\u4e0b\u200b\u90e8\u5206\u200b\u590d\u5236\u5230\u200bsettings.py\u200b\u4e2d\u200b,\u200b\u8bbe\u7f6e\u200bDEBUG=True,\u200b\u6bcf\u6b21\u200b\u6267\u884c\u200bORM\u200b\u64cd\u4f5c\u200b\u7684\u200b\u65f6\u5019\u200b,\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5728\u200bpython console\u200b\u4e2d\u200b\u770b\u5230\u200b\u5b9e\u9645\u200b\u7684\u200bSQL\u200b\u8bed\u53e5\u200b.</p> <pre><code>LOGGING = {\n    'version': 1,\n    'disable_existing_loggers': False,\n    'handlers': {\n        'console':{\n            'level':'DEBUG',\n            'class':'logging.StreamHandler',\n        },\n    },\n    'loggers': {\n        'django.db.backends': {\n            'handlers': ['console'],\n            'propagate': True,\n            'level':'DEBUG',\n        },\n    }\n}\n</code></pre>","tags":["Python","Django"]},{"location":"python/pyweb/django/orm_query_summary/#pythondjango","title":"\u5728\u200bpython\u200b\u7a0b\u5e8f\u200b\u4e2d\u200b\u8c03\u7528\u200bDjango\u200b\u73af\u5883","text":"<p>\u200b\u4e00\u822c\u6765\u8bf4\u200b\u6211\u4eec\u200b\u5728\u200b\u542f\u52a8\u200bDjango\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u65f6\u5019\u200b\u624d\u200b\u8fd0\u884c\u200b\u5728\u200bDjango\u200b\u73af\u5883\u200b\u4e2d\u200b,\u200b\u5355\u72ec\u200b\u5199\u200b\u4e00\u4e2a\u200bpy\u200b\u6587\u4ef6\u200b,\u200b\u5bfc\u5165\u200bDjango\u200b\u7684\u200b\u5e93\u200b\u662f\u200b\u65e0\u6cd5\u200b\u8fdb\u884c\u200b\u64cd\u4f5c\u200b\u7684\u200b. \u200b\u5b9e\u9645\u4e0a\u200bDjango\u200b\u73af\u5883\u200b\u662f\u200b\u5199\u200b\u5728\u200bDjango_admin\u200b\u7b49\u200b\u5185\u5bb9\u200b\u4e2d\u200b\u7684\u200b,\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b\u4f1a\u200b\u63d0\u793a\u200b\u5bfc\u5165\u200b\u73af\u5883\u200b\u914d\u7f6e\u6587\u4ef6\u200b,\u200b\u53ea\u8981\u200b\u6839\u636e\u200b\u63d0\u793a\u200b\u64cd\u4f5c\u200b\u5373\u53ef\u200b,\u200b\u8fd9\u91cc\u200b\u63d0\u4f9b\u200b\u76f4\u63a5\u200b\u53ef\u200b\u4f9b\u200b\u7c98\u8d34\u200b\u7684\u200b\u4ee3\u7801\u200b:</p> <pre><code>import os\n\nif __name__ == '__main__':\n    os.environ.setdefault(\"DJANGO_SETTINGS_MODULE\", \"BMS.settings\")\n    import django\n    django.setup()\n#  \u200b\u5728\u200b\u4ee5\u4e0a\u200b\u8bed\u53e5\u200b\u7ed3\u675f\u200b\u4e4b\u540e\u200b,\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u50cf\u200b\u7f16\u5199\u200bviews,models\u200b\u7b49\u200b\u6587\u4ef6\u200b\u4e2d\u6765\u200b\u5bfc\u5165\u200bDjango\u200b\u7684\u200b\u5404\u79cd\u200b\u6a21\u5757\u200b\u6765\u200b\u8fdb\u884c\u200b\u64cd\u4f5c\u200b,\u200b\u7ed3\u679c\u200b\u4e5f\u200b\u4e0e\u200b\u50cf\u200b\u5728\u200b\u5b9e\u9645\u200b\u7684\u200bDjango\u200b\u73af\u5883\u200b\u4e2d\u200b\u5f97\u5230\u200b\u7684\u200b\u7ed3\u679c\u200b\u4e00\u6837\u200b\n    from app01 import models\n    books = models.Book.objects.all()\n    print(books)\n</code></pre>","tags":["Python","Django"]},{"location":"toolbox/git/git_multi_ssh/","title":"\u914d\u7f6e\u200b\u540c\u65f6\u200b\u4f7f\u7528\u200b Gitlab\u3001Github\u3001Gitee(\u200b\u7801\u4e91\u200b) \u200b\u5171\u5b58\u200b\u7684\u200b\u5f00\u53d1\u200b\u73af\u5883","text":"<p>reference: https://github.com/mr-dragon/day-day-up/blob/master/z-archive/document/configure-gitlab-github-gitee-development-environment.md</p>","tags":["Git"]},{"location":"toolbox/git/git_multi_ssh/#_1","title":"\u524d\u7f6e\u200b\u51c6\u5907\u200b\uff1a","text":"<ul> <li>\u200b\u786e\u4fdd\u200b git \u200b\u5df2\u7ecf\u200b\u5b89\u88c5\u200b</li> </ul>","tags":["Git"]},{"location":"toolbox/git/git_multi_ssh/#1-git","title":"1\u3001\u200b\u6e05\u9664\u200b git \u200b\u7684\u200b\u5168\u5c40\u200b\u8bbe\u7f6e","text":"<ul> <li>\u200b\u786e\u8ba4\u200b\u5f53\u524d\u200b\u73af\u5883\u200b\u662f\u5426\u200b\u5df2\u7ecf\u200b\u914d\u7f6e\u200b\u4e86\u200b git \u200b\u8d26\u53f7\u200b\u4fe1\u606f\u200b\uff0c\u200b\u82e5\u200b\u6709\u200b\u5219\u200b\u5148\u200b\u6e05\u9664\u200b <pre><code>git config --global --list\n\ngit config --global --unset user.name \"\u200b\u4f60\u200b\u7684\u200b\u540d\u5b57\u200b\"\ngit config --global --unset user.email \"\u200b\u4f60\u200b\u7684\u200b\u90ae\u7bb1\u200b\"\n\ngit config --global --unset user.name \"sswang\"\ngit config --global --unset user.email \"sswang@jshcbd.cn\"\n</code></pre></li> </ul>","tags":["Git"]},{"location":"toolbox/git/git_multi_ssh/#2-ssh-key","title":"2\u3001\u200b\u751f\u6210\u200b\u65b0\u200b\u7684\u200b SSH KEY","text":"","tags":["Git"]},{"location":"toolbox/git/git_multi_ssh/#linux-macos","title":"Linux &amp; MacOS  \u200b\u73af\u5883","text":"<pre><code># github ssh keys\n# linux or mac\nssh-keygen -t rsa -f ~/.ssh/id_rsa.github -C \"sswss@aliyun.com\"\n\n# gitee\n# linux or mac\nssh-keygen -t rsa -f ~/.ssh/id_rsa.gitee -C \"sswss@aliyun.com\"\n\n# gitlab \n# linux or mac\nssh-keygen -t rsa -f ~/.ssh/id_rsa.gitlab -C \"sswang@jshcbd.cn\"\n</code></pre> <ul> <li>\u200b\u5b8c\u6210\u200b\u540e\u4f1a\u200b\u5728\u200b~/.ssh / \u200b\u76ee\u5f55\u200b\u4e0b\u200b\u751f\u6210\u200b\u4ee5\u4e0b\u200b\u6587\u4ef6\u200b <pre><code>id_rsa.github\nid_rsa.github.pub\nid_rsa.gitlab\nid_rsa.gitlab.pub\nid_rsa.gitee\nid_rsa.gitee.pub\n</code></pre></li> </ul>","tags":["Git"]},{"location":"toolbox/git/git_multi_ssh/#win","title":"win","text":"<pre><code># github ssh keys\nssh-keygen -t rsa -f C:\\Users\\jhc142.JSHCBD\\.ssh\\id_rsa.github -C \"sswss@aliyun.com\"\n\n# gitee\nssh-keygen -t rsa -f C:\\Users\\jhc142.JSHCBD\\.ssh\\id_rsa.gitee -C \"sswss@aliyun.com\"\n\n# gitlab \nssh-keygen -t rsa -f C:\\Users\\jhc142.JSHCBD\\.ssh\\id_rsa.gitlab -C \"sswang@jshcbd.cn\"\n</code></pre> <ul> <li>\u200b\u5b8c\u6210\u200b\u540e\u4f1a\u200b\u5728\u200bC:\\Users\\jhc142.JSHCBD.ssh\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u751f\u6210\u200b\u4ee5\u4e0b\u200b\u6587\u4ef6\u200b <pre><code>id_rsa.github\nid_rsa.github.pub\nid_rsa.gitlab\nid_rsa.gitlab.pub\nid_rsa.gitee\nid_rsa.gitee.pub\n</code></pre></li> </ul> <pre><code>ssh-agent bash\nssh-add C:\\Users\\jhc142.JSHCBD\\.ssh\\id_rsa.github\nssh-add C:\\Users\\jhc142.JSHCBD\\.ssh\\id_rsa.gitlab\nssh-add C:\\Users\\jhc142.JSHCBD\\.ssh\\id_rsa.gitee\n</code></pre>","tags":["Git"]},{"location":"toolbox/git/git_multi_ssh/#3-ssh-keys","title":"3\u3001\u200b\u6dfb\u52a0\u200b\u8bc6\u522b\u200b SSH keys \u200b\u65b0\u200b\u7684\u200b\u79c1\u94a5","text":"<ul> <li> <p>Linux &amp; MacOS <pre><code>ssh-agent bash\nssh-add ~/.ssh/id_rsa.github\nssh-add ~/.ssh/id_rsa.gitlab\nssh-add ~/.ssh/id_rsa.gitee\n</code></pre></p> </li> <li> <p>win</p> </li> <li>\u200b\u9700\u8981\u200b\u786e\u8ba4\u200b\u5f00\u542f\u200b ssh-agent <p>\u200b\u5f00\u542f\u200b\u65b9\u6cd5\u200b\uff1a Fix Error unable to start ssh-agent service, error: 1058(xxxx) 1. win + R, Go To services.msc 2. Find And Check Is OpenSSH Authentication Agent Service Running</p> </li> </ul> <pre><code> ssh-agent bash\nssh-add C:\\Users\\jhc142.JSHCBD\\.ssh\\id_rsa.github\nssh-add C:\\Users\\jhc142.JSHCBD\\.ssh\\id_rsa.gitlab\nssh-add C:\\Users\\jhc142.JSHCBD\\.ssh\\id_rsa.gitee\n</code></pre> <p>\u200b\u5728\u200b.ssh \u200b\u76ee\u5f55\u200b\u4e0b\u200b\u521b\u5efa\u200b config \u200b\u6587\u4ef6\u200b</p> <ul> <li> <p>Linux &amp; MacOS <pre><code>#Default gitHub user Self\nHost github.com\n    HostName github.com\n    User git #\u200b\u9ed8\u8ba4\u200b\u5c31\u662f\u200bgit\uff0c\u200b\u53ef\u4ee5\u200b\u4e0d\u5199\u200b\n    IdentityFile ~/.ssh/id_rsa.github\n\n#Add gitLab user \n    Host git@gitlab.com\n    HostName gitlab.com\n    User git\n    IdentityFile ~/.ssh/id_rsa.gitlab\n\n# gitee\nHost gitee.com\n    Port 22\n    HostName gitee.com\n    User git\n    IdentityFile ~/.ssh/id_rsa.gitee\n</code></pre></p> </li> <li> <p>win <pre><code>#Default gitHub user Self\nHost github.com\n    HostName github.com\n    User git #\u200b\u9ed8\u8ba4\u200b\u5c31\u662f\u200bgit\uff0c\u200b\u53ef\u4ee5\u200b\u4e0d\u5199\u200b\n    IdentityFile C:\\Users\\jhc142.JSHCBD\\.ssh\\id_rsa.github\n\n#Add gitLab user \n    Host git@gitlab.com\n    HostName gitlab.com\n    User git\n    IdentityFile C:\\Users\\jhc142.JSHCBD\\.ssh\\id_rsa.gitlab\n\n# gitee\nHost gitee.com\n    Port 22\n    HostName gitee.com\n    User git\n    IdentityFile C:\\Users\\jhc142.JSHCBD\\.ssh\\id_rsa.gitlab\n</code></pre> <pre><code>#Default gitHub user Self\nHost github.com\n    HostName github.com\n    User git #\u200b\u9ed8\u8ba4\u200b\u5c31\u662f\u200bgit\uff0c\u200b\u53ef\u4ee5\u200b\u4e0d\u5199\u200b\n    IdentityFile C:\\Users\\jhc142.JSHCBD\\.ssh\\id_rsa.github\n\n#Add gitLab user \n    Host jshcbd\n    HostName git.jshcbd.com.cn\n    User git\n    IdentityFile C:\\Users\\jhc142.JSHCBD\\.ssh\\id_rsa.gitlab\n\n# gitee\nHost gitee.com\n    Port 22\n    HostName gitee.com\n    User git\n    IdentityFile C:\\Users\\jhc142.JSHCBD\\.ssh\\id_rsa.gitlab\n</code></pre></p> </li> </ul> <p>\u200b\u4e0b\u9762\u200b\u5bf9\u200b\u4e0a\u8ff0\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u5230\u200b\u7684\u200b\u914d\u7f6e\u200b\u5b57\u200b\u6bb5\u200b\u4fe1\u606f\u200b\u8fdb\u884c\u200b\u7b80\u5355\u200b\u89e3\u91ca\u200b\uff1a</p> <ul> <li>Host \u200b\u5b83\u200b\u6db5\u76d6\u200b\u4e86\u200b\u4e0b\u9762\u200b\u4e00\u4e2a\u200b\u6bb5\u200b\u7684\u200b\u914d\u7f6e\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u4ed6\u6765\u200b\u66ff\u4ee3\u200b\u5c06\u8981\u200b\u8fde\u63a5\u200b\u7684\u200b\u670d\u52a1\u5668\u200b\u5730\u5740\u200b\u3002 \u200b\u8fd9\u91cc\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4efb\u610f\u200b\u5b57\u6bb5\u200b\u6216\u200b\u901a\u914d\u7b26\u200b\u3002 \u200b\u5f53\u200bssh\u200b\u7684\u200b\u65f6\u5019\u200b\u5982\u679c\u200b\u670d\u52a1\u5668\u200b\u5730\u5740\u200b\u80fd\u200b\u5339\u914d\u200b\u4e0a\u200b\u8fd9\u91cc\u200bHost\u200b\u6307\u5b9a\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u5219\u200bHost\u200b\u4e0b\u9762\u200b\u6307\u5b9a\u200b\u7684\u200bHostName\u200b\u5c06\u200b\u88ab\u200b\u4f5c\u4e3a\u200b\u6700\u7ec8\u200b\u7684\u200b\u670d\u52a1\u5668\u200b\u5730\u5740\u200b\u4f7f\u7528\u200b\uff0c\u200b\u5e76\u4e14\u200b\u5c06\u200b\u4f7f\u7528\u200b\u8be5\u200bHost\u200b\u5b57\u200b\u6bb5\u200b\u4e0b\u9762\u200b\u914d\u7f6e\u200b\u7684\u200b\u6240\u6709\u200b\u81ea\u5b9a\u4e49\u200b\u914d\u7f6e\u200b\u6765\u200b\u8986\u76d6\u200b\u9ed8\u8ba4\u200b\u7684\u200b/etc/ssh/ssh_config\u200b\u914d\u7f6e\u200b\u4fe1\u606f\u200b\u3002</li> <li>Port \u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u7aef\u53e3\u200b\u3002\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b22\uff0c\u200b\u53ef\u4e0d\u200b\u914d\u7f6e\u200b</li> <li>User \u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u7528\u6237\u540d\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200bgit\uff0c\u200b\u53ef\u4e0d\u200b\u914d\u7f6e\u200b</li> <li>HostName \u200b\u771f\u6b63\u200b\u8fde\u63a5\u200b\u7684\u200b\u670d\u52a1\u5668\u200b\u5730\u5740\u200b</li> <li>PreferredAuthentications \u200b\u6307\u5b9a\u200b\u4f18\u5148\u200b\u4f7f\u7528\u200b\u54ea\u200b\u79cd\u200b\u65b9\u5f0f\u200b\u9a8c\u8bc1\u200b\uff0c\u200b\u652f\u6301\u200b\u5bc6\u7801\u200b\u548c\u200b\u79d8\u94a5\u200b\u9a8c\u8bc1\u200b\u65b9\u5f0f\u200b</li> <li>IdentityFile \u200b\u6307\u5b9a\u200b\u672c\u6b21\u200b\u8fde\u63a5\u200b\u4f7f\u7528\u200b\u7684\u200b\u5bc6\u94a5\u200b\u6587\u4ef6\u200b</li> </ul>","tags":["Git"]},{"location":"toolbox/git/git_multi_ssh/#4-github-gitlabgitee-ssh","title":"4\u3001\u200b\u5728\u200b github \u3001gitlab\u3001gitee \u200b\u7f51\u7ad9\u200b\u6dfb\u52a0\u200b ssh","text":"","tags":["Git"]},{"location":"toolbox/git/git_multi_ssh/#github","title":"Github","text":"<ul> <li> <p>\u200b\u53ef\u4ee5\u200b\u7528\u200bcat\u200b\u547d\u4ee4\u200b\u628a\u200b \u200b\u516c\u94a5\u200b \u200b\u7684\u200b\u5185\u5bb9\u200b\u6253\u200b\u51fa\u6765\u200b\u590d\u5236\u200b <pre><code># \u200b\u8fdb\u5165\u200b.ssh \u200b\u76ee\u5f55\u200b\u4e0b\u200b\ncat id_rsa.github\n</code></pre></p> </li> <li> <p>\u200b\u76f4\u8fbe\u200b\u5730\u5740\u200b\uff1ahttps://github.com/settings/keys</p> </li> <li>\u200b\u8fc7\u7a0b\u200b\u5982\u4e0b\u200b\uff1a</li> <li>\u200b\u767b\u5f55\u200b Github</li> <li>\u200b\u70b9\u51fb\u200b\u53f3\u4e0a\u65b9\u200b\u7684\u200b\u5934\u50cf\u200b\uff0c\u200b\u70b9\u51fb\u200b settings</li> <li>\u200b\u9009\u62e9\u200b SSH key</li> <li>\u200b\u70b9\u51fb\u200b Add SSH key</li> </ul>","tags":["Git"]},{"location":"toolbox/git/git_multi_ssh/#gitlab","title":"Gitlab","text":"<ul> <li>\u200b\u6ce8\u200b\uff1a\u200b\u6b64\u5904\u200b\u7684\u200b gitlab \u200b\u662f\u200b\u516c\u53f8\u200b\u7684\u200b\u79c1\u6709\u200b\u5e93\u200b</li> </ul> <p>\u200b\u76f4\u8fbe\u200b\u5730\u5740\u200b\uff1ahttps://gitlab.com/profile/keys</p> <ol> <li>\u200b\u767b\u5f55\u200b Gitlab</li> <li>\u200b\u70b9\u51fb\u200b\u53f3\u4e0a\u65b9\u200b\u7684\u200b\u5934\u50cf\u200b\uff0c\u200b\u70b9\u51fb\u200b settings</li> <li>\u200b\u540e\u7eed\u200b\u6b65\u9aa4\u200b\u5982\u200b Github</li> </ol>","tags":["Git"]},{"location":"toolbox/git/git_multi_ssh/#gitee","title":"Gitee / \u200b\u7801\u4e91","text":"<p>\u200b\u76f4\u8fbe\u200b\u5730\u5740\u200b\uff1ahttps://gitee.com/profile/sshkeys</p> <ol> <li>\u200b\u767b\u5f55\u200b Gitee</li> <li>\u200b\u70b9\u51fb\u200b\u53f3\u4e0a\u65b9\u200b\u7684\u200b\u5934\u50cf\u200b\uff0c\u200b\u70b9\u51fb\u200b \u200b\u8bbe\u7f6e\u200b</li> <li>\u200b\u540e\u7eed\u200b\u6b65\u9aa4\u200b\u5982\u200b Github</li> </ol> <p>\u200b\u6dfb\u52a0\u200b\u8fc7\u7a0b\u200b \u200b\u7801\u4e91\u200b \u200b\u4f1a\u200b\u63d0\u793a\u200b\u4f60\u200b\u8f93\u5165\u200b\u4e00\u6b21\u200b\u4f60\u200b\u7684\u200b Gitee \u200b\u5bc6\u7801\u200b \uff0c\u200b\u786e\u8ba4\u200b\u540e\u200b\u5373\u200b\u6dfb\u52a0\u200b\u5b8c\u6bd5\u200b\u3002</p>","tags":["Git"]},{"location":"toolbox/git/git_multi_ssh/#5","title":"5\u3001 \u200b\u6d4b\u8bd5\u200b\u662f\u5426\u200b\u8fde\u63a5\u200b\u6210\u529f","text":"<p>\u200b\u7531\u4e8e\u200b\u6bcf\u4e2a\u200b\u6258\u7ba1\u5546\u200b\u7684\u200b\u4ed3\u5e93\u200b\u90fd\u200b\u6709\u200b\u552f\u4e00\u200b\u7684\u200b\u540e\u7f00\u200b\uff0c\u200b\u6bd4\u5982\u200b Github \u200b\u7684\u200b\u662f\u200b git@github.com:*\u3002 \u200b\u6240\u4ee5\u200b\u53ef\u4ee5\u200b\u8fd9\u6837\u200b\u6d4b\u8bd5\u200b\uff1a ssh -T git@github.com \u200b\u800c\u200b gitlab \u200b\u7684\u200b\u53ef\u4ee5\u200b\u8fd9\u6837\u200b\u6d4b\u8bd5\u200b\uff1a ssh -T git@gitlab.corp.xyz.com \u200b\u5982\u679c\u200b\u80fd\u200b\u770b\u5230\u200b\u4e00\u4e9b\u200b Welcome \u200b\u4fe1\u606f\u200b\uff0c\u200b\u8bf4\u660e\u200b\u5c31\u662f\u200b OK \u200b\u7684\u200b\u4e86\u200b</p> <ul> <li>ssh -T git@github.com</li> <li>ssh -T git@gitlab.com</li> <li>ssh -T git@gitee.com <pre><code>(base) PS C:\\Users\\jhc142.JSHCBD\\.ssh&gt; ssh -T git@git.jshcbd.com.cn\nWelcome to GitLab, @sswang!\n(base) PS C:\\Users\\jhc142.JSHCBD\\.ssh&gt; ssh -T git@gitee.com\nHi sswfive(@sswfive)! You've successfully authenticated, but GITEE.COM does not provide shell access.\n(base) PS C:\\Users\\jhc142.JSHCBD\\.ssh&gt; ssh -T git@github.com\nHi sswfive! You've successfully authenticated, but GitHub does not provide shell access.\n</code></pre></li> </ul>","tags":["Git"]},{"location":"tag/","title":"Tags","text":"<p>Tip</p> <p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u76f8\u5173\u200b\u6807\u7b7e\u200b\u7684\u200b\u5217\u8868\u200b</p>"},{"location":"tag/#bug","title":"Bug","text":"<ul> <li>Conda\u200b\u4fee\u6539\u200b\u865a\u62df\u73af\u5883\u200b\u540d\u200b\u5bfc\u81f4\u200b\u5f02\u5e38\u200b</li> <li>Jupyter\u200b\u8fd0\u884c\u200basyncio run\u200b\u62a5\u9519\u200b</li> <li>Jupyter matplotlib\u200b\u753b\u56fe\u200b\u4e2d\u6587\u5b57\u4f53\u200b\u7f3a\u5931\u200b</li> <li>Jupyterhub\u200b\u79bb\u7ebf\u200b\u90e8\u7f72\u200b\u8e29\u200b\u5751\u200b\u603b\u7ed3\u200b</li> <li>\u200b\u591a\u200b\u8bed\u8a00\u200b\u4e4b\u95f4\u200b\u7684\u200bRSA\u200b\u52a0\u89e3\u5bc6\u200b\u95ee\u9898\u200b</li> <li>window\u200b\u73af\u5883\u200b\u4e2d\u200bpip\u200b\u5b89\u88c5\u200b\u62a5\u9519\u200b</li> </ul>"},{"location":"tag/#django","title":"Django","text":"<ul> <li>django\u200b\u6e90\u7801\u200b\u5b66\u4e60\u200b\u4e4b\u200bLazyObject</li> <li>django\u200b\u4e2d\u200bORM\u200b\u5b57\u200b\u6bb5\u200b\u603b\u7ed3\u200b</li> <li>django\u200b\u4e2d\u200bORM\u200b\u67e5\u8be2\u65b9\u6cd5\u200b\u603b\u7ed3\u200b</li> </ul>"},{"location":"tag/#git","title":"Git","text":"<ul> <li>git\u200b\u540c\u65f6\u200b\u914d\u7f6e\u200b\u591a\u4e2a\u200b\u5e73\u53f0\u200b\u7684\u200bSSH</li> </ul>"},{"location":"tag/#python","title":"Python","text":"<ul> <li>Python \u200b\u7f16\u7801\u200b\u89c4\u8303\u200b</li> <li>Python\u200b\u5e38\u7528\u200b\u5f00\u53d1\u5de5\u5177\u200b\u6c47\u603b\u200b</li> <li>Python\u200b\u7248\u672c\u200b\u53ca\u5305\u200b\u7ba1\u7406\u5de5\u5177\u200b\u9009\u578b\u200b</li> <li>\u200b\u5e38\u7528\u200bPypi\u200b\u6e90\u200b\u6c47\u603b\u200b\u53ca\u200b\u4f7f\u7528\u200b</li> <li>Python\u200b\u6bcf\u65e5\u200b\u4e00\u5e93\u200b\u603b\u89c8\u200b</li> <li>Python \u200b\u5e38\u7528\u200b\u5e93\u200b\u6c47\u603b\u200b</li> <li>APScheduler -&gt; \u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u200b\u5de5\u5177\u200b</li> <li>MLflow-&gt; \u200b\u6a21\u578b\u200b\u751f\u547d\u5468\u671f\u200b\u7ba1\u7406\u200b</li> <li>Numpy -&gt; \u200b\u6570\u636e\u5206\u6790\u200b\u5de5\u5177\u200b</li> <li>Pandas -&gt; \u200b\u6570\u636e\u5206\u6790\u200b\u5de5\u5177\u200b</li> <li>PyFlink -&gt; \u200b\u5206\u5e03\u5f0f\u8ba1\u7b97\u200b</li> <li>Supervisor -&gt; \u200b\u8fdb\u7a0b\u200b\u7ba1\u7406\u5de5\u5177\u200b</li> <li>pathlib\u200b\u4e4b\u200b\u4f7f\u7528\u200b\u9762\u5411\u5bf9\u8c61\u200b\u7684\u200b\u65b9\u5f0f\u200b\u64cd\u4f5c\u200b\u8def\u5f84\u200b</li> <li>subprocess -&gt; \u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u7ba1\u7406\u200b</li> <li>django\u200b\u6e90\u7801\u200b\u5b66\u4e60\u200b\u4e4b\u200bLazyObject</li> <li>django\u200b\u4e2d\u200bORM\u200b\u5b57\u200b\u6bb5\u200b\u603b\u7ed3\u200b</li> <li>django\u200b\u4e2d\u200bORM\u200b\u67e5\u8be2\u65b9\u6cd5\u200b\u603b\u7ed3\u200b</li> </ul>"},{"location":"tag/#_1","title":"\u8bbe\u8ba1\u6a21\u5f0f","text":"<ul> <li>\u200b\u8bbe\u8ba1\u6a21\u5f0f\u200b\u5206\u7c7b\u200b</li> <li>\u200b\u9762\u5411\u5bf9\u8c61\u200b\u7684\u200b\u4e94\u5927\u200b\u57fa\u672c\u200b\u539f\u5219\u200b</li> </ul>"},{"location":"tag/#_2","title":"\u8fd0\u7ef4\u200b\u624b\u8bb0","text":"<ul> <li>Centos\u200b\u7684\u200byum\u200b\u6e90\u200b\u8bef\u5220\u200b\u89e3\u51b3\u200b\u65b9\u6cd5\u200b</li> <li>Mac\u200b\u4f7f\u7528\u200bbrew services\u200b\u62a5\u9519\u200b</li> <li>\u200b\u670d\u52a1\u5668\u200b\u78c1\u76d8\u7a7a\u95f4\u200b\u6ee1\u200b\u7684\u200b\u89e3\u51b3\u529e\u6cd5\u200b</li> <li>win10\u200b\u7684\u200bcmd\u200b\u4e2d\u200b\u64cd\u4f5c\u200bgit\u200b\u4e2d\u6587\u200b\u4e71\u7801\u200b\u89e3\u51b3\u200b\u65b9\u6cd5\u200b</li> </ul>"}]}